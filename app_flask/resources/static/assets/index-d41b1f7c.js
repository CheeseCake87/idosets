(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const Oa=(i,t)=>i===t,Jt=Symbol("solid-proxy"),Hn=Symbol("solid-track"),qi={equals:Oa};let mr=vr;const be=1,Gi=2,br={owned:null,cleanups:null,context:null,owner:null},Cn={};var at=null;let Mn=null,La=null,gt=null,Rt=null,pe=null,dn=0;function ci(i,t){const e=gt,n=at,s=i.length===0,o=t===void 0?n:t,r=s?br:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=s?i:()=>i(()=>Wt(()=>gn(r)));at=r,gt=null;try{return ne(a,!0)}finally{gt=e,at=n}}function R(i,t){t=t?Object.assign({},qi,t):qi;const e={value:i,observers:null,observerSlots:null,comparator:t.equals||void 0},n=s=>(typeof s=="function"&&(s=s(e.value)),yr(e,s));return[xr.bind(e),n]}function Os(i,t,e){const n=fn(i,t,!0,be);Ze(n)}function ut(i,t,e){const n=fn(i,t,!1,be);Ze(n)}function It(i,t,e){mr=Wa;const n=fn(i,t,!1,be);(!e||!e.render)&&(n.user=!0),pe?pe.push(n):Ze(n)}function W(i,t,e){e=e?Object.assign({},qi,e):qi;const n=fn(i,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=e.equals||void 0,Ze(n),xr.bind(n)}function Ta(i){return i&&typeof i=="object"&&"then"in i}function Zi(i,t,e){let n,s,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,s=i,o=t||{}):(n=i,s=t,o=e||{});let r=null,a=Cn,l=!1,c="initialValue"in o,h=typeof n=="function"&&W(n);const u=new Set,[d,g]=(o.storage||R)(o.initialValue),[f,p]=R(void 0),[m,b]=R(void 0,{equals:!1}),[_,w]=R(c?"ready":"unresolved");function y(k,A,C,P){return r===k&&(r=null,P!==void 0&&(c=!0),(k===a||A===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(P,{value:A})),a=Cn,x(A,C)),A}function x(k,A){ne(()=>{A===void 0&&g(()=>k),w(A!==void 0?"errored":c?"ready":"unresolved"),p(A);for(const C of u.keys())C.decrement();u.clear()},!1)}function D(){const k=za,A=d(),C=f();if(C!==void 0&&!r)throw C;return gt&&!gt.user&&k&&Os(()=>{m(),r&&(k.resolved||u.has(k)||(k.increment(),u.add(k)))}),A}function S(k=!0){if(k!==!1&&l)return;l=!1;const A=h?h():n;if(A==null||A===!1){y(r,Wt(d));return}const C=a!==Cn?a:Wt(()=>s(A,{value:d(),refetching:k}));return Ta(C)?(r=C,"value"in C?(C.status==="success"?y(r,C.value,void 0,A):y(r,void 0,void 0,A),C):(l=!0,queueMicrotask(()=>l=!1),ne(()=>{w(c?"refreshing":"pending"),b()},!1),C.then(P=>y(C,P,void 0,A),P=>y(C,void 0,kr(P),A)))):(y(r,C,void 0,A),C)}return Object.defineProperties(D,{state:{get:()=>_()},error:{get:()=>f()},loading:{get(){const k=_();return k==="pending"||k==="refreshing"}},latest:{get(){if(!c)return D();const k=f();if(k&&!r)throw k;return d()}}}),h?Os(()=>S(!1)):S(!1),[D,{refetch:S,mutate:g}]}function Ea(i){return ne(i,!1)}function Wt(i){if(gt===null)return i();const t=gt;gt=null;try{return i()}finally{gt=t}}function _r(i,t,e){const n=Array.isArray(i);let s,o=e&&e.defer;return r=>{let a;if(n){a=Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[c]()}else a=i();if(o){o=!1;return}const l=Wt(()=>t(a,s,r));return s=a,l}}function Te(i){It(()=>Wt(i))}function cs(i){return at===null||(at.cleanups===null?at.cleanups=[i]:at.cleanups.push(i)),i}function Yn(){return gt}function Ra(){return at}function Ia(i,t){const e=at,n=gt;at=i,gt=null;try{return ne(t,!0)}catch(s){ds(s)}finally{at=e,gt=n}}function Fa(i){const t=gt,e=at;return Promise.resolve().then(()=>{gt=t,at=e;let n;return ne(i,!1),gt=at=null,n?n.done:void 0})}function hs(i,t){const e=Symbol("context");return{id:e,Provider:ja(e),defaultValue:i}}function Ut(i){return at&&at.context&&at.context[i.id]!==void 0?at.context[i.id]:i.defaultValue}function us(i){const t=W(i),e=W(()=>Un(t()));return e.toArray=()=>{const n=e();return Array.isArray(n)?n:n!=null?[n]:[]},e}let za;function xr(){if(this.sources&&this.state)if(this.state===be)Ze(this);else{const i=Rt;Rt=null,ne(()=>Qi(this),!1),Rt=i}if(gt){const i=this.observers?this.observers.length:0;gt.sources?(gt.sources.push(this),gt.sourceSlots.push(i)):(gt.sources=[this],gt.sourceSlots=[i]),this.observers?(this.observers.push(gt),this.observerSlots.push(gt.sources.length-1)):(this.observers=[gt],this.observerSlots=[gt.sources.length-1])}return this.value}function yr(i,t,e){let n=i.value;return(!i.comparator||!i.comparator(n,t))&&(i.value=t,i.observers&&i.observers.length&&ne(()=>{for(let s=0;s<i.observers.length;s+=1){const o=i.observers[s],r=Mn&&Mn.running;r&&Mn.disposed.has(o),(r?!o.tState:!o.state)&&(o.pure?Rt.push(o):pe.push(o),o.observers&&wr(o)),r||(o.state=be)}if(Rt.length>1e6)throw Rt=[],new Error},!1)),t}function Ze(i){if(!i.fn)return;gn(i);const t=dn;Ba(i,i.value,t)}function Ba(i,t,e){let n;const s=at,o=gt;gt=at=i;try{n=i.fn(t)}catch(r){return i.pure&&(i.state=be,i.owned&&i.owned.forEach(gn),i.owned=null),i.updatedAt=e+1,ds(r)}finally{gt=o,at=s}(!i.updatedAt||i.updatedAt<=e)&&(i.updatedAt!=null&&"observers"in i?yr(i,n):i.value=n,i.updatedAt=e)}function fn(i,t,e,n=be,s){const o={fn:i,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:at,context:at?at.context:null,pure:e};return at===null||at!==br&&(at.owned?at.owned.push(o):at.owned=[o]),o}function Ji(i){if(i.state===0)return;if(i.state===Gi)return Qi(i);if(i.suspense&&Wt(i.suspense.inFallback))return i.suspense.effects.push(i);const t=[i];for(;(i=i.owner)&&(!i.updatedAt||i.updatedAt<dn);)i.state&&t.push(i);for(let e=t.length-1;e>=0;e--)if(i=t[e],i.state===be)Ze(i);else if(i.state===Gi){const n=Rt;Rt=null,ne(()=>Qi(i,t[0]),!1),Rt=n}}function ne(i,t){if(Rt)return i();let e=!1;t||(Rt=[]),pe?e=!0:pe=[],dn++;try{const n=i();return Na(e),n}catch(n){e||(pe=null),Rt=null,ds(n)}}function Na(i){if(Rt&&(vr(Rt),Rt=null),i)return;const t=pe;pe=null,t.length&&ne(()=>mr(t),!1)}function vr(i){for(let t=0;t<i.length;t++)Ji(i[t])}function Wa(i){let t,e=0;for(t=0;t<i.length;t++){const n=i[t];n.user?i[e++]=n:Ji(n)}for(t=0;t<e;t++)Ji(i[t])}function Qi(i,t){i.state=0;for(let e=0;e<i.sources.length;e+=1){const n=i.sources[e];if(n.sources){const s=n.state;s===be?n!==t&&(!n.updatedAt||n.updatedAt<dn)&&Ji(n):s===Gi&&Qi(n,t)}}}function wr(i){for(let t=0;t<i.observers.length;t+=1){const e=i.observers[t];e.state||(e.state=Gi,e.pure?Rt.push(e):pe.push(e),e.observers&&wr(e))}}function gn(i){let t;if(i.sources)for(;i.sources.length;){const e=i.sources.pop(),n=i.sourceSlots.pop(),s=e.observers;if(s&&s.length){const o=s.pop(),r=e.observerSlots.pop();n<s.length&&(o.sourceSlots[r]=n,s[n]=o,e.observerSlots[n]=r)}}if(i.owned){for(t=i.owned.length-1;t>=0;t--)gn(i.owned[t]);i.owned=null}if(i.cleanups){for(t=i.cleanups.length-1;t>=0;t--)i.cleanups[t]();i.cleanups=null}i.state=0}function kr(i){return i instanceof Error?i:new Error(typeof i=="string"?i:"Unknown error",{cause:i})}function ds(i,t=at){throw kr(i)}function Un(i){if(typeof i=="function"&&!i.length)return Un(i());if(Array.isArray(i)){const t=[];for(let e=0;e<i.length;e++){const n=Un(i[e]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return i}function ja(i,t){return function(n){let s;return ut(()=>s=Wt(()=>(at.context={...at.context,[i]:n.value},us(()=>n.children))),void 0),s}}const Va=Symbol("fallback");function Ls(i){for(let t=0;t<i.length;t++)i[t]()}function Ha(i,t,e={}){let n=[],s=[],o=[],r=0,a=t.length>1?[]:null;return cs(()=>Ls(o)),()=>{let l=i()||[],c,h;return l[Hn],Wt(()=>{let d=l.length,g,f,p,m,b,_,w,y,x;if(d===0)r!==0&&(Ls(o),o=[],n=[],s=[],r=0,a&&(a=[])),e.fallback&&(n=[Va],s[0]=ci(D=>(o[0]=D,e.fallback())),r=1);else if(r===0){for(s=new Array(d),h=0;h<d;h++)n[h]=l[h],s[h]=ci(u);r=d}else{for(p=new Array(d),m=new Array(d),a&&(b=new Array(d)),_=0,w=Math.min(r,d);_<w&&n[_]===l[_];_++);for(w=r-1,y=d-1;w>=_&&y>=_&&n[w]===l[y];w--,y--)p[y]=s[w],m[y]=o[w],a&&(b[y]=a[w]);for(g=new Map,f=new Array(y+1),h=y;h>=_;h--)x=l[h],c=g.get(x),f[h]=c===void 0?-1:c,g.set(x,h);for(c=_;c<=w;c++)x=n[c],h=g.get(x),h!==void 0&&h!==-1?(p[h]=s[c],m[h]=o[c],a&&(b[h]=a[c]),h=f[h],g.set(x,h)):o[c]();for(h=_;h<d;h++)h in p?(s[h]=p[h],o[h]=m[h],a&&(a[h]=b[h],a[h](h))):s[h]=ci(u);s=s.slice(0,r=d),n=l.slice(0)}return s});function u(d){if(o[h]=d,a){const[g,f]=R(h);return a[h]=f,t(l[h],g)}return t(l[h])}}}function v(i,t){return Wt(()=>i(t||{}))}function Di(){return!0}const Xn={get(i,t,e){return t===Jt?e:i.get(t)},has(i,t){return t===Jt?!0:i.has(t)},set:Di,deleteProperty:Di,getOwnPropertyDescriptor(i,t){return{configurable:!0,enumerable:!0,get(){return i.get(t)},set:Di,deleteProperty:Di}},ownKeys(i){return i.keys()}};function Pn(i){return(i=typeof i=="function"?i():i)?i:{}}function Ya(){for(let i=0,t=this.length;i<t;++i){const e=this[i]();if(e!==void 0)return e}}function Kn(...i){let t=!1;for(let r=0;r<i.length;r++){const a=i[r];t=t||!!a&&Jt in a,i[r]=typeof a=="function"?(t=!0,W(a)):a}if(t)return new Proxy({get(r){for(let a=i.length-1;a>=0;a--){const l=Pn(i[a])[r];if(l!==void 0)return l}},has(r){for(let a=i.length-1;a>=0;a--)if(r in Pn(i[a]))return!0;return!1},keys(){const r=[];for(let a=0;a<i.length;a++)r.push(...Object.keys(Pn(i[a])));return[...new Set(r)]}},Xn);const e={},n=Object.create(null);for(let r=i.length-1;r>=0;r--){const a=i[r];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const h=l[c];if(h==="__proto__"||h==="constructor")continue;const u=Object.getOwnPropertyDescriptor(a,h);if(!n[h])n[h]=u.get?{enumerable:!0,configurable:!0,get:Ya.bind(e[h]=[u.get.bind(a)])}:u.value!==void 0?u:void 0;else{const d=e[h];d&&(u.get?d.push(u.get.bind(a)):u.value!==void 0&&d.push(()=>u.value))}}}const s={},o=Object.keys(n);for(let r=o.length-1;r>=0;r--){const a=o[r],l=n[a];l&&l.get?Object.defineProperty(s,a,l):s[a]=l?l.value:void 0}return s}function Ua(i,...t){if(Jt in i){const s=new Set(t.length>1?t.flat():t[0]),o=t.map(r=>new Proxy({get(a){return r.includes(a)?i[a]:void 0},has(a){return r.includes(a)&&a in i},keys(){return r.filter(a=>a in i)}},Xn));return o.push(new Proxy({get(r){return s.has(r)?void 0:i[r]},has(r){return s.has(r)?!1:r in i},keys(){return Object.keys(i).filter(r=>!s.has(r))}},Xn)),o}const e={},n=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(i)){const o=Object.getOwnPropertyDescriptor(i,s),r=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(s)&&(a=!0,r?n[l][s]=o.value:Object.defineProperty(n[l],s,o)),++l;a||(r?e[s]=o.value:Object.defineProperty(e,s,o))}return[...n,e]}const Xa=i=>`Stale read from <${i}>.`;function Ue(i){const t="fallback"in i&&{fallback:()=>i.fallback};return W(Ha(()=>i.each,i.children,t||void 0))}function z(i){const t=i.keyed,e=W(()=>i.when,void 0,{equals:(n,s)=>t?n===s:!n==!s});return W(()=>{const n=e();if(n){const s=i.children;return typeof s=="function"&&s.length>0?Wt(()=>s(t?n:()=>{if(!Wt(e))throw Xa("Show");return i.when})):s}return i.fallback},void 0,void 0)}const Ka=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],qa=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ka]),Ga=new Set(["innerHTML","textContent","innerText","children"]),Za=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ja=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Qa(i,t){const e=Ja[i];return typeof e=="object"?e[t]?e.$:void 0:e}const tl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),el={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function il(i,t,e){let n=e.length,s=t.length,o=n,r=0,a=0,l=t[s-1].nextSibling,c=null;for(;r<s||a<o;){if(t[r]===e[a]){r++,a++;continue}for(;t[s-1]===e[o-1];)s--,o--;if(s===r){const h=o<n?a?e[a-1].nextSibling:e[o-a]:l;for(;a<o;)i.insertBefore(e[a++],h)}else if(o===a)for(;r<s;)(!c||!c.has(t[r]))&&t[r].remove(),r++;else if(t[r]===e[o-1]&&e[a]===t[s-1]){const h=t[--s].nextSibling;i.insertBefore(e[a++],t[r++].nextSibling),i.insertBefore(e[--o],h),t[s]=e[o]}else{if(!c){c=new Map;let u=a;for(;u<o;)c.set(e[u],u++)}const h=c.get(t[r]);if(h!=null)if(a<h&&h<o){let u=r,d=1,g;for(;++u<s&&u<o&&!((g=c.get(t[u]))==null||g!==h+d);)d++;if(d>h-a){const f=t[r];for(;a<h;)i.insertBefore(e[a++],f)}else i.replaceChild(e[a++],t[r++])}else r++;else t[r++].remove()}}}const Ts="_$DX_DELEGATE";function nl(i,t,e,n={}){let s;return ci(o=>{s=o,t===document?i():$(t,i(),t.firstChild?null:void 0,e)},n.owner),()=>{s(),t.textContent=""}}function M(i,t,e){let n;const s=()=>{const r=document.createElement("template");return r.innerHTML=i,e?r.content.firstChild.firstChild:r.content.firstChild},o=t?()=>Wt(()=>document.importNode(n||(n=s()),!0)):()=>(n||(n=s())).cloneNode(!0);return o.cloneNode=o,o}function Xt(i,t=window.document){const e=t[Ts]||(t[Ts]=new Set);for(let n=0,s=i.length;n<s;n++){const o=i[n];e.has(o)||(e.add(o),t.addEventListener(o,dl))}}function Pt(i,t,e){e==null?i.removeAttribute(t):i.setAttribute(t,e)}function sl(i,t,e,n){n==null?i.removeAttributeNS(t,e):i.setAttributeNS(t,e,n)}function ol(i,t){t==null?i.removeAttribute("class"):i.className=t}function rl(i,t,e,n){if(n)Array.isArray(e)?(i[`$$${t}`]=e[0],i[`$$${t}Data`]=e[1]):i[`$$${t}`]=e;else if(Array.isArray(e)){const s=e[0];i.addEventListener(t,e[0]=o=>s.call(i,e[1],o))}else i.addEventListener(t,e)}function al(i,t,e={}){const n=Object.keys(t||{}),s=Object.keys(e);let o,r;for(o=0,r=s.length;o<r;o++){const a=s[o];!a||a==="undefined"||t[a]||(Es(i,a,!1),delete e[a])}for(o=0,r=n.length;o<r;o++){const a=n[o],l=!!t[a];!a||a==="undefined"||e[a]===l||!l||(Es(i,a,!0),e[a]=l)}return e}function ll(i,t,e){if(!t)return e?Pt(i,"style"):t;const n=i.style;if(typeof t=="string")return n.cssText=t;typeof e=="string"&&(n.cssText=e=void 0),e||(e={}),t||(t={});let s,o;for(o in e)t[o]==null&&n.removeProperty(o),delete e[o];for(o in t)s=t[o],s!==e[o]&&(n.setProperty(o,s),e[o]=s);return e}function cl(i,t={},e,n){const s={};return n||ut(()=>s.children=Xe(i,t.children,s.children)),ut(()=>t.ref&&t.ref(i)),ut(()=>hl(i,t,e,!0,s,!0)),s}function $(i,t,e,n){if(e!==void 0&&!n&&(n=[]),typeof t!="function")return Xe(i,t,n,e);ut(s=>Xe(i,t(),s,e),n)}function hl(i,t,e,n,s={},o=!1){t||(t={});for(const r in s)if(!(r in t)){if(r==="children")continue;s[r]=Rs(i,r,null,s[r],e,o)}for(const r in t){if(r==="children"){n||Xe(i,t.children);continue}const a=t[r];s[r]=Rs(i,r,a,s[r],e,o)}}function ul(i){return i.toLowerCase().replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function Es(i,t,e){const n=t.trim().split(/\s+/);for(let s=0,o=n.length;s<o;s++)i.classList.toggle(n[s],e)}function Rs(i,t,e,n,s,o){let r,a,l,c,h;if(t==="style")return ll(i,e,n);if(t==="classList")return al(i,e,n);if(e===n)return n;if(t==="ref")o||e(i);else if(t.slice(0,3)==="on:"){const u=t.slice(3);n&&i.removeEventListener(u,n),e&&i.addEventListener(u,e)}else if(t.slice(0,10)==="oncapture:"){const u=t.slice(10);n&&i.removeEventListener(u,n,!0),e&&i.addEventListener(u,e,!0)}else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),d=tl.has(u);if(!d&&n){const g=Array.isArray(n)?n[0]:n;i.removeEventListener(u,g)}(d||e)&&(rl(i,u,e,d),d&&Xt([u]))}else if(t.slice(0,5)==="attr:")Pt(i,t.slice(5),e);else if((h=t.slice(0,5)==="prop:")||(l=Ga.has(t))||!s&&((c=Qa(t,i.tagName))||(a=qa.has(t)))||(r=i.nodeName.includes("-")))h&&(t=t.slice(5),a=!0),t==="class"||t==="className"?ol(i,e):r&&!a&&!l?i[ul(t)]=e:i[c||t]=e;else{const u=s&&t.indexOf(":")>-1&&el[t.split(":")[0]];u?sl(i,u,t,e):Pt(i,Za[t]||t,e)}return e}function dl(i){const t=`$$${i.type}`;let e=i.composedPath&&i.composedPath()[0]||i.target;for(i.target!==e&&Object.defineProperty(i,"target",{configurable:!0,value:e}),Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return e||document}});e;){const n=e[t];if(n&&!e.disabled){const s=e[`${t}Data`];if(s!==void 0?n.call(e,s,i):n.call(e,i),i.cancelBubble)return}e=e._$host||e.parentNode||e.host}}function Xe(i,t,e,n,s){for(;typeof e=="function";)e=e();if(t===e)return e;const o=typeof t,r=n!==void 0;if(i=r&&e[0]&&e[0].parentNode||i,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),r){let a=e[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),e=Ne(i,e,n,a)}else e!==""&&typeof e=="string"?e=i.firstChild.data=t:e=i.textContent=t;else if(t==null||o==="boolean")e=Ne(i,e,n);else{if(o==="function")return ut(()=>{let a=t();for(;typeof a=="function";)a=a();e=Xe(i,a,e,n)}),()=>e;if(Array.isArray(t)){const a=[],l=e&&Array.isArray(e);if(qn(a,t,e,s))return ut(()=>e=Xe(i,a,e,n,!0)),()=>e;if(a.length===0){if(e=Ne(i,e,n),r)return e}else l?e.length===0?Is(i,a,n):il(i,e,a):(e&&Ne(i),Is(i,a));e=a}else if(t.nodeType){if(Array.isArray(e)){if(r)return e=Ne(i,e,n,t);Ne(i,e,null,t)}else e==null||e===""||!i.firstChild?i.appendChild(t):i.replaceChild(t,i.firstChild);e=t}}return e}function qn(i,t,e,n){let s=!1;for(let o=0,r=t.length;o<r;o++){let a=t[o],l=e&&e[i.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)i.push(a);else if(Array.isArray(a))s=qn(i,a,l)||s;else if(c==="function")if(n){for(;typeof a=="function";)a=a();s=qn(i,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else i.push(a),s=!0;else{const h=String(a);l&&l.nodeType===3&&l.data===h?i.push(l):i.push(document.createTextNode(h))}}return s}function Is(i,t,e=null){for(let n=0,s=t.length;n<s;n++)i.insertBefore(t[n],e)}function Ne(i,t,e,n){if(e===void 0)return i.textContent="";const s=n||document.createTextNode("");if(t.length){let o=!1;for(let r=t.length-1;r>=0;r--){const a=t[r];if(s!==a){const l=a.parentNode===i;!o&&!r?l?i.replaceChild(s,a):i.insertBefore(s,e):l&&a.remove()}else o=!0}}else i.insertBefore(s,e);return[s]}const fl=!1;function gl(i,t,e){return i.addEventListener(t,e),()=>i.removeEventListener(t,e)}function pl([i,t],e,n){return[e?()=>e(i()):i,n?s=>t(n(s)):t]}function ml(i){if(i==="#")return null;try{return document.querySelector(i)}catch{return null}}function bl(i,t){const e=ml(`#${i}`);e?e.scrollIntoView():t&&window.scrollTo(0,0)}function _l(i,t,e,n){let s=!1;const o=a=>typeof a=="string"?{value:a}:a,r=pl(R(o(i()),{equals:(a,l)=>a.value===l.value}),void 0,a=>(!s&&t(a),a));return e&&cs(e((a=i())=>{s=!0,r[1](o(a)),s=!1})),{signal:r,utils:n}}function xl(i){if(i){if(Array.isArray(i))return{signal:i}}else return{signal:R({value:""})};return i}function yl(){return _l(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:i,replace:t,scroll:e,state:n})=>{t?window.history.replaceState(n,"",i):window.history.pushState(n,"",i),bl(window.location.hash.slice(1),e)},i=>gl(window,"popstate",()=>i()),{go:i=>window.history.go(i)})}function vl(){let i=new Set;function t(s){return i.add(s),()=>i.delete(s)}let e=!1;function n(s,o){if(e)return!(e=!1);const r={to:s,options:o,defaultPrevented:!1,preventDefault:()=>r.defaultPrevented=!0};for(const a of i)a.listener({...r,from:a.location,retry:l=>{l&&(e=!0),a.navigate(s,o)}});return!r.defaultPrevented}return{subscribe:t,confirm:n}}const wl=/^(?:[a-z0-9]+:)?\/\//i,kl=/^\/+|(\/)\/+$/g;function Ee(i,t=!1){const e=i.replace(kl,"$1");return e?t||/^[?#]/.test(e)?e:"/"+e:""}function Ui(i,t,e){if(wl.test(t))return;const n=Ee(i),s=e&&Ee(e);let o="";return!s||t.startsWith("/")?o=n:s.toLowerCase().indexOf(n.toLowerCase())!==0?o=n+s:o=s,(o||"/")+Ee(t,!o)}function $l(i,t){if(i==null)throw new Error(t);return i}function $r(i,t){return Ee(i).replace(/\/*(\*.*)?$/g,"")+Ee(t)}function Sl(i){const t={};return i.searchParams.forEach((e,n)=>{t[n]=e}),t}function Cl(i,t,e){const[n,s]=i.split("/*",2),o=n.split("/").filter(Boolean),r=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-r;if(c<0||c>0&&s===void 0&&!t)return null;const h={path:r?"":"/",params:{}},u=d=>e===void 0?void 0:e[d];for(let d=0;d<r;d++){const g=o[d],f=l[d],p=g[0]===":",m=p?g.slice(1):g;if(p&&An(f,u(m)))h.params[m]=f;else if(p||!An(f,g))return null;h.path+=`/${f}`}if(s){const d=c?l.slice(-c).join("/"):"";if(An(d,u(s)))h.params[s]=d;else return null}return h}}function An(i,t){const e=n=>n.localeCompare(i,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?e(t):typeof t=="function"?t(i):Array.isArray(t)?t.some(e):t instanceof RegExp?t.test(i):!1}function Ml(i){const[t,e]=i.pattern.split("/*",2),n=t.split("/").filter(Boolean);return n.reduce((s,o)=>s+(o.startsWith(":")?2:3),n.length-(e===void 0?0:1))}function Sr(i){const t=new Map,e=Ra();return new Proxy({},{get(n,s){return t.has(s)||Ia(e,()=>t.set(s,W(()=>i()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(i())}})}function Cr(i){let t=/(\/?\:[^\/]+)\?/.exec(i);if(!t)return[i];let e=i.slice(0,t.index),n=i.slice(t.index+t[0].length);const s=[e,e+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(n);)s.push(e+=t[1]),n=n.slice(t[0].length);return Cr(n).reduce((o,r)=>[...o,...s.map(a=>a+r)],[])}const Pl=100,Mr=hs(),pn=hs(),Si=()=>$l(Ut(Mr),"Make sure your app is wrapped in a <Router />");let pi;const mn=()=>pi||Ut(pn)||Si().base,Al=i=>{const t=mn();return W(()=>t.resolvePath(i()))},Dl=i=>{const t=Si();return W(()=>{const e=i();return e!==void 0?t.renderPath(e):e})},se=()=>Si().navigatorFactory(),bn=()=>Si().location,Je=()=>mn().params;function Ol(i,t="",e){const{component:n,data:s,children:o}=i,r=!o||Array.isArray(o)&&!o.length,a={key:i,element:n?()=>v(n,{}):()=>{const{element:l}=i;return l===void 0&&e?v(e,{}):l},preload:i.component?n.preload:i.preload,data:s};return Pr(i.path).reduce((l,c)=>{for(const h of Cr(c)){const u=$r(t,h),d=r?u:u.split("/*",1)[0];l.push({...a,originalPath:h,pattern:d,matcher:Cl(d,!r,i.matchFilters)})}return l},[])}function Ll(i,t=0){return{routes:i,score:Ml(i[i.length-1])*1e4-t,matcher(e){const n=[];for(let s=i.length-1;s>=0;s--){const o=i[s],r=o.matcher(e);if(!r)return null;n.unshift({...r,route:o})}return n}}}function Pr(i){return Array.isArray(i)?i:[i]}function Ar(i,t="",e,n=[],s=[]){const o=Pr(i);for(let r=0,a=o.length;r<a;r++){const l=o[r];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const c=Ol(l,t,e);for(const h of c){n.push(h);const u=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!u)Ar(l.children,h.pattern,e,n,s);else{const d=Ll([...n],s.length);s.push(d)}n.pop()}}}return n.length?s:s.sort((r,a)=>a.score-r.score)}function Tl(i,t){for(let e=0,n=i.length;e<n;e++){const s=i[e].matcher(t);if(s)return s}return[]}function El(i,t){const e=new URL("http://sar"),n=W(l=>{const c=i();try{return new URL(c,e)}catch{return console.error(`Invalid path ${c}`),l}},e,{equals:(l,c)=>l.href===c.href}),s=W(()=>n().pathname),o=W(()=>n().search,!0),r=W(()=>n().hash),a=W(()=>"");return{get pathname(){return s()},get search(){return o()},get hash(){return r()},get state(){return t()},get key(){return a()},query:Sr(_r(o,()=>Sl(n())))}}function Rl(i,t="",e,n){const{signal:[s,o],utils:r={}}=xl(i),a=r.parsePath||(C=>C),l=r.renderPath||(C=>C),c=r.beforeLeave||vl(),h=Ui("",t),u=void 0;if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!s().value&&o({value:h,replace:!0,scroll:!1});const[d,g]=R(!1),f=async C=>{g(!0);try{await Fa(C)}finally{g(!1)}},[p,m]=R(s().value),[b,_]=R(s().state),w=El(p,b),y=[],x={pattern:h,params:{},path:()=>h,outlet:()=>null,resolvePath(C){return Ui(h,C)}};if(e)try{pi=x,x.data=e({data:void 0,params:{},location:w,navigate:S(x)})}finally{pi=void 0}function D(C,P,O){Wt(()=>{if(typeof P=="number"){P&&(r.go?c.confirm(P,O)&&r.go(P):console.warn("Router integration does not support relative routing"));return}const{replace:F,resolve:Y,scroll:N,state:U}={replace:!1,resolve:!0,scroll:!0,...O},H=Y?C.resolvePath(P):Ui("",P);if(H===void 0)throw new Error(`Path '${P}' is not a routable path`);if(y.length>=Pl)throw new Error("Too many redirects");const Z=p();if((H!==Z||U!==b())&&!fl){if(c.confirm(H,O)){const et=y.push({value:Z,replace:F,scroll:N,state:b()});f(()=>{m(H),_(U)}).then(()=>{y.length===et&&k({value:H,state:U})})}}})}function S(C){return C=C||Ut(pn)||x,(P,O)=>D(C,P,O)}function k(C){const P=y[0];P&&((C.value!==P.value||C.state!==P.state)&&o({...C,replace:P.replace,scroll:P.scroll}),y.length=0)}ut(()=>{const{value:C,state:P}=s();Wt(()=>{C!==p()&&f(()=>{m(C),_(P)})})});{let C=function(P){if(P.defaultPrevented||P.button!==0||P.metaKey||P.altKey||P.ctrlKey||P.shiftKey)return;const O=P.composedPath().find(Z=>Z instanceof Node&&Z.nodeName.toUpperCase()==="A");if(!O||!O.hasAttribute("link"))return;const F=O.href;if(O.target||!F&&!O.hasAttribute("state"))return;const Y=(O.getAttribute("rel")||"").split(/\s+/);if(O.hasAttribute("download")||Y&&Y.includes("external"))return;const N=new URL(F);if(N.origin!==window.location.origin||h&&N.pathname&&!N.pathname.toLowerCase().startsWith(h.toLowerCase()))return;const U=a(N.pathname+N.search+N.hash),H=O.getAttribute("state");P.preventDefault(),D(x,U,{resolve:!1,replace:O.hasAttribute("replace"),scroll:!O.hasAttribute("noscroll"),state:H&&JSON.parse(H)})};var A=C;Xt(["click"]),document.addEventListener("click",C),cs(()=>document.removeEventListener("click",C))}return{base:x,out:u,location:w,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:S,beforeLeave:c}}function Il(i,t,e,n,s){const{base:o,location:r,navigatorFactory:a}=i,{pattern:l,element:c,preload:h,data:u}=n().route,d=W(()=>n().path);h&&h();const g={parent:t,pattern:l,get child(){return e()},path:d,params:s,data:t.data,outlet:c,resolvePath(f){return Ui(o.path(),f,d())}};if(u)try{pi=g,g.data=u({data:t.data,params:s,location:r,navigate:a(g)})}finally{pi=void 0}return g}var Fl=M("<a link>");const zl=i=>{const{source:t,url:e,base:n,data:s,out:o}=i,r=t||yl(),a=Rl(r,n,s);return v(Mr.Provider,{value:a,get children(){return i.children}})},Bl=i=>{const t=Si(),e=mn(),n=us(()=>i.children),s=W(()=>Ar(n(),$r(e.pattern,i.base||""),Gn)),o=W(()=>Tl(s(),t.location.pathname)),r=Sr(()=>{const h=o(),u={};for(let d=0;d<h.length;d++)Object.assign(u,h[d].params);return u});t.out&&t.out.matches.push(o().map(({route:h,path:u,params:d})=>({originalPath:h.originalPath,pattern:h.pattern,path:u,params:d})));const a=[];let l;const c=W(_r(o,(h,u,d)=>{let g=u&&h.length===u.length;const f=[];for(let p=0,m=h.length;p<m;p++){const b=u&&u[p],_=h[p];d&&b&&_.route.key===b.route.key?f[p]=d[p]:(g=!1,a[p]&&a[p](),ci(w=>{a[p]=w,f[p]=Il(t,f[p-1]||e,()=>c()[p+1],()=>o()[p],r)}))}return a.splice(h.length).forEach(p=>p()),d&&g?d:(l=f[0],f)}));return v(z,{get when(){return c()&&l},keyed:!0,children:h=>v(pn.Provider,{value:h,get children(){return h.outlet()}})})},Gt=i=>{const t=us(()=>i.children);return Kn(i,{get children(){return t()}})},Gn=()=>{const i=mn();return v(z,{get when(){return i.child},keyed:!0,children:t=>v(pn.Provider,{value:t,get children(){return t.outlet()}})})};function Nl(i){i=Kn({inactiveClass:"inactive",activeClass:"active"},i);const[,t]=Ua(i,["href","state","class","activeClass","inactiveClass","end"]),e=Al(()=>i.href),n=Dl(e),s=bn(),o=W(()=>{const r=e();if(r===void 0)return!1;const a=Ee(r.split(/[?#]/,1)[0]).toLowerCase(),l=Ee(s.pathname).toLowerCase();return i.end?a===l:l.startsWith(a)});return(()=>{var r=Fl();return cl(r,Kn(t,{get href(){return n()||i.href},get state(){return JSON.stringify(i.state)},get classList(){return{...i.class&&{[i.class]:!0},[i.inactiveClass]:!o(),[i.activeClass]:o(),...t.classList}},get"aria-current"(){return o()?"page":void 0}}),!1,!1),r})()}function Wl(i){const t=se(),e=bn(),{href:n,state:s}=i,o=typeof n=="function"?n({navigate:t,location:e}):n;return t(o,{replace:!0,state:s}),null}const Zn=Symbol("store-raw"),He=Symbol("store-node"),he=Symbol("store-has"),Dr=Symbol("store-self");function Or(i){let t=i[Jt];if(!t&&(Object.defineProperty(i,Jt,{value:t=new Proxy(i,Hl)}),!Array.isArray(i))){const e=Object.keys(i),n=Object.getOwnPropertyDescriptors(i);for(let s=0,o=e.length;s<o;s++){const r=e[s];n[r].get&&Object.defineProperty(i,r,{enumerable:n[r].enumerable,get:n[r].get.bind(t)})}}return t}function tn(i){let t;return i!=null&&typeof i=="object"&&(i[Jt]||!(t=Object.getPrototypeOf(i))||t===Object.prototype||Array.isArray(i))}function mi(i,t=new Set){let e,n,s,o;if(e=i!=null&&i[Zn])return e;if(!tn(i)||t.has(i))return i;if(Array.isArray(i)){Object.isFrozen(i)?i=i.slice(0):t.add(i);for(let r=0,a=i.length;r<a;r++)s=i[r],(n=mi(s,t))!==s&&(i[r]=n)}else{Object.isFrozen(i)?i=Object.assign({},i):t.add(i);const r=Object.keys(i),a=Object.getOwnPropertyDescriptors(i);for(let l=0,c=r.length;l<c;l++)o=r[l],!a[o].get&&(s=i[o],(n=mi(s,t))!==s&&(i[o]=n))}return i}function en(i,t){let e=i[t];return e||Object.defineProperty(i,t,{value:e=Object.create(null)}),e}function bi(i,t,e){if(i[t])return i[t];const[n,s]=R(e,{equals:!1,internal:!0});return n.$=s,i[t]=n}function jl(i,t){const e=Reflect.getOwnPropertyDescriptor(i,t);return!e||e.get||!e.configurable||t===Jt||t===He||(delete e.value,delete e.writable,e.get=()=>i[Jt][t]),e}function Lr(i){Yn()&&bi(en(i,He),Dr)()}function Vl(i){return Lr(i),Reflect.ownKeys(i)}const Hl={get(i,t,e){if(t===Zn)return i;if(t===Jt)return e;if(t===Hn)return Lr(i),e;const n=en(i,He),s=n[t];let o=s?s():i[t];if(t===He||t===he||t==="__proto__")return o;if(!s){const r=Object.getOwnPropertyDescriptor(i,t);Yn()&&(typeof o!="function"||i.hasOwnProperty(t))&&!(r&&r.get)&&(o=bi(n,t,o)())}return tn(o)?Or(o):o},has(i,t){return t===Zn||t===Jt||t===Hn||t===He||t===he||t==="__proto__"?!0:(Yn()&&bi(en(i,he),t)(),t in i)},set(){return!0},deleteProperty(){return!0},ownKeys:Vl,getOwnPropertyDescriptor:jl};function nn(i,t,e,n=!1){if(!n&&i[t]===e)return;const s=i[t],o=i.length;e===void 0?(delete i[t],i[he]&&i[he][t]&&s!==void 0&&i[he][t].$()):(i[t]=e,i[he]&&i[he][t]&&s===void 0&&i[he][t].$());let r=en(i,He),a;if((a=bi(r,t,s))&&a.$(()=>e),Array.isArray(i)&&i.length!==o){for(let l=i.length;l<o;l++)(a=r[l])&&a.$();(a=bi(r,"length",o))&&a.$(i.length)}(a=r[Dr])&&a.$()}function Tr(i,t){const e=Object.keys(t);for(let n=0;n<e.length;n+=1){const s=e[n];nn(i,s,t[s])}}function Yl(i,t){if(typeof t=="function"&&(t=t(i)),t=mi(t),Array.isArray(t)){if(i===t)return;let e=0,n=t.length;for(;e<n;e++){const s=t[e];i[e]!==s&&nn(i,e,s)}nn(i,"length",n)}else Tr(i,t)}function si(i,t,e=[]){let n,s=i;if(t.length>1){n=t.shift();const r=typeof n,a=Array.isArray(i);if(Array.isArray(n)){for(let l=0;l<n.length;l++)si(i,[n[l]].concat(t),e);return}else if(a&&r==="function"){for(let l=0;l<i.length;l++)n(i[l],l)&&si(i,[l].concat(t),e);return}else if(a&&r==="object"){const{from:l=0,to:c=i.length-1,by:h=1}=n;for(let u=l;u<=c;u+=h)si(i,[u].concat(t),e);return}else if(t.length>1){si(i[n],t,[n].concat(e));return}s=i[n],e=[n].concat(e)}let o=t[0];typeof o=="function"&&(o=o(s,e),o===s)||n===void 0&&o==null||(o=mi(o),n===void 0||tn(s)&&tn(o)&&!Array.isArray(o)?Tr(s,o):nn(i,n,o))}function Ul(...[i,t]){const e=mi(i||{}),n=Array.isArray(e),s=Or(e);function o(...r){Ea(()=>{n&&r.length===1?Yl(e,r[0]):si(e,r)})}return[s,o]}var Xl=M('<div class=loading><svg width=24 height=24 stroke=#000 viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>'),Kl=M("<p>"),ql=M('<svg width=14 height=14 stroke=#000 viewBox="0 0 24 24"class=mx-auto xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>');function oe(i){return(()=>{var t=Xl();return t.firstChild,$(t,(()=>{var e=W(()=>!!i.message);return()=>e()?(()=>{var n=Kl();return $(n,()=>i.message),n})():""})(),null),t})()}function Ve(){return ql()}class me{data;refetch;mutate;constructor(t,e){if(typeof t=="function"){const[n,{refetch:s,mutate:o}]=Zi(t);this.data=n,this.refetch=s,this.mutate=o}else{const[n,{refetch:s,mutate:o}]=Zi(t,e);this.data=n,this.refetch=s,this.mutate=o}}get(t){return typeof this.data()=="object"?this.data()[t]:null}}var Gl=M("<div class=pt-20>");const qt=hs();function Zl(i){const t="",[n,s]=R(!0),o=se(),r=bn();async function a(f){const p=new AbortController,m=p.signal,b=setTimeout(()=>{p.abort("fetch timeout"),s(!1)},1e3),_=await fetch(f,{credentials:"include",method:"GET",signal:m});if(_.ok)if(clearTimeout(b),n()||s(!0),_.headers.get("content-type")?.includes("application/json")){const w=await _.json();return w.status==="unauthorized"&&(d("logged_in",!1),d("theme","dark"),d("units","kgs"),d("account_id",0),d("email_address",null)),w}else return{status:"not json"};else return{status:"error"}}async function l(f,p){const m=new AbortController,b=m.signal,_=setTimeout(()=>{m.abort("fetch timeout"),s(!1)},1e3),w=await fetch(f,{credentials:"include",method:"POST",signal:b,headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(w.ok)if(clearTimeout(_),n()||s(!0),w.headers.get("content-type")?.includes("application/json")){const y=await w.json();return y.status==="unauthorized"&&(d("logged_in",!1),d("theme","dark"),d("units","kgs"),d("account_id",0),d("email_address",null)),y}else return{status:"not json"};else return{status:"error"}}async function c(f){const p=new AbortController,m=p.signal,b=setTimeout(()=>{p.abort("fetch timeout"),s(!1)},1e3),_=await fetch(f,{credentials:"include",method:"DELETE",signal:m});if(_.ok)if(clearTimeout(b),n()||s(!0),_.headers.get("content-type")?.includes("application/json")){const w=await _.json();return w.status==="unauthorized"&&(d("logged_in",!1),d("theme","dark"),d("units","kgs"),d("account_id",0),d("email_address",null)),w}else return{status:"not json"};else return{status:"error"}}async function h(){return await a(`${t}/api/auth/session`)}const[u,d]=Ul({system_error:!1,logged_in:!1,theme:"dark",units:"kgs",account_id:0,email_address:"",truncate:(f,p)=>f===void 0?"":f.length>p?f.substring(0,p-1)+"...":f,fancyTimeFormat(f){if(f===void 0||f===0)return"0 secs";const p=~~(f/3600),m=~~(f%3600/60),b=~~f%60;let _="";return p>0&&(_+=""+p+(p>1?" hours ":" hour ")+(m<10,"")),m>0&&(_+=""+m+(m>1?" mins ":" min ")),b>0&&(_+=""+b+" secs "),_},fancyRepFormat(f,p){let m="";return f===p&&(m+=""+f+" reps"),f>0&&p>0&&(m+=""+f+" - "+p+" reps"),f===0&&p>0&&(m+=""+p+" reps"),f>0&&p===0&&(m+=""+f+" reps"),m},gramsToKgs(f){return(f/1e3).toFixed(2)},async fold(f,p){const m=document.getElementById(f),b=document.getElementById(p),_=m.scrollHeight,w=b.scrollHeight;let y=m.style.maxHeight.replace("px","");_===w?D():x();function x(){if(y>=w)return!0;y++,m.style.maxHeight=y+"px",setTimeout(x,.005)}function D(){if(y<=0)return!0;y--,m.style.maxHeight=y+"px",setTimeout(D,.005)}return!0},async getFakeError(){return await a(`${t}/api/fake-error`)},async getTheme(){return await a(`${t}/api/get/theme`)},async setTheme(f){return await a(`${t}/api/set/theme/${f}`)},async setUnits(f){return await a(`${t}/api/set/unit/${f}`)},async tryAuth(f){return await l(`${t}/api/auth`,{account_id:f.account_id,auth_code:f.auth_code})},async tryLogin(f){return await l(`${t}/api/login`,{email_address:f})},async tryLogout(){return await a(`${t}/api/logout`)},async getAccount(){return await a(`${t}/api/account`)},async sendDeleteAccountAuth(){return await a(`${t}/api/account/send/delete`)},async tryDeleteAccount(f){return await l(`${t}/api/account/delete`,{account_id:f.account_id,auth_code:f.auth_code})},async getLastWorkoutSession(){return await a(`${t}/api/workouts/last`)},async getWorkoutLogs(f){return await l(`${t}/api/workouts/${f.workout_id}/logs`,{limit:f.limit?f.limit:10})},async getWorkouts(){return await a(`${t}/api/workouts`)},async addWorkout(f){return await l(`${t}/api/workouts/add`,{name:f.name})},async getWorkout(f){return await a(`${t}/api/workouts/${f.workout_id}`)},async editWorkout(f){return await l(`${t}/api/workouts/${f.workout_id}/edit`,f.data)},async deleteWorkout(f){return await c(`${t}/api/workouts/${f.workout_id}/delete`)},async getSessions(f){return await a(`${t}/api/workout/${f.workout_id}/sessions`)},async getActiveSessions(f){return await a(`${t}/api/sessions/active`)},async startSession(f){return await a(`${t}/api/workout/${f.workout_id}/sessions/start`)},async stopSession(f){return await l(`${t}/api/workout/${f.workout_id}/sessions/${f.workout_session_id}/stop`,f.data)},async cancelSession(f){return await c(`${t}/api/workout/${f.workout_id}/sessions/${f.workout_session_id}/cancel`)},async getSession(f){return await a(`${t}/api/workout/${f.workout_id}/sessions/${f.workout_session_id}`)},async deleteSession(f){return await c(`${t}/api/workout/${f.workout_id}/sessions/${f.workout_session_id}/delete`)},async logSet(f){return await l(`${t}/api/workouts/${f.workout_id}/sessions/${f.workout_session_id}/log-set`,f.data)},async deleteLogSet(f){return await c(`${t}/api/workouts/${f.workout_id}/sessions/${f.workout_session_id}/log-set/${f.set_log_id}/delete`)},async addExercise(f){return await l(`${t}/api/workouts/${f.workout_id}/exercises/add`,f.data)},async getExercise(f){return await a(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}`)},async editExercise(f){return await l(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}/edit`,f.data)},async deleteExercise(f){return await c(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}/delete`)},async addSet(f){return await l(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}/sets/add`,f.data)},async copySet(f){return await a(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}/sets/${f.set_id}/copy`)},async deleteSet(f){return await c(`${t}/api/workouts/${f.workout_id}/exercises/${f.exercise_id}/sets/${f.set_id}/delete`)},session:new me(h)});let g;return Te(()=>{g=document.querySelector("html")}),It(()=>{g.setAttribute("data-theme",u.theme)}),r.pathname.includes("/auth")||r.pathname.includes("/logout")?v(qt.Provider,{value:[u,d,n],get children(){return v(Gn,{})}}):(It(()=>{u.session.data.loading||(u.session.get("status")==="failed"?(d("logged_in",!1),d("theme","dark"),d("units","kgs"),d("account_id",0),d("email_address",null),o("/login")):(d("logged_in",u.session.data().logged_in),d("theme",u.session.data().theme),d("units",u.session.data().units),d("account_id",u.session.data().account_id),d("email_address",u.session.data().email_address),r.pathname==="/login"&&u.session.data().logged_in&&o("/workouts")))}),v(qt.Provider,{value:[u,d,n],get children(){return W(()=>!!u.session.data.loading)()?(()=>{var f=Gl();return $(f,v(oe,{})),f})():W(()=>!u.session.data().logged_in&&r.pathname!=="/login")()?v(Wl,{href:"/login"}):v(Gn,{})}}))}var Jl=M('<span style=font-size:18px class="material-icons-round px-1 flashing-warning-color">signal_wifi_off'),Ql=M("<h3 class=my-0>💪 I Do Sets"),tc=M('<nav class="sticky top-0 z-40"><div class="flex gap-4"><button><span class=desktop-block>Logout</span><span class=mobile-flex><span class=material-icons-round>logout'),ec=M("<button><span class=desktop-block>Workouts</span><span class=mobile-flex><span class=material-icons-round>fitness_center"),ic=M("<button><span class=desktop-block>Account</span><span class=mobile-flex><span class=material-icons-round>person");function Ci(i){const[t,e,n]=Ut(qt),s=se(),o=bn();return(()=>{var r=tc(),a=r.firstChild,l=a.firstChild;return $(r,v(Nl,{href:"/workouts",get children(){var c=Ql();return c.firstChild,$(c,v(z,{get when(){return!n()},get children(){return[" ",Jl()]}}),null),c}}),a),$(a,v(z,{get when(){return o.pathname.includes("/account")},get children(){return(()=>{var c=ec();return c.$$click=()=>{s("/workouts")},c})()},get fallback(){return(()=>{var c=ic();return c.$$click=()=>{s("/account")},c})()}}),l),l.$$click=()=>{t.tryLogout().then(c=>{c.status==="success"&&(e("logged_in",!1),e("theme","dark"),e("units","kgs"),e("account_id",0),e("email_address",""),window.location.href="/login")})},r})()}Xt(["click"]);var nc=M("<small class=px-2>Last Workout"),sc=M('<div class="display-box success-border flex-col"><div class="flex-reactive justify-between"><div class="flex flex-col gap-1"><h1 class=m-0></h1><small>Done: '),oc=M('<div class="action flashing-good"><span class=material-icons>start'),rc=M('<div class="display-box flex-col"><div class="flex-reactive justify-between"><div class="flex flex-col gap-4 pb-2"><h1 class=m-0></h1><p> Exercises</p></div><div class="action-options items-center justify-between gap-2"><div class=action><span class=material-icons>delete</span></div><div class="flex gap-2"><div class=action><span class=material-icons>show_chart</span></div><div class=action><span class=material-icons>remove_red_eye'),ac=M("<div class=action><span class=material-icons>start"),lc=M('<div class="display-box flex-reactive items-center justify-between mt-4"><p>Are you sure you want to start this workout?</p><div class="flex gap-2"><button>Not ready</button><button class=button-good>Start'),cc=M('<div class=action-box><form class=form-col><input class=flex-1 type=text id=new_workout_name name=new_workout_name placeholder="Workout Name"><div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>Add'),hc=M('<div class="action-box-clickable p-10"><span class="material-icons px-2">add</span> Workout'),uc=M('<div class="display-box flex-reactive items-center justify-between mt-4"><p>Are you sure you want to delete this workout?</p><div class="flex gap-2"><button class=button-bad>Delete</button><button>No'),dc=M('<div class=container><div class="pb-4 flex flex-col gap-2"></div><div class="pb-4 flex flex-col gap-2"><small class=px-2>Workouts'),fc=M("<div class=pt-10>");function gc(){const[i]=Ut(qt),t=se(),e=new me(i.getWorkouts),n=new me(i.getLastWorkoutSession),s=new me(i.getActiveSessions),[o,r]=R(!1),[a,l]=R(""),[c,h]=R(null),[u,d]=R(null),[g,f]=R({}),[p,m]=R({});It(()=>{e.data.loading||e.data().status==="unauthorized"&&t("/login")}),It(()=>{n.data.loading||n.get("status")==="success"&&f(n.get("last_workout_session"))}),It(()=>{s.data.loading||s.get("status")==="success"&&m(s.get("active_sessions"))});function b(){return v(z,{get when(){return g()},get children(){return[nc(),(()=>{var S=sc(),k=S.firstChild,A=k.firstChild,C=A.firstChild,P=C.nextSibling;return P.firstChild,$(C,()=>g().name),$(P,()=>g().finished,null),S})()]}})}function _(){return v(Ue,{get each(){return e.get("Workouts")},children:(S,k)=>(()=>{var A=rc(),C=A.firstChild,P=C.firstChild,O=P.firstChild,F=O.nextSibling,Y=F.firstChild,N=P.nextSibling,U=N.firstChild,H=U.nextSibling,Z=H.firstChild,et=Z.nextSibling;return $(O,()=>S.name),$(F,()=>S.rel_exercises.length,Y),U.$$click=()=>{h(k())},Z.$$click=()=>{t(`/workout/${S.workout_id}/logs`)},et.$$click=()=>{t(`/workout/${S.workout_id}`)},$(H,v(z,{get when(){return p()[S.workout_id]!==void 0},get fallback(){return(()=>{var lt=ac();return lt.$$click=()=>{d(k())},lt})()},get children(){var lt=oc();return lt.$$click=()=>{t(`/workout/${S.workout_id}/session/${p()[S.workout_id].workout_session_id}`)},lt}}),null),$(A,v(x,{workout:S,i:k}),null),$(A,v(w,{workout:S,i:k}),null),A})()})}function w(S){const k=S.workout,A=S.i;return v(z,{get when(){return W(()=>u()===A())()&&p()[k.workout_id]===void 0},get children(){var C=lc(),P=C.firstChild,O=P.nextSibling,F=O.firstChild,Y=F.nextSibling;return F.$$click=()=>{d(null)},Y.$$click=()=>{i.startSession({workout_id:k.workout_id}).then(N=>{N.status==="success"&&t(`/workout/${k.workout_id}/session/${N.workout_session_id}`)})},C}})}function y(){return v(z,{get when(){return o()===!0},get fallback(){return(()=>{var S=hc();return S.$$click=()=>{r(!0)},S})()},get children(){var S=cc(),k=S.firstChild,A=k.firstChild,C=A.nextSibling,P=C.firstChild,O=P.nextSibling;return k.addEventListener("submit",F=>{F.preventDefault()}),A.$$keyup=F=>{l(F.target.value)},P.$$click=()=>{r(!1),l("")},O.$$click=()=>{i.addWorkout({name:a()}).then(F=>{F.status==="success"&&(r(!1),l(""),t(`/workout/${F.workout_id}`))})},S}})}function x(S){const k=S.workout,A=S.i;return v(z,{get when(){return c()===A()},get children(){var C=uc(),P=C.firstChild,O=P.nextSibling,F=O.firstChild,Y=F.nextSibling;return F.$$click=()=>{i.deleteWorkout({workout_id:k.workout_id}).then(N=>{N.status==="success"&&(h(null),e.refetch())})},Y.$$click=()=>{h(null)},C}})}function D(){return(()=>{var S=dc(),k=S.firstChild,A=k.nextSibling;return A.firstChild,$(k,v(b,{})),$(A,v(_,{}),null),$(S,v(y,{}),null),S})()}return[v(Ci,{}),W((()=>{var S=W(()=>!!e.data.loading);return()=>S()?(()=>{var k=fc();return $(k,v(oe,{})),k})():v(D,{})})())]}Xt(["click","keyup"]);var pc=M('<form><input type=email id=email_address name=email_address placeholder="Email Address"><button type=button>Login / Signup'),mc=M("<div class=py-8>"),bc=M('<div class="pb-6 flex flex-col gap-4"><p>Your login link has been emailed to you.</p><p>Remember to check your spam folder!'),_c=M('<div class="pb-6 flex flex-col gap-4"><p>Looks like there has been an error when attempting to send your login link.</p><p>Is your email address valid and correct?'),xc=M("<button type=button>Try Again"),yc=M('<div class="login py-6"><div class="text-center pt-2 pb-8"><h2 class=my-0>💪 I Do Sets</h2></div><div class="flex flex-col gap-2 pt-12 text-sm"xmlns:cc=http://creativecommons.org/ns# xmlns:dct=http://purl.org/dc/terms/><p class=opacity-70><a property=dct:title rel=cc:attributionURL href=https://idosets.app>idosets.app</a> is licensed under</p><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1"target=_blank rel="license noopener noreferrer"class="flex justify-center underline opacity-70 hover:opacity-90">CC BY-NC-ND 4.0</a></p><div class="flex flex-row justify-center pb-4"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1"></div><p><a class="underline opacity-70 hover:opacity-90"href=https://github.com/CheeseCake87/idosets.app target=_blank> GitHub');function vc(){const[i,t]=Ut(qt),[e,n]=R(""),[s,o]=R("waiting");let r;return Te(()=>{r=document.querySelector("html"),i.getTheme().then(a=>{r.setAttribute("data-theme",a.theme)})}),(()=>{var a=yc(),l=a.firstChild,c=l.nextSibling;return $(a,v(z,{get when(){return s()==="waiting"},get children(){var h=pc(),u=h.firstChild,d=u.nextSibling;return h.addEventListener("submit",g=>{g.preventDefault(),o("processing"),i.tryLogin(e()).then(f=>{f.status==="success"?o("success"):o("error")})}),u.addEventListener("change",g=>n(g.target.value)),d.$$click=()=>{o("processing"),i.tryLogin(e()).then(g=>{g.status==="success"?o("success"):o("error")})},h}}),c),$(a,v(z,{get when(){return s()==="processing"},get children(){var h=mc();return $(h,v(oe,{})),h}}),c),$(a,v(z,{get when(){return s()==="success"},get children(){return bc()}}),c),$(a,v(z,{get when(){return s()==="error"},get children(){return[_c(),(()=>{var h=xc();return h.$$click=()=>o("waiting"),h})()]}}),c),a})()}Xt(["click"]);var wc=M("<div class=pt-20>"),kc=M("<p>Logging in, please wait..."),$c=M("<p class=pb-2>Looks like there was an error. "),Sc=M("<p class=pb-6>Your login link might have expired, or be incorrect."),Cc=M("<button type=button>Back to Login / Signup"),Mc=M('<div class="login py-6"><h2 class=pb-4>💪 I Do Sets');function Pc(i){const t=se(),[e,n]=Ut(qt),[s,o]=R("processing"),r=Je(),[a]=Zi({account_id:r.account_id,auth_code:r.auth_code},e.tryAuth);return It(()=>{a.loading===!1?a().status==="passed"?(n("logged_in",!0),n("account_id",a().account_id),n("email_address",a().email_address),n("theme",a().theme),n("units",a().units),t("/workouts")):o("error"):o("processing")}),W((()=>{var l=W(()=>!!a.loading);return()=>l()?(()=>{var c=wc();return $(c,v(oe,{})),c})():(()=>{var c=Mc();return c.firstChild,$(c,v(z,{get when(){return s()==="processing"},get children(){return kc()}}),null),$(c,v(z,{get when(){return s()==="error"},get children(){return[$c(),Sc(),(()=>{var h=Cc();return h.$$click=()=>{t("/login")},h})()]}}),null),c})()})())}Xt(["click"]);var Ac=M('<div class="action-options gap-5 pb-4"><div class=action><span class=material-icons>arrow_back</span></div><div class=action-options-text><h1></h1></div><div class=action><span class=material-icons>edit'),Dc=M('<div class="action-box mb-4"><form class=form-col><input class=flex-1 type=text id=new_workout_name name=new_workout_name placeholder="Workout Name"><div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>Save'),Oc=M('<a target=_blank referrerpolicy=no-referrer class="flex items-center gap-2 opacity-80 hover:opacity-100"><img class="w-8 h-8 rounded-full inline-block border bg-black"alt=🚫ico><span class=underline>Instructions</span><span class="material-icons w-5 h-5">open_in_new'),Lc=M('<div class="display-box flex-reactive items-center justify-between mt-4"><p>Are you sure you want to delete this exercise?</p><div class="flex gap-2"><button class=button-bad>Yes</button><button>No'),Tc=M('<div class="display-box flex-col"><div class="flex-reactive justify-between"><div class="flex flex-col gap-4 pb-2"><h1 class=m-0></h1><p> Sets</p></div><div class="action-options items-center justify-between gap-2"><div class=action><span class=material-icons>delete</span></div><div class=action><span class=material-icons>remove_red_eye'),Ec=M('<div class=action-box><form class=form-col><input class=flex-1 type=text id=new_exercise_name name=new_exercise_name placeholder="Exercise Name"><input class=flex-1 type=text id=new_exercise_info_url name=new_exercise_info_url placeholder="Exercise Info Url"><div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>'),Rc=M('<div class="action-box-clickable p-10"><span class="material-icons px-2">add</span> Exercise'),Ic=M('<div class=container><div class="py-4 flex flex-col gap-2"><small class=px-2>Exercises'),Fc=M("<div class=pt-10>");function zc(){const[i]=Ut(qt),t=se(),e=Je(),n=new me({workout_id:e.workout_id},i.getWorkout),[s,o]=R({}),[r,a]=R(""),[l,c]=R(!1),[h,u]=R({}),[d,g]=R(!1),[f,p]=R(""),[m,b]=R(""),[_,w]=R(!1),[y,x]=R(null);It(()=>{n.data.loading===!1&&(n.data().status==="unauthorized"&&t("/login"),n.get("Workouts").length===0?t("/workouts"):(o(n.get("Workouts")[0]),a(s().name),u(n.get("Exercises"))))});function D(){return(()=>{var P=Ac(),O=P.firstChild,F=O.nextSibling,Y=F.firstChild,N=F.nextSibling;return O.$$click=()=>{t("/workouts")},$(Y,(()=>{var U=W(()=>!!l());return()=>U()?i.truncate(r(),45):i.truncate(s().name,45)})()),N.$$click=()=>{c(!0)},ut(()=>Y.className=l()?"m-0 opacity-50":"m-0"),P})()}function S(){return v(z,{get when(){return l()===!0},get children(){var P=Dc(),O=P.firstChild,F=O.firstChild,Y=F.nextSibling,N=Y.firstChild,U=N.nextSibling;return O.addEventListener("submit",H=>{H.preventDefault()}),F.$$keyup=H=>{a(H.target.value)},N.$$click=()=>{c(!1),a(s().name)},U.$$click=()=>{i.editWorkout({workout_id:e.workout_id,data:{name:r()}}).then(H=>{H.status==="success"&&(c(!1),n.refetch())})},ut(()=>F.value=r()),P}})}function k(){return v(Ue,{get each(){return h()},children:(P,O)=>(()=>{var F=Tc(),Y=F.firstChild,N=Y.firstChild,U=N.firstChild,H=U.nextSibling,Z=H.firstChild,et=N.nextSibling,lt=et.firstChild,wt=lt.nextSibling;return $(U,()=>P.name),$(N,v(z,{get when(){return P.info_url!==null&&P.info_url!==""&&P.info_url!==void 0},get children(){var pt=Oc(),jt=pt.firstChild;return ut(Ct=>{var zt=P.info_url,st=P.info_url_favicon;return zt!==Ct.e&&Pt(pt,"href",Ct.e=zt),st!==Ct.t&&Pt(jt,"src",Ct.t=st),Ct},{e:void 0,t:void 0}),pt}}),H),$(H,()=>P.rel_sets.length,Z),lt.$$click=()=>{x(O())},wt.$$click=()=>{t(`/workout/${e.workout_id}/exercise/${P.exercise_id}`)},$(F,v(z,{get when(){return y()===O()},get children(){var pt=Lc(),jt=pt.firstChild,Ct=jt.nextSibling,zt=Ct.firstChild,st=zt.nextSibling;return zt.$$click=()=>{i.deleteExercise({workout_id:e.workout_id,exercise_id:P.exercise_id}).then(B=>{B.status==="success"&&(x(null),n.refetch())})},st.$$click=()=>{x(null)},pt}}),null),F})()})}function A(){return v(z,{get when(){return d()===!0},get fallback(){return(()=>{var P=Rc();return P.$$click=()=>{g(!0)},P})()},get children(){var P=Ec(),O=P.firstChild,F=O.firstChild,Y=F.nextSibling,N=Y.nextSibling,U=N.firstChild,H=U.nextSibling;return O.addEventListener("submit",Z=>{Z.preventDefault()}),F.$$keyup=Z=>{p(Z.target.value)},Y.$$keyup=Z=>{b(Z.target.value)},U.$$click=()=>{g(!1),a(""),b("")},H.$$click=()=>{w(!0),i.addExercise({workout_id:e.workout_id,data:{name:f(),info_url:m(),order:h().length+1}}).then(Z=>{Z.status==="success"&&(g(!1),a(""),b(""),w(!1),t(`/workout/${e.workout_id}/exercise/${Z.exercise_id}`))})},$(H,(()=>{var Z=W(()=>!!_());return()=>Z()?v(Ve,{}):"Add"})()),P}})}function C(){return(()=>{var P=Ic(),O=P.firstChild;return O.firstChild,$(P,v(D,{}),O),$(P,v(S,{}),O),$(O,v(k,{}),null),$(P,v(A,{}),null),P})()}return[v(Ci,{}),W((()=>{var P=W(()=>!!n.data.loading);return()=>P()?(()=>{var O=Fc();return $(O,v(oe,{})),O})():v(C,{})})())]}Xt(["click","keyup"]);var Bc=M('<div class="action-options gap-5 pb-4"><div class="action-no-click opacity-50"><span class=material-icons>more_vert</span></div><div class=action-options-text><h1 class="m-0 opacity-50">'),Nc=M('<a target=_blank referrerpolicy=no-referrer class="flex items-center gap-2 opacity-80 hover:opacity-100"><img class="w-8 h-8 rounded-full inline-block border bg-black"alt=🚫ico><span class=underline>Instructions</span><span class="material-icons w-5 h-5">open_in_new'),Wc=M('<div class="action-options gap-5 pb-4"><div class=action><span class=material-icons>arrow_back</span></div><div><h1></h1></div><div class=action><span class=material-icons>edit'),jc=M('<div class="action-box mb-4"><form class=form-col><input class=flex-1 type=text id=new_exercise_name name=new_exercise_name placeholder=Name><input class=flex-1 type=text id=new_exercise_info_url name=new_exercise_info_url placeholder="Instructions URL (https://example.com/to/instructions)"><div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>'),Vc=M('<div class="flex items-center gap-1"><span class="material-icons px-2">timer</span><h2 class=m-0>'),Hc=M('<div class="flex items-center gap-1"><span class="material-icons px-2">fitness_center</span><h2 class=m-0>'),Yc=M('<div class="display-box flex-reactive items-center justify-between mt-4"><p>Are you sure you want to delete this set?</p><div class="flex gap-2"><button class=button-bad>Yes</button><button>No'),Uc=M('<div class="display-box flex-col"><div class="flex-reactive justify-between"><div class="flex gap-4 items-center"><h1 class="m-0 opacity-50"></h1></div><div class="action-options items-center justify-between gap-2"><div class=action><span class=material-icons>delete</span></div><div class=action><span class=material-icons>content_copy'),Fs=M('<div class="flex flex-row gap-4"><div>Min</div><div>Max'),Oi=M('<div class="text-center p-4"><h1>'),zs=M('<div class=flex-reactive><div class="action-box-clickable flex-1 items-center">Reset</div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-5 secs</div><div class="action-box-clickable flex-1">+5 secs</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-30 secs</div><div class="action-box-clickable flex-1">+30 secs</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-1 mins</div><div class="action-box-clickable flex-1">+1 mins</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-10 mins</div><div class="action-box-clickable flex-1">+10 mins'),Bs=M('<div class=flex-reactive><div class="action-box-clickable flex-1 items-center">Reset</div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-1 rep</div><div class="action-box-clickable flex-1">+1 rep</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-5 reps</div><div class="action-box-clickable flex-1">+5 reps</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-10 reps</div><div class="action-box-clickable flex-1">+10 reps'),Xc=M('<div class=action-box><form class=form-col><div class="flex flex-row gap-4"><div><span class="material-icons px-2">fitness_center</span> Reps</div><div><span class="material-icons px-2">timer</span> Duration</div></div><div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>Add'),Kc=M('<div class="action-box-clickable p-10"><span class="material-icons px-2">add</span> Set'),qc=M('<div class=container><div class="py-4 flex flex-col gap-2"><small class=px-2>Sets'),Gc=M("<div class=pt-10>");function Zc(){const[i,t]=Ut(qt),e=se(),n=Je(),s=new me({workout_id:n.workout_id,exercise_id:n.exercise_id},i.getExercise),[o,r]=R({}),[a,l]=R(""),[c,h]=R(!1),[u,d]=R(!1),[g,f]=R(""),[p,m]=R(""),[b,_]=R({}),[w,y]=R(!1),[x,D]=R("reps"),[S,k]=R("min"),[A,C]=R(0),[P,O]=R(""),[F,Y]=R(0),[N,U]=R(""),[H,Z]=R("min"),[et,lt]=R(0),[wt,pt]=R(0),[jt,Ct]=R(null);It(()=>{s.data.loading===!1&&(s.data().status==="unauthorized"&&e("/login"),s.get("Exercises").length===0?e("/workouts"):(r(s.get("Exercises")[0]),l(s.get("Workouts")[0].name),f(o().name),m(o().info_url),_(s.get("Sets")),O(i.fancyTimeFormat(A())),U(i.fancyTimeFormat(F()))))}),It(()=>{A()<0?C(0):O(i.fancyTimeFormat(A()))}),It(()=>{F()>0&&U(i.fancyTimeFormat(F()))});function zt(){return(()=>{var I=Bc(),X=I.firstChild,K=X.nextSibling,q=K.firstChild;return $(q,()=>i.truncate(a(),45)),I})()}function st(){return(()=>{var I=Wc(),X=I.firstChild,K=X.nextSibling,q=K.firstChild,it=K.nextSibling;return X.$$click=()=>{e(`/workout/${n.workout_id}`)},$(q,(()=>{var tt=W(()=>!!c());return()=>tt()?g():o().name})()),$(K,v(z,{get when(){return W(()=>o().info_url!==null&&o().info_url!=="")()&&o().info_url!==void 0},get children(){var tt=Nc(),dt=tt.firstChild;return ut(ct=>{var V=o().info_url,j=o().info_url_favicon;return V!==ct.e&&Pt(tt,"href",ct.e=V),j!==ct.t&&Pt(dt,"src",ct.t=j),ct},{e:void 0,t:void 0}),tt}}),null),it.$$click=()=>{h(!0)},ut(()=>K.className=c()?"action-options-text m-0 opacity-50":"action-options-text m-0"),I})()}function B(){return v(z,{get when(){return c()===!0},get children(){var I=jc(),X=I.firstChild,K=X.firstChild,q=K.nextSibling,it=q.nextSibling,tt=it.firstChild,dt=tt.nextSibling;return X.addEventListener("submit",ct=>{ct.preventDefault()}),K.$$keyup=ct=>{f(ct.target.value)},q.$$keyup=ct=>{m(ct.target.value)},tt.$$click=()=>{h(!1),f(o().name),m(o().info_url)},dt.$$click=()=>{d(!0),i.editExercise({workout_id:n.workout_id,exercise_id:n.exercise_id,data:{name:g(),info_url:p()}}).then(ct=>{ct.status==="success"&&(h(!1),d(!1),s.refetch())})},$(dt,(()=>{var ct=W(()=>!!u());return()=>ct()?v(Ve,{}):"Save"})()),ut(()=>K.value=g()),ut(()=>q.value=p()),I}})}function L(){return v(Ue,{get each(){return b()},children:(I,X)=>(()=>{var K=Uc(),q=K.firstChild,it=q.firstChild,tt=it.firstChild,dt=it.nextSibling,ct=dt.firstChild,V=ct.nextSibling;return $(tt,()=>X()+1),$(it,v(z,{get when(){return I.is_duration},get children(){var j=Vc(),J=j.firstChild,Q=J.nextSibling;return $(Q,(()=>{var ht=W(()=>I.duration_min>0);return()=>ht()?i.fancyTimeFormat(I.duration_min):""})(),null),$(Q,()=>I.duration_max>0&&I.duration_min>0?" - ":"",null),$(Q,(()=>{var ht=W(()=>I.duration_max>0);return()=>ht()?i.fancyTimeFormat(I.duration_max):""})(),null),j}}),null),$(it,v(z,{get when(){return I.is_reps},get children(){var j=Hc(),J=j.firstChild,Q=J.nextSibling;return $(Q,()=>i.fancyRepFormat(I.reps_min,I.reps_max)),j}}),null),ct.$$click=()=>{Ct(X())},V.$$click=()=>{i.copySet({workout_id:n.workout_id,exercise_id:n.exercise_id,set_id:I.set_id}).then(j=>{j.status==="success"&&s.refetch()})},$(K,v(z,{get when(){return jt()===X()},get children(){var j=Yc(),J=j.firstChild,Q=J.nextSibling,ht=Q.firstChild,ot=ht.nextSibling;return ht.$$click=()=>{i.deleteSet({workout_id:n.workout_id,exercise_id:n.exercise_id,set_id:I.set_id}).then(kt=>{kt.status==="success"&&(Ct(null),s.refetch())})},ot.$$click=()=>{Ct(null)},j}}),null),K})()})}function T(){return v(z,{get when(){return w()===!0},get fallback(){return(()=>{var I=Kc();return I.$$click=()=>{y(!0)},I})()},get children(){var I=Xc(),X=I.firstChild,K=X.firstChild,q=K.firstChild,it=q.nextSibling,tt=K.nextSibling,dt=tt.firstChild,ct=dt.nextSibling;return X.addEventListener("submit",V=>{V.preventDefault()}),q.$$click=()=>{D("reps"),C(0)},it.$$click=()=>{D("duration"),lt(0)},$(X,v(z,{get when(){return x()==="duration"},get children(){return[(()=>{var V=Fs(),j=V.firstChild,J=j.nextSibling;return j.$$click=()=>{k("min")},J.$$click=()=>{k("max")},ut(Q=>{var ht=S()==="min"?"action-box flex-1":"action-box-clickable flex-1",ot=S()==="max"?"action-box flex-1":"action-box-clickable flex-1";return ht!==Q.e&&(j.className=Q.e=ht),ot!==Q.t&&(J.className=Q.t=ot),Q},{e:void 0,t:void 0}),V})(),v(z,{get when(){return S()==="min"},get children(){return[(()=>{var V=Oi(),j=V.firstChild;return $(j,P),V})(),(()=>{var V=zs(),j=V.firstChild,J=j.nextSibling,Q=J.firstChild,ht=Q.nextSibling,ot=J.nextSibling,kt=ot.firstChild,Dt=kt.nextSibling,yt=ot.nextSibling,vt=yt.firstChild,Lt=vt.nextSibling,re=yt.nextSibling,Vt=re.firstChild,Qt=Vt.nextSibling;return j.$$click=()=>{C(0)},Q.$$click=()=>{A()<0?C(0):C(A()-5)},ht.$$click=()=>{C(A()+5)},kt.$$click=()=>{A()<0?C(0):C(A()-30)},Dt.$$click=()=>{C(A()+30)},vt.$$click=()=>{A()<0?C(0):C(A()-60)},Lt.$$click=()=>{C(A()+60)},Vt.$$click=()=>{A()<0?C(0):C(A()-600)},Qt.$$click=()=>{C(A()+600)},V})()]}}),v(z,{get when(){return S()==="max"},get children(){return[(()=>{var V=Oi(),j=V.firstChild;return $(j,N),V})(),(()=>{var V=zs(),j=V.firstChild,J=j.nextSibling,Q=J.firstChild,ht=Q.nextSibling,ot=J.nextSibling,kt=ot.firstChild,Dt=kt.nextSibling,yt=ot.nextSibling,vt=yt.firstChild,Lt=vt.nextSibling,re=yt.nextSibling,Vt=re.firstChild,Qt=Vt.nextSibling;return j.$$click=()=>{Y(0)},Q.$$click=()=>{F()<0?C(0):Y(F()-5)},ht.$$click=()=>{Y(F()+5)},kt.$$click=()=>{F()<0?Y(0):Y(F()-30)},Dt.$$click=()=>{Y(F()+30)},vt.$$click=()=>{F()<0?Y(0):Y(F()-60)},Lt.$$click=()=>{Y(F()+60)},Vt.$$click=()=>{F()<0?Y(0):Y(F()-600)},Qt.$$click=()=>{Y(F()+600)},V})()]}})]}}),tt),$(X,v(z,{get when(){return x()==="reps"},get children(){return[(()=>{var V=Fs(),j=V.firstChild,J=j.nextSibling;return j.$$click=()=>{Z("min")},J.$$click=()=>{Z("max")},ut(Q=>{var ht=H()==="min"?"action-box flex-1":"action-box-clickable flex-1",ot=H()==="max"?"action-box flex-1":"action-box-clickable flex-1";return ht!==Q.e&&(j.className=Q.e=ht),ot!==Q.t&&(J.className=Q.t=ot),Q},{e:void 0,t:void 0}),V})(),v(z,{get when(){return H()==="min"},get children(){return[(()=>{var V=Oi(),j=V.firstChild;return $(j,(()=>{var J=W(()=>et()===1);return()=>J()?et()+" rep":et()+" reps"})()),V})(),(()=>{var V=Bs(),j=V.firstChild,J=j.nextSibling,Q=J.firstChild,ht=Q.nextSibling,ot=J.nextSibling,kt=ot.firstChild,Dt=kt.nextSibling,yt=ot.nextSibling,vt=yt.firstChild,Lt=vt.nextSibling;return j.$$click=()=>{lt(0)},Q.$$click=()=>{lt(et()-1),et()<0&&lt(0)},ht.$$click=()=>{lt(et()+1)},kt.$$click=()=>{lt(et()-5),et()<0&&lt(0)},Dt.$$click=()=>{lt(et()+5)},vt.$$click=()=>{lt(et()-10),et()<0&&lt(0)},Lt.$$click=()=>{lt(et()+10)},V})()]}}),v(z,{get when(){return H()==="max"},get children(){return[(()=>{var V=Oi(),j=V.firstChild;return $(j,(()=>{var J=W(()=>wt()===1);return()=>J()?wt()+" rep":wt()+" reps"})()),V})(),(()=>{var V=Bs(),j=V.firstChild,J=j.nextSibling,Q=J.firstChild,ht=Q.nextSibling,ot=J.nextSibling,kt=ot.firstChild,Dt=kt.nextSibling,yt=ot.nextSibling,vt=yt.firstChild,Lt=vt.nextSibling;return j.$$click=()=>{pt(0)},Q.$$click=()=>{pt(wt()-1),wt()<0&&pt(0)},ht.$$click=()=>{pt(wt()+1)},kt.$$click=()=>{pt(wt()-5),wt()<0&&pt(0)},Dt.$$click=()=>{pt(wt()+5)},vt.$$click=()=>{pt(wt()-10),wt()<0&&pt(0)},Lt.$$click=()=>{pt(wt()+10)},V})()]}})]}}),tt),dt.$$click=()=>{y(!1),k("min"),C(0),Y(0),Z("min"),lt(0),pt(0)},ct.$$click=()=>{i.addSet({workout_id:n.workout_id,exercise_id:n.exercise_id,data:{type:x(),duration_min:A(),duration_max:F(),reps_min:et(),reps_max:wt(),order:b().length+1}}).then(V=>{V.status==="success"&&(y(!1),k("min"),C(0),Y(0),Z("min"),lt(0),pt(0),s.refetch())})},ut(V=>{var j=x()==="reps"?"action-box action-box-reactive flex-1":"action-box-clickable action-box-reactive flex-1",J=x()==="duration"?"action-box action-box-reactive flex-1":"action-box-clickable action-box-reactive flex-1";return j!==V.e&&(q.className=V.e=j),J!==V.t&&(it.className=V.t=J),V},{e:void 0,t:void 0}),I}})}function E(){return(()=>{var I=qc(),X=I.firstChild;return X.firstChild,$(I,v(zt,{}),X),$(I,v(st,{}),X),$(I,v(B,{}),X),$(X,v(L,{}),null),$(I,v(T,{}),null),I})()}return[v(Ci,{}),W((()=>{var I=W(()=>!!s.data.loading);return()=>I()?(()=>{var X=Gc();return $(X,v(oe,{})),X})():v(E,{})})())]}Xt(["click","keyup"]);var Jc=M('<button class="flex rounded-full"><span class=material-icons-round>light_mode'),Qc=M('<button class="flex rounded-full"><span class=material-icons-round>dark_mode'),th=M('<div class=container><div class="display-box flex-col gap-2 mb-2"><p class="font-bold mb-2">Account</p><p><span class=opacity-80>Email Address: </span></p><p><span class=opacity-80>Total Workouts: </span></p><p><span class=opacity-80>Total Exercises: </span></p><p><span class=opacity-80>Total Sets: </span></p></div><div class="display-box flex-col gap-2 mb-2"><p class="font-bold mb-2">Change Theme</p><div></div></div><div class="display-box warning flex-col gap-2 mb-2">'),eh=M('<div class="display-box no-bg flex-col text-center gap-6"><p class=opacity-90>Are you sure you want to delete your account?</p><div class="flex gap-2"><button class="button-bad flex-1">Delete Account</button><button class=flex-1>Cancel'),ih=M("<button class=button-bad>Delete Account"),nh=M('<div class="display-box no-bg flex-col text-center gap-6"><p class=opacity-90>An email has been sent to your email address with a link to delete your account.'),sh=M('<div class="display-box no-bg flex-col text-center gap-6"><p class=opacity-90>There was an error sending your delete account email.'),oh=M("<div class=pt-10>");function rh(){const[i,t]=Ut(qt),[e,n]=R(!1),[s,o]=R(!1),[r,a]=R(!1),l=new me({account_id:i.account_id},i.getAccount);function c(){return(()=>{var h=th(),u=h.firstChild,d=u.firstChild,g=d.nextSibling;g.firstChild;var f=g.nextSibling;f.firstChild;var p=f.nextSibling;p.firstChild;var m=p.nextSibling;m.firstChild;var b=u.nextSibling,_=b.firstChild,w=_.nextSibling,y=b.nextSibling;return $(g,()=>l.get("email_address"),null),$(f,()=>l.get("total_workouts"),null),$(p,()=>l.get("total_exercises"),null),$(m,()=>l.get("total_sets"),null),$(w,v(z,{get when(){return i.theme==="dark"},get children(){var x=Jc();return x.$$click=()=>{i.setTheme("light").then(D=>{location.reload()})},x}}),null),$(w,v(z,{get when(){return i.theme==="light"},get children(){var x=Qc();return x.$$click=()=>{i.setTheme("dark").then(D=>{location.reload()})},x}}),null),$(y,v(z,{get when(){return W(()=>!r())()&&!s()},get children(){return v(z,{get when(){return e()},get children(){return(()=>{var x=eh(),D=x.firstChild,S=D.nextSibling,k=S.firstChild,A=k.nextSibling;return k.$$click=()=>{i.sendDeleteAccountAuth().then(C=>{C.status==="success"?o(!0):a(!0)})},A.$$click=()=>{n(!1)},x})()},get fallback(){return(()=>{var x=ih();return x.$$click=()=>n(!0),x})()}})}}),null),$(y,v(z,{get when(){return s()},get children(){return nh()}}),null),$(y,v(z,{get when(){return r()},get children(){return sh()}}),null),h})()}return[v(Ci,{}),W((()=>{var h=W(()=>!!l.data.loading);return()=>h()?(()=>{var u=oh();return $(u,v(oe,{})),u})():v(c,{})})())]}Xt(["click"]);var ah=M("<div class=pt-20>"),lh=M("<p>Deleting account, please wait..."),ch=M("<p class=pb-6>This auth link has expired."),Ns=M("<button type=button>Back to Login / Signup"),hh=M("<p class=pb-6>Your account has been deleted."),uh=M('<div class="login py-6"><h2 class=pb-4>💪 I Do Sets');function dh(i){const t=se(),e=Je(),[n,s]=Ut(qt),[o,r]=R("processing"),[a]=Zi({account_id:e.account_id,auth_code:e.auth_code},n.tryDeleteAccount);return It(()=>{a.loading===!1?a().status==="success"?(s("logged_in",!1),s("account_id",0),s("email_address",null),s("theme","dark"),r("success")):r("error"):r("processing")}),W((()=>{var l=W(()=>!!a.loading);return()=>l()?(()=>{var c=ah();return $(c,v(oe,{})),c})():(()=>{var c=uh();return c.firstChild,$(c,v(z,{get when(){return o()==="processing"},get children(){return lh()}}),null),$(c,v(z,{get when(){return o()==="error"},get children(){return[ch(),(()=>{var h=Ns();return h.$$click=()=>{t("/login")},h})()]}}),null),$(c,v(z,{get when(){return o()==="success"},get children(){return[hh(),(()=>{var h=Ns();return h.$$click=()=>{t("/login")},h})()]}}),null),c})()})())}Xt(["click"]);var fh=M('<div class="flex items-center gap-1"><span class="material-icons px-2">timer</span><h3 class=m-0>'),gh=M('<div class="flex items-center gap-1"><span class="material-icons px-2">fitness_center</span><h3 class=m-0>'),ph=M('<div class="flex justify-between gap-2"><div class="action-options items-center justify-end gap-2"><div class=action><span class=material-icons>undo</span></div></div><div class="action-options items-center justify-end gap-2 opacity-50"><div class=action><span class=material-icons>done'),mh=M('<div class="flex-reactive justify-between"><div class="flex gap-4 items-center"><h1 class="m-0 opacity-50">'),bh=M('<div class="flex justify-between gap-2"><div class="opacity-50 action-options items-center justify-end gap-2"><div class=action><span class=material-icons>undo</span></div></div><div class="action-options items-center justify-end gap-2"><div class=action><span class=material-icons>done'),_h=M('<div class="display-box flex-reactive items-center justify-between mt-4"><p>Are you sure you want to undo this log?</p><div class="flex gap-2"><button class=button-bad>Yes</button><button>No'),xh=M("<div>Duration"),yh=M("<div>Reps"),vh=M('<div class="flex flex-row gap-4 mt-4"><div>Weight'),wh=M('<div class="display-box flex-col gap-4 mt-2"><div class="text-center p-4"><h1></h1></div><div class=flex-reactive><div class="action-box-clickable flex-1 items-center">Reset</div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-5 secs</div><div class="action-box-clickable flex-1">+5 secs</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-30 secs</div><div class="action-box-clickable flex-1">+30 secs</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-1 mins</div><div class="action-box-clickable flex-1">+1 mins</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-10 mins</div><div class="action-box-clickable flex-1">+10 mins'),kh=M('<form class=form-col><input class=flex-1 type=number step=.01 name=set_weight placeholder=0><button class="button-good flex-1"type=button>Done'),$h=M('<div class="display-box flex-col gap-4 mt-2"><div class="flex-reactive justify-center"></div><div class=flex-reactive><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-&nbsp;<small class=pt-0.5>0.25</small>&nbsp;kg</div><div class="action-box-clickable flex-1">+&nbsp;<small class=pt-0.5>0.25</small>&nbsp;kg</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-1 kg</div><div class="action-box-clickable flex-1">+1 kg</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-5 kgs</div><div class="action-box-clickable flex-1">+5 kgs</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-10 kgs</div><div class="action-box-clickable flex-1">+10 kgs</div></div></div><div class="flex-reverse-reactive gap-2"><div class="action-box-clickable flex-1 items-center">Reset</div><div class="action-box-clickable flex-1 items-center">Double'),Ws=M('<div class="action-box-clickable flex-1"><h1 class=m-0>'),Sh=M('<form class=form-col><input class=flex-1 type=number step=.01 name=set_reps placeholder=0><button class="button-good flex-1"type=button>Done'),Ch=M('<div class="display-box flex-col gap-4 mt-2"><div class="flex-reactive justify-center"></div><div class=flex-reactive><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-1</div><div class="action-box-clickable flex-1">+1</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-5</div><div class="action-box-clickable flex-1">+5</div></div><div class="flex-reactive-reverse flex-1 gap-1"><div class="action-box-clickable flex-1">-10</div><div class="action-box-clickable flex-1">+10</div></div></div><div class="flex-reverse-reactive gap-2"><div class="action-box-clickable flex-1 items-center">Reset'),Mh=M('<div class="display-box p-4 flex-1 justify-center"><h4 class="m-0 opacity-90"> reps'),Ph=M('<div class="display-box p-4 flex-1 justify-center"><h4 class="m-0 opacity-90">'),Ah=M('<div class="display-box p-4 flex-1 justify-center"><h4 class="m-0 opacity-90"> kgs'),Dh=M("<div class=set_log_display>"),Oh=M('<div class="flex justify-between gap-4 pt-2"><button class="button-bad flex-1"type=button>Cancel</button><button class="button-good flex-1"type=button>Add'),Lh=M('<div class="display-box flex-col">'),Th=M('<div class="display-box-slim flex-col no-bg gap-2 mb-20 border-0"id=cancel-workout>'),Eh=M('<div class="action-options gap-5 pb-4"id=workout-name><div class=action-options-text><h1 class="m-0 text-5xl px-4 pb-4">'),Rh=M('<div class="pb-4 flex flex-col gap-4">'),Ih=M('<div class="display-box-slim flex-col gap-2 my-12 border-0"id=finish-workout>'),Fh=M("<div class=container>"),zh=M('<div class="action-options gap-5 pb-4"><div class=action><span class=material-icons>arrow_back</span></div><div class=action-options-text><h1 class=m-0>'),Bh=M("<h4 class=m-0>Total Weight:&nbsp;<span class=opacity-80> "),Nh=M('<div class="display-box no-bg flex-col gap-4"><h4 class=m-0>Time:&nbsp;<span class=opacity-80>'),js=M("<div><p class=m-0>Oh no! It looks like you might be offline.</p><p>Don't refresh this page, and try again when you're back online."),Wh=M('<button class="button-bad flex-1">'),Vs=M("<button class=flex-1>No"),Hs=M('<div><div class="flex gap-2">'),jh=M("<p class=opacity-90>Are you sure you want to cancel this workout?"),Dn=M('<button class="button-good flex-1">'),Vh=M('<button class="button-bad button-large flex-1"type=button>Cancel Workout'),Hh=M('<a target=_blank referrerpolicy=no-referrer class="flex items-center gap-2 opacity-80 hover:opacity-100"><img class="w-8 h-8 rounded-full inline-block border bg-black"alt=🚫ico><span class=underline>Instructions</span><span class="material-icons w-5 h-5">open_in_new'),Yh=M('<div class="display-box-thin flex-col gap-3"><div class="flex flex-col gap-4 p-4"><h2 class=m-0>'),Uh=M("<p class=opacity-90>Are you sure you want to finish this workout?"),Xh=M('<button class="button-good button-large flex-1"type=button>Finish Workout'),Kh=M("<div class=pt-10>");function qh(){const[i,t,e]=Ut(qt),n=se(),s=Je(),o=s.workout_id,r=s.workout_session_id,[a,l]=R(null),[c,h]=R(null),[u,d]=R(!1),[g,f]=R(!1),[p,m]=R(!1),[b,_]=R(!1),[w,y]=R(!1),[x,D]=R(!0),[S,k]=R(!0),[A,C]=R(!1),[P,O]=R([]),[F,Y]=R([]),N=new me({workout_id:o,workout_session_id:r},i.getSession);It(()=>{N.data.loading===!1&&(O(N.get("exercises").items),f(N.get("workout_session").is_finished))}),Te(()=>{setTimeout(()=>{window.scrollTo({top:130,behavior:"smooth"})},200)});function U(){k(!0),D(!0),C(!1),l(null)}function H(st){const{exercise_id:B,set:L,set_i:T,set_log:E}=st;return(()=>{var I=mh(),X=I.firstChild,K=X.firstChild;return $(K,()=>T()+1),$(X,v(z,{get when(){return L.is_duration},get children(){var q=fh(),it=q.firstChild,tt=it.nextSibling;return $(tt,(()=>{var dt=W(()=>L.duration_min>0);return()=>dt()?i.fancyTimeFormat(L.duration_min):""})(),null),$(tt,()=>L.duration_max>0&&L.duration_min>0?" - ":"",null),$(tt,(()=>{var dt=W(()=>L.duration_max>0);return()=>dt()?i.fancyTimeFormat(L.duration_max):""})(),null),q}}),null),$(X,v(z,{get when(){return L.is_reps},get children(){var q=gh(),it=q.firstChild,tt=it.nextSibling;return $(tt,()=>i.fancyRepFormat(L.reps_min,L.reps_max)),q}}),null),$(I,v(z,{get when(){return Object.keys(E()).length>0},get fallback(){return(()=>{var q=bh(),it=q.firstChild,tt=it.nextSibling,dt=tt.firstChild;return dt.$$click=()=>{l(`${B}_set_${T()}`);const ct=document.getElementById(`${B}_set_${T()}`).offsetTop;window.scrollTo({top:ct-30,behavior:"smooth"})},q})()},get children(){var q=ph(),it=q.firstChild,tt=it.firstChild;return tt.$$click=()=>{h(`${B}_set_${T()}`)},q}}),null),ut(()=>Pt(I,"id",`${B}_set_${T()}`)),I})()}function Z(st){const{_:B,setLog:L}=st;return(()=>{var T=_h(),E=T.firstChild,I=E.nextSibling,X=I.firstChild,K=X.nextSibling;return X.$$click=()=>{L({}),h(null)},K.$$click=()=>{h(null)},T})()}function et(st){const{set:B}=st;return(()=>{var L=vh(),T=L.firstChild;return $(L,v(z,{get when(){return B.is_duration},get children(){var E=xh();return E.$$click=()=>{C(!1),k(!1),D(!0)},ut(()=>E.className=x()?"action-box flex-1":"action-box-clickable flex-1"),E}}),T),$(L,v(z,{get when(){return B.is_reps},get children(){var E=yh();return E.$$click=()=>{C(!1),k(!0),D(!1)},ut(()=>E.className=S()?"action-box flex-1":"action-box-clickable flex-1"),E}}),T),T.$$click=()=>{C(!0),k(!1),D(!1)},ut(()=>T.className=A()?"action-box flex-1":"action-box-clickable flex-1"),L})()}function lt(st){const{duration:B,setDuration:L}=st,[T,E]=R(i.fancyTimeFormat(B()));return It(()=>{B()<0?L(0):E(i.fancyTimeFormat(B()))}),(()=>{var I=wh(),X=I.firstChild,K=X.firstChild,q=X.nextSibling,it=q.firstChild,tt=it.nextSibling,dt=tt.firstChild,ct=dt.nextSibling,V=tt.nextSibling,j=V.firstChild,J=j.nextSibling,Q=V.nextSibling,ht=Q.firstChild,ot=ht.nextSibling,kt=Q.nextSibling,Dt=kt.firstChild,yt=Dt.nextSibling;return $(K,T),it.$$click=()=>{L(0)},dt.$$click=()=>{B()<0?L(0):L(B()-5)},ct.$$click=()=>{L(B()+5)},j.$$click=()=>{B()<0?L(0):L(B()-30)},J.$$click=()=>{L(B()+30)},ht.$$click=()=>{B()<0?L(0):L(B()-60)},ot.$$click=()=>{L(B()+60)},Dt.$$click=()=>{B()<0?L(0):L(B()-600)},yt.$$click=()=>{L(B()+600)},I})()}function wt(st){const{exercise_id:B,set_id:L,weight:T,setWeight:E,manualInput:I,setManualInput:X}=st;return(()=>{var K=$h(),q=K.firstChild,it=q.nextSibling,tt=it.firstChild,dt=tt.firstChild,ct=dt.nextSibling,V=tt.nextSibling,j=V.firstChild,J=j.nextSibling,Q=V.nextSibling,ht=Q.firstChild,ot=ht.nextSibling,kt=Q.nextSibling,Dt=kt.firstChild,yt=Dt.nextSibling,vt=it.nextSibling,Lt=vt.firstChild,re=Lt.nextSibling;return $(q,v(z,{get when(){return I()},get fallback(){return(()=>{var Vt=Ws(),Qt=Vt.firstChild;return Vt.$$click=()=>{X(!0),document.getElementById(B+"_set_weight_"+L).focus()},$(Qt,(()=>{var $n=W(()=>T()===1);return()=>$n()?T()+" kg":T()+" kgs"})()),Vt})()},get children(){var Vt=kh(),Qt=Vt.firstChild,$n=Qt.nextSibling;return Vt.addEventListener("submit",Sn=>{Sn.preventDefault()}),Qt.$$keyup=Sn=>{E(parseFloat(Sn.target.value))},Pt(Qt,"id",B+"_set_weight_"+L),$n.$$click=()=>{X(!1)},ut(()=>Qt.value=T()===0?"":T()),Vt}})),dt.$$click=()=>{E(T()-.25),T()<0&&E(0)},ct.$$click=()=>{E(T()+.25)},j.$$click=()=>{E(T()-1),T()<0&&E(0)},J.$$click=()=>{E(T()+1)},ht.$$click=()=>{E(T()-5),T()<0&&E(0)},ot.$$click=()=>{E(T()+5)},Dt.$$click=()=>{E(T()-10),T()<0&&E(0)},yt.$$click=()=>{E(T()+10)},Lt.$$click=()=>{E(0)},re.$$click=()=>{E(T()*2)},K})()}function pt(st){const{exercise_id:B,set_id:L,reps:T,setReps:E,manualInput:I,setManualInput:X}=st;return(()=>{var K=Ch(),q=K.firstChild,it=q.nextSibling,tt=it.firstChild,dt=tt.firstChild,ct=dt.nextSibling,V=tt.nextSibling,j=V.firstChild,J=j.nextSibling,Q=V.nextSibling,ht=Q.firstChild,ot=ht.nextSibling,kt=it.nextSibling,Dt=kt.firstChild;return $(q,v(z,{get when(){return I()},get fallback(){return(()=>{var yt=Ws(),vt=yt.firstChild;return yt.$$click=()=>{X(!0),document.getElementById(B+"_set_reps_"+L).focus()},$(vt,(()=>{var Lt=W(()=>T()===1);return()=>Lt()?T()+" rep":T()+" reps"})()),yt})()},get children(){var yt=Sh(),vt=yt.firstChild,Lt=vt.nextSibling;return yt.addEventListener("submit",re=>re.preventDefault()),vt.$$keyup=re=>E(parseInt(re.target.value)),Pt(vt,"id",B+"_set_reps_"+L),Lt.$$click=()=>{X(!1)},ut(()=>vt.value=T()===0?"":T()),yt}})),dt.$$click=()=>{E(T()-1),T()<0&&E(0)},ct.$$click=()=>{E(T()+1)},j.$$click=()=>{E(T()-5),T()<0&&E(0)},J.$$click=()=>{E(T()+5)},ht.$$click=()=>{E(T()-10),T()<0&&E(0)},ot.$$click=()=>{E(T()+10)},Dt.$$click=()=>{E(0)},K})()}function jt(st){const B=st.set_log;return(()=>{var L=Dh();return $(L,v(z,{get when(){return B().reps>0},get children(){var T=Mh(),E=T.firstChild,I=E.firstChild;return $(E,()=>B().reps,I),T}}),null),$(L,v(z,{get when(){return B().duration>0},get children(){var T=Ph(),E=T.firstChild;return $(E,()=>i.fancyTimeFormat(B().duration)),T}}),null),$(L,v(z,{get when(){return B().weight>0},get children(){var T=Ah(),E=T.firstChild,I=E.firstChild;return $(E,()=>B().weight,I),T}}),null),L})()}function Ct(st){const{exercise_id:B,set:L,set_i:T}=st,[E,I]=R(!1),[X,K]=R(!1),[q,it]=R(0),[tt,dt]=R(0),[ct,V]=R(0),[j,J]=R({}),[Q,ht]=R(0);if(Object.keys(L.set_log).length>0){const ot={...L.set_log,lci:F().length-1};J(ot),Y([...F(),ot]),ht(ot.lci)}return(()=>{var ot=Lh();return $(ot,v(H,{exercise_id:B,set:L,set_i:T,set_log:j}),null),$(ot,v(z,{get when(){return c()===`${B}_set_${T()}`},get children(){return v(Z,{log:j,setLog:J})}}),null),$(ot,v(z,{get when(){return Object.keys(j()).length>0},get children(){return v(jt,{set_log:j})}}),null),$(ot,v(z,{get when(){return a()===`${B}_set_${T()}`},get children(){return[v(et,{set:L,set_i:T}),v(z,{get when(){return c()===`${B}_set_${T()}`},get children(){return v(Z,{get set_log_id(){return j.set_log_id}})}}),v(z,{get when(){return L.is_duration},get children(){return v(z,{get when(){return x()},get children(){return v(lt,{duration:ct,setDuration:V})}})}}),v(z,{get when(){return L.is_reps},get children(){return v(z,{get when(){return S()},get children(){return v(pt,{exercise_id:B,get set_id(){return L.set_id},reps:tt,setReps:dt,manualInput:E,setManualInput:I})}})}}),v(z,{get when(){return A()},get children(){return v(z,{get when(){return i.units==="kgs"},get children(){return v(wt,{exercise_id:B,get set_id(){return L.set_id},weight:q,setWeight:it,manualInput:X,setManualInput:K})}})}}),(()=>{var kt=Oh(),Dt=kt.firstChild,yt=Dt.nextSibling;return Dt.$$click=()=>{U(),I(!1),K(!1)},yt.$$click=()=>{const vt={account_id:i.account_id,workout_id:o,workout_session_id:r,exercise_id:B,set_id:L.set_id,weight:q(),reps:tt(),duration:ct(),lci:F().length+1};Y([...F(),vt]),J(vt),U(),I(!1),K(!1);const Lt=document.getElementById(`${B}_set_${T()}`).offsetTop;window.scrollTo({top:Lt-30,behavior:"smooth"})},kt})()]}}),null),ot})()}function zt(){return(()=>{var st=Fh();return $(st,v(z,{get when(){return!g()},get fallback(){return[(()=>{var B=zh(),L=B.firstChild,T=L.nextSibling,E=T.firstChild;return L.$$click=()=>{n("/workouts")},$(E,()=>N.get("workout").name),B})(),(()=>{var B=Nh(),L=B.firstChild,T=L.firstChild,E=T.nextSibling;return $(E,()=>i.fancyTimeFormat(N.get("workout_session").duration)),$(B,v(z,{get when(){return N.get("workout_session").total_weight>0},get children(){var I=Bh(),X=I.firstChild,K=X.nextSibling,q=K.firstChild;return $(K,()=>N.get("workout_session").total_weight,q),$(K,()=>i.units,null),I}}),null),B})()]},get children(){return[(()=>{var B=Th();return $(B,v(z,{get when(){return b()},get children(){return(()=>{var L=Hs(),T=L.firstChild;return $(L,v(z,{get when(){return!e()},get fallback(){return jh()},get children(){return js()}}),T),$(T,v(z,{get when(){return e()},get fallback(){return(()=>{var E=Dn();return E.$$click=()=>{m(!0),i.cancelSession({workout_id:o,workout_session_id:r}).then(I=>{n("/workouts")}).catch(I=>{m(!1)})},$(E,(()=>{var I=W(()=>!!p());return()=>I()?v(Ve,{}):"Try Again"})()),E})()},get children(){var E=Wh();return E.$$click=()=>{m(!0),i.cancelSession({workout_id:o,workout_session_id:r}).then(I=>{n("/workouts")}).catch(I=>{m(!1)})},$(E,(()=>{var I=W(()=>!!p());return()=>I()?v(Ve,{}):"Cancel Workout"})()),E}}),null),$(T,v(z,{get when(){return e()},get children(){var E=Vs();return E.$$click=()=>{_(!1)},E}}),null),ut(()=>L.className=(e(),"display-box flex-col text-center gap-6")),L})()},get fallback(){return(()=>{var L=Vh();return L.$$click=()=>{_(!0);const T=document.getElementById("cancel-workout").offsetTop;window.scrollTo({top:T-30,behavior:"smooth"})},L})()}})),B})(),(()=>{var B=Eh(),L=B.firstChild,T=L.firstChild;return $(T,()=>N.get("workout").name),B})(),(()=>{var B=Rh();return $(B,v(Ue,{get each(){return P()},children:(L,T)=>(()=>{var E=Yh(),I=E.firstChild,X=I.firstChild;return $(X,()=>L.name),$(I,v(z,{get when(){return L.info_url!==null&&L.info_url!==""&&L.info_url!==void 0},get children(){var K=Hh(),q=K.firstChild;return ut(it=>{var tt=L.info_url,dt=L.info_url_favicon;return tt!==it.e&&Pt(K,"href",it.e=tt),dt!==it.t&&Pt(q,"src",it.t=dt),it},{e:void 0,t:void 0}),K}}),null),$(E,v(Ue,{get each(){return L.sets},children:(K,q)=>v(Ct,{get exercise_id(){return L.exercise_id},set:K,set_i:q})}),null),E})()})),B})(),(()=>{var B=Ih();return $(B,v(z,{get when(){return w()},get children(){return(()=>{var L=Hs(),T=L.firstChild;return $(L,v(z,{get when(){return!e()},get fallback(){return Uh()},get children(){return js()}}),T),$(T,v(z,{get when(){return e()},get fallback(){return(()=>{var E=Dn();return E.$$click=()=>{d(!0),i.stopSession({workout_id:o,workout_session_id:r,data:{log_collection:F()}}).then(I=>{N.refetch(),d(!1)}).catch(I=>{d(!1)})},$(E,(()=>{var I=W(()=>!!u());return()=>I()?v(Ve,{}):"Try Again"})()),E})()},get children(){var E=Dn();return E.$$click=()=>{d(!0),i.stopSession({workout_id:o,workout_session_id:r,data:{log_collection:F()}}).then(I=>{N.refetch(),d(!1)}).catch(I=>{d(!1)})},$(E,(()=>{var I=W(()=>!!u());return()=>I()?v(Ve,{}):"Finish Workout"})()),E}}),null),$(T,v(z,{get when(){return e()},get children(){var E=Vs();return E.$$click=()=>{y(!1)},E}}),null),ut(()=>L.className=e()?"display-box no-bg flex-col text-center gap-6":"display-box flex-col text-center gap-6"),L})()},get fallback(){return(()=>{var L=Xh();return L.$$click=()=>{y(!0);const T=document.getElementById("finish-workout").offsetTop;window.scrollTo({top:T-30,behavior:"smooth"})},L})()}})),B})()]}})),st})()}return W((()=>{var st=W(()=>!!N.data.loading);return()=>st()?(()=>{var B=Kh();return $(B,v(oe,{})),B})():v(zt,{})})())}Xt(["click","keyup"]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Mi(i){return i+.5|0}const xe=(i,t,e)=>Math.max(Math.min(i,e),t);function oi(i){return xe(Mi(i*2.55),0,255)}function we(i){return xe(Mi(i*255),0,255)}function ue(i){return xe(Mi(i/2.55)/100,0,1)}function Ys(i){return xe(Mi(i*100),0,100)}const Kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Jn=[..."0123456789ABCDEF"],Gh=i=>Jn[i&15],Zh=i=>Jn[(i&240)>>4]+Jn[i&15],Li=i=>(i&240)>>4===(i&15),Jh=i=>Li(i.r)&&Li(i.g)&&Li(i.b)&&Li(i.a);function Qh(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Kt[i[1]]*17,g:255&Kt[i[2]]*17,b:255&Kt[i[3]]*17,a:t===5?Kt[i[4]]*17:255}:(t===7||t===9)&&(e={r:Kt[i[1]]<<4|Kt[i[2]],g:Kt[i[3]]<<4|Kt[i[4]],b:Kt[i[5]]<<4|Kt[i[6]],a:t===9?Kt[i[7]]<<4|Kt[i[8]]:255})),e}const tu=(i,t)=>i<255?t(i):"";function eu(i){var t=Jh(i)?Gh:Zh;return i?"#"+t(i.r)+t(i.g)+t(i.b)+tu(i.a,t):void 0}const iu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Er(i,t,e){const n=t*Math.min(e,1-e),s=(o,r=(o+i/30)%12)=>e-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function nu(i,t,e){const n=(s,o=(s+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function su(i,t,e){const n=Er(i,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function ou(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function fs(i){const e=i.r/255,n=i.g/255,s=i.b/255,o=Math.max(e,n,s),r=Math.min(e,n,s),a=(o+r)/2;let l,c,h;return o!==r&&(h=o-r,c=a>.5?h/(2-o-r):h/(o+r),l=ou(e,n,s,h,o),l=l*60+.5),[l|0,c||0,a]}function gs(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(we)}function ps(i,t,e){return gs(Er,i,t,e)}function ru(i,t,e){return gs(su,i,t,e)}function au(i,t,e){return gs(nu,i,t,e)}function Rr(i){return(i%360+360)%360}function lu(i){const t=iu.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?oi(+t[5]):we(+t[5]));const s=Rr(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=ru(s,o,r):t[1]==="hsv"?n=au(s,o,r):n=ps(s,o,r),{r:n[0],g:n[1],b:n[2],a:e}}function cu(i,t){var e=fs(i);e[0]=Rr(e[0]+t),e=ps(e),i.r=e[0],i.g=e[1],i.b=e[2]}function hu(i){if(!i)return;const t=fs(i),e=t[0],n=Ys(t[1]),s=Ys(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${ue(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}const Us={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xs={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uu(){const i={},t=Object.keys(Xs),e=Object.keys(Us);let n,s,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],s=0;s<e.length;s++)o=e[s],a=a.replace(o,Us[o]);o=parseInt(Xs[r],16),i[a]=[o>>16&255,o>>8&255,o&255]}return i}let Ti;function du(i){Ti||(Ti=uu(),Ti.transparent=[0,0,0,0]);const t=Ti[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gu(i){const t=fu.exec(i);let e=255,n,s,o;if(t){if(t[7]!==n){const r=+t[7];e=t[8]?oi(r):xe(r*255,0,255)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?oi(n):xe(n,0,255)),s=255&(t[4]?oi(s):xe(s,0,255)),o=255&(t[6]?oi(o):xe(o,0,255)),{r:n,g:s,b:o,a:e}}}function pu(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ue(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const On=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,We=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function mu(i,t,e){const n=We(ue(i.r)),s=We(ue(i.g)),o=We(ue(i.b));return{r:we(On(n+e*(We(ue(t.r))-n))),g:we(On(s+e*(We(ue(t.g))-s))),b:we(On(o+e*(We(ue(t.b))-o))),a:i.a+e*(t.a-i.a)}}function Ei(i,t,e){if(i){let n=fs(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=ps(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function Ir(i,t){return i&&Object.assign(t||{},i)}function Ks(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=we(i[3]))):(t=Ir(i,{r:0,g:0,b:0,a:1}),t.a=we(t.a)),t}function bu(i){return i.charAt(0)==="r"?gu(i):lu(i)}class _i{constructor(t){if(t instanceof _i)return t;const e=typeof t;let n;e==="object"?n=Ks(t):e==="string"&&(n=Qh(t)||du(t)||bu(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Ir(this._rgb);return t&&(t.a=ue(t.a)),t}set rgb(t){this._rgb=Ks(t)}rgbString(){return this._valid?pu(this._rgb):void 0}hexString(){return this._valid?eu(this._rgb):void 0}hslString(){return this._valid?hu(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,s=t.rgb;let o;const r=e===o?.5:e,a=2*r-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*s.r+.5,n.g=255&c*n.g+o*s.g+.5,n.b=255&c*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=mu(this._rgb,t._rgb,e)),this}clone(){return new _i(this.rgb)}alpha(t){return this._rgb.a=we(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Mi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ei(this._rgb,2,t),this}darken(t){return Ei(this._rgb,2,-t),this}saturate(t){return Ei(this._rgb,1,t),this}desaturate(t){return Ei(this._rgb,1,-t),this}rotate(t){return cu(this._rgb,t),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ae(){}const _u=(()=>{let i=0;return()=>i++})();function rt(i){return i===null||typeof i>"u"}function bt(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function nt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function $t(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Ht(i,t){return $t(i)?i:t}function G(i,t){return typeof i>"u"?t:i}const xu=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Fr=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function mt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function ft(i,t,e,n){let s,o,r;if(bt(i))if(o=i.length,n)for(s=o-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<o;s++)t.call(e,i[s],s);else if(nt(i))for(r=Object.keys(i),o=r.length,s=0;s<o;s++)t.call(e,i[r[s]],r[s])}function sn(i,t){let e,n,s,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function on(i){if(bt(i))return i.map(on);if(nt(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let s=0;for(;s<n;++s)t[e[s]]=on(i[e[s]]);return t}return i}function zr(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function yu(i,t,e,n){if(!zr(i))return;const s=t[i],o=e[i];nt(s)&&nt(o)?xi(s,o,n):t[i]=on(o)}function xi(i,t,e){const n=bt(t)?t:[t],s=n.length;if(!nt(i))return i;e=e||{};const o=e.merger||yu;let r;for(let a=0;a<s;++a){if(r=n[a],!nt(r))continue;const l=Object.keys(r);for(let c=0,h=l.length;c<h;++c)o(l[c],i,r,e)}return i}function hi(i,t){return xi(i,t,{merger:vu})}function vu(i,t,e){if(!zr(i))return;const n=t[i],s=e[i];nt(n)&&nt(s)?hi(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=on(s))}const qs={"":i=>i,x:i=>i.x,y:i=>i.y};function wu(i){const t=i.split("."),e=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function ku(i){const t=wu(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function ke(i,t){return(qs[t]||(qs[t]=ku(t)))(i)}function ms(i){return i.charAt(0).toUpperCase()+i.slice(1)}const yi=i=>typeof i<"u",$e=i=>typeof i=="function",Gs=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function $u(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const xt=Math.PI,_t=2*xt,Su=_t+xt,rn=Number.POSITIVE_INFINITY,Cu=xt/180,Mt=xt/2,Me=xt/4,Zs=xt*2/3,ye=Math.log10,ie=Math.sign;function ui(i,t,e){return Math.abs(i-t)<e}function Js(i){const t=Math.round(i);i=ui(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(ye(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Mu(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function Ke(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Pu(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function Br(i,t,e){let n,s,o;for(n=0,s=i.length;n<s;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zt(i){return i*(xt/180)}function bs(i){return i*(180/xt)}function Qs(i){if(!$t(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Nr(i,t){const e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);let o=Math.atan2(n,e);return o<-.5*xt&&(o+=_t),{angle:o,distance:s}}function Qn(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Au(i,t){return(i-t+Su)%_t-xt}function Yt(i){return(i%_t+_t)%_t}function vi(i,t,e,n){const s=Yt(i),o=Yt(t),r=Yt(e),a=Yt(o-s),l=Yt(r-s),c=Yt(s-o),h=Yt(s-r);return s===o||s===r||n&&o===r||a>l&&c<h}function Ot(i,t,e){return Math.max(t,Math.min(e,i))}function Du(i){return Ot(i,-32768,32767)}function de(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function _s(i,t,e){e=e||(r=>i[r]<t);let n=i.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,e(o)?s=o:n=o;return{lo:s,hi:n}}const fe=(i,t,e,n)=>_s(i,e,n?s=>{const o=i[s][t];return o<e||o===e&&i[s+1][t]===e}:s=>i[s][t]<e),Ou=(i,t,e)=>_s(i,e,n=>i[n][t]>=e);function Lu(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}const Wr=["push","pop","shift","splice","unshift"];function Tu(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Wr.forEach(e=>{const n="_onData"+ms(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function to(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Wr.forEach(o=>{delete i[o]}),delete i._chartjs)}function jr(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const Vr=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Hr(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,Vr.call(window,()=>{n=!1,i.apply(t,e)}))}}function Eu(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const xs=i=>i==="start"?"left":i==="end"?"right":"center",Tt=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,Ru=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function Yr(i,t,e){const n=t.length;let s=0,o=n;if(i._sorted){const{iScale:r,_parsed:a}=i,l=r.axis,{min:c,max:h,minDefined:u,maxDefined:d}=r.getUserBounds();u&&(s=Ot(Math.min(fe(a,l,c).lo,e?n:fe(t,l,r.getPixelForValue(c)).lo),0,n-1)),d?o=Ot(Math.max(fe(a,r.axis,h,!0).hi+1,e?0:fe(t,l,r.getPixelForValue(h),!0).hi+1),s,n)-s:o=n-s}return{start:s,count:o}}function Ur(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=s,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,s),o}const Ri=i=>i===0||i===1,eo=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*_t/e)),io=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*_t/e)+1,di={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Mt)+1,easeOutSine:i=>Math.sin(i*Mt),easeInOutSine:i=>-.5*(Math.cos(xt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Ri(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ri(i)?i:eo(i,.075,.3),easeOutElastic:i=>Ri(i)?i:io(i,.075,.3),easeInOutElastic(i){return Ri(i)?i:i<.5?.5*eo(i*2,.1125,.45):.5+.5*io(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-di.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?di.easeInBounce(i*2)*.5:di.easeOutBounce(i*2-1)*.5+.5};function ys(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function no(i){return ys(i)?i:new _i(i)}function Ln(i){return ys(i)?i:new _i(i).saturate(.5).darken(.1).hexString()}const Iu=["x","y","borderWidth","radius","tension"],Fu=["color","borderColor","backgroundColor"];function zu(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Fu},numbers:{type:"number",properties:Iu}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Bu(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const so=new Map;function Nu(i,t){t=t||{};const e=i+JSON.stringify(t);let n=so.get(e);return n||(n=new Intl.NumberFormat(i,t),so.set(e,n)),n}function Pi(i,t,e){return Nu(t,e).format(i)}const Xr={values(i){return bt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let s,o=i;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=Wu(i,e)}const r=ye(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Pi(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(ye(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Xr.numeric.call(this,i,t,e):""}};function Wu(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var _n={formatters:Xr};function ju(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_n.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fe=Object.create(null),ts=Object.create(null);function fi(i,t){if(!t)return i;const e=t.split(".");for(let n=0,s=e.length;n<s;++n){const o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function Tn(i,t,e){return typeof t=="string"?xi(fi(i,t),e):xi(fi(i,""),t)}class Vu{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Ln(s.backgroundColor),this.hoverBorderColor=(n,s)=>Ln(s.borderColor),this.hoverColor=(n,s)=>Ln(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Tn(this,t,e)}get(t){return fi(this,t)}describe(t,e){return Tn(ts,t,e)}override(t,e){return Tn(Fe,t,e)}route(t,e,n,s){const o=fi(this,t),r=fi(this,n),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=r[s];return nt(l)?Object.assign({},c,l):G(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var St=new Vu({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zu,Bu,ju]);function Hu(i){return!i||rt(i.size)||rt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function an(i,t,e,n,s){let o=t[s];return o||(o=t[s]=i.measureText(s).width,e.push(s)),o>n&&(n=o),n}function Yu(i,t,e,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let r=0;const a=e.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=e[l],u!=null&&!bt(u))r=an(i,s,o,r,u);else if(bt(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!bt(d)&&(r=an(i,s,o,r,d));i.restore();const g=o.length/2;if(g>e.length){for(l=0;l<g;l++)delete s[o[l]];o.splice(0,g)}return r}function Pe(i,t,e){const n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function oo(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function es(i,t,e,n){Kr(i,t,e,n,null)}function Kr(i,t,e,n,s){let o,r,a,l,c,h,u,d;const g=t.pointStyle,f=t.rotation,p=t.radius;let m=(f||0)*Cu;if(g&&typeof g=="object"&&(o=g.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(m),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(p)||p<=0)){switch(i.beginPath(),g){default:s?i.ellipse(e,n,s/2,p,0,0,_t):i.arc(e,n,p,0,_t),i.closePath();break;case"triangle":h=s?s/2:p,i.moveTo(e+Math.sin(m)*h,n-Math.cos(m)*p),m+=Zs,i.lineTo(e+Math.sin(m)*h,n-Math.cos(m)*p),m+=Zs,i.lineTo(e+Math.sin(m)*h,n-Math.cos(m)*p),i.closePath();break;case"rectRounded":c=p*.516,l=p-c,r=Math.cos(m+Me)*l,u=Math.cos(m+Me)*(s?s/2-c:l),a=Math.sin(m+Me)*l,d=Math.sin(m+Me)*(s?s/2-c:l),i.arc(e-u,n-a,c,m-xt,m-Mt),i.arc(e+d,n-r,c,m-Mt,m),i.arc(e+u,n+a,c,m,m+Mt),i.arc(e-d,n+r,c,m+Mt,m+xt),i.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*p,h=s?s/2:l,i.rect(e-h,n-l,2*h,2*l);break}m+=Me;case"rectRot":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),i.moveTo(e-u,n-a),i.lineTo(e+d,n-r),i.lineTo(e+u,n+a),i.lineTo(e-d,n+r),i.closePath();break;case"crossRot":m+=Me;case"cross":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+d,n-r),i.lineTo(e-d,n+r);break;case"star":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+d,n-r),i.lineTo(e-d,n+r),m+=Me,u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+d,n-r),i.lineTo(e-d,n+r);break;case"line":r=s?s/2:Math.cos(m)*p,a=Math.sin(m)*p,i.moveTo(e-r,n-a),i.lineTo(e+r,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(m)*(s?s/2:p),n+Math.sin(m)*p);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ge(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function xn(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function yn(i){i.restore()}function Uu(i,t,e,n,s){if(!t)return i.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else s==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Xu(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Ku(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),rt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function qu(i,t,e,n,s){if(s.strikethrough||s.underline){const o=i.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(r,h),i.lineTo(a,h),i.stroke()}}function Gu(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ze(i,t,e,n,s,o={}){const r=bt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(i.save(),i.font=s.string,Ku(i,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&Gu(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),rt(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(c,e,n,o.maxWidth)),i.fillText(c,e,n,o.maxWidth),qu(i,e,n,c,o),n+=Number(s.lineHeight);i.restore()}function wi(i,t){const{x:e,y:n,w:s,h:o,radius:r}=t;i.arc(e+r.topLeft,n+r.topLeft,r.topLeft,1.5*xt,xt,!0),i.lineTo(e,n+o-r.bottomLeft),i.arc(e+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,xt,Mt,!0),i.lineTo(e+s-r.bottomRight,n+o),i.arc(e+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Mt,0,!0),i.lineTo(e+s,n+r.topRight),i.arc(e+s-r.topRight,n+r.topRight,r.topRight,0,-Mt,!0),i.lineTo(e+r.topLeft,n)}const Zu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ju=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qu(i,t){const e=(""+i).match(Zu);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const td=i=>+i||0;function vs(i,t){const e={},n=nt(t),s=n?Object.keys(t):t,o=nt(i)?n?r=>G(i[r],i[t[r]]):r=>i[r]:()=>i;for(const r of s)e[r]=td(o(r));return e}function qr(i){return vs(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Re(i){return vs(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(i){const t=qr(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function At(i,t){i=i||{},t=t||St.font;let e=G(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=G(i.style,t.style);n&&!(""+n).match(Ju)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:G(i.family,t.family),lineHeight:Qu(G(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:G(i.weight,t.weight),string:""};return s.string=Hu(s),s}function ri(i,t,e,n){let s=!0,o,r,a;for(o=0,r=i.length;o<r;++o)if(a=i[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&bt(a)&&(a=a[e%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function ed(i,t,e){const{min:n,max:s}=i,o=Fr(t,(s-n)/2),r=(a,l)=>e&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(s,o)}}function Se(i,t){return Object.assign(Object.create(i),t)}function ws(i,t=[""],e,n,s=()=>i[0]){const o=e||i;typeof n>"u"&&(n=Qr("_fallback",i));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:s,override:a=>ws([a,...i],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return Zr(a,l,()=>cd(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return ao(a).includes(l)},ownKeys(a){return ao(a)},set(a,l,c){const h=a._storage||(a._storage=s());return a[l]=h[l]=c,delete a._keys,!0}})}function qe(i,t,e,n){const s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Gr(i,n),setContext:o=>qe(i,o,e,n),override:o=>qe(i.override(o),t,e,n)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete i[r],!0},get(o,r,a){return Zr(o,r,()=>nd(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(i,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,r)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,r){return Reflect.has(i,r)},ownKeys(){return Reflect.ownKeys(i)},set(o,r,a){return i[r]=a,delete o[r],!0}})}function Gr(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:$e(e)?e:()=>e,isIndexable:$e(n)?n:()=>n}}const id=(i,t)=>i?i+ms(t):t,ks=(i,t)=>nt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Zr(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];const n=e();return i[t]=n,n}function nd(i,t,e){const{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=i;let a=n[t];return $e(a)&&r.isScriptable(t)&&(a=sd(t,a,i,e)),bt(a)&&a.length&&(a=od(t,a,i,r.isIndexable)),ks(t,a)&&(a=qe(a,s,o&&o[t],r)),a}function sd(i,t,e,n){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=t(o,r||n);return a.delete(i),ks(i,l)&&(l=$s(s._scopes,s,i,l)),l}function od(i,t,e,n){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if(nt(t[0])){const l=t,c=s._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=$s(c,s,i,h);t.push(qe(u,o,r&&r[i],a))}}return t}function Jr(i,t,e){return $e(i)?i(t,e):i}const rd=(i,t)=>i===!0?t:typeof i=="string"?ke(t,i):void 0;function ad(i,t,e,n,s){for(const o of t){const r=rd(e,o);if(r){i.add(r);const a=Jr(r._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(r===!1&&typeof n<"u"&&e!==n)return null}return!1}function $s(i,t,e,n){const s=t._rootScopes,o=Jr(t._fallback,e,n),r=[...i,...s],a=new Set;a.add(n);let l=ro(a,r,e,o||e,n);return l===null||typeof o<"u"&&o!==e&&(l=ro(a,r,o,l,n),l===null)?!1:ws(Array.from(a),[""],s,o,()=>ld(t,e,n))}function ro(i,t,e,n,s){for(;e;)e=ad(i,t,e,n,s);return e}function ld(i,t,e){const n=i._getTarget();t in n||(n[t]={});const s=n[t];return bt(s)&&nt(e)?e:s||{}}function cd(i,t,e,n){let s;for(const o of t)if(s=Qr(id(o,i),e),typeof s<"u")return ks(i,s)?$s(e,n,i,s):s}function Qr(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function ao(i){let t=i._keys;return t||(t=i._keys=hd(i._scopes)),t}function hd(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function ta(i,t,e,n){const{iScale:s}=i,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,h;for(a=0,l=n;a<l;++a)c=a+e,h=t[c],r[a]={r:s.parse(ke(h,o),c)};return r}const ud=Number.EPSILON||1e-14,Ge=(i,t)=>t<i.length&&!i[t].skip&&i[t],ea=i=>i==="x"?"y":"x";function dd(i,t,e,n){const s=i.skip?t:i,o=t,r=e.skip?t:e,a=Qn(o,s),l=Qn(r,o);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=n*c,d=n*h;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+d*(r.x-s.x),y:o.y+d*(r.y-s.y)}}}function fd(i,t,e){const n=i.length;let s,o,r,a,l,c=Ge(i,0);for(let h=0;h<n-1;++h)if(l=c,c=Ge(i,h+1),!(!l||!c)){if(ui(t[h],0,ud)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],o=e[h+1]/t[h],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),e[h]=s*r*t[h],e[h+1]=o*r*t[h])}}function gd(i,t,e="x"){const n=ea(e),s=i.length;let o,r,a,l=Ge(i,0);for(let c=0;c<s;++c){if(r=a,a=l,l=Ge(i,c+1),!a)continue;const h=a[e],u=a[n];r&&(o=(h-r[e])/3,a[`cp1${e}`]=h-o,a[`cp1${n}`]=u-o*t[c]),l&&(o=(l[e]-h)/3,a[`cp2${e}`]=h+o,a[`cp2${n}`]=u+o*t[c])}}function pd(i,t="x"){const e=ea(t),n=i.length,s=Array(n).fill(0),o=Array(n);let r,a,l,c=Ge(i,0);for(r=0;r<n;++r)if(a=l,l=c,c=Ge(i,r+1),!!l){if(c){const h=c[t]-l[t];s[r]=h!==0?(c[e]-l[e])/h:0}o[r]=a?c?ie(s[r-1])!==ie(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}fd(i,s,o),gd(i,o,t)}function Ii(i,t,e){return Math.max(Math.min(i,e),t)}function md(i,t){let e,n,s,o,r,a=ge(i[0],t);for(e=0,n=i.length;e<n;++e)r=o,o=a,a=e<n-1&&ge(i[e+1],t),o&&(s=i[e],r&&(s.cp1x=Ii(s.cp1x,t.left,t.right),s.cp1y=Ii(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Ii(s.cp2x,t.left,t.right),s.cp2y=Ii(s.cp2y,t.top,t.bottom)))}function bd(i,t,e,n,s){let o,r,a,l;if(t.spanGaps&&(i=i.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")pd(i,s);else{let c=n?i[i.length-1]:i[0];for(o=0,r=i.length;o<r;++o)a=i[o],l=dd(c,a,i[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&md(i,e)}function Ss(){return typeof window<"u"&&typeof document<"u"}function Cs(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ln(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const vn=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function _d(i,t){return vn(i).getPropertyValue(t)}const xd=["top","right","bottom","left"];function Ie(i,t,e){const n={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=xd[s];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const yd=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function vd(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:o}=n;let r=!1,a,l;if(yd(s,o,i.target))a=s,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Oe(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,s=vn(e),o=s.boxSizing==="border-box",r=Ie(s,"padding"),a=Ie(s,"border","width"),{x:l,y:c,box:h}=vd(i,e),u=r.left+(h&&a.left),d=r.top+(h&&a.top);let{width:g,height:f}=t;return o&&(g-=r.width+a.width,f-=r.height+a.height),{x:Math.round((l-u)/g*e.width/n),y:Math.round((c-d)/f*e.height/n)}}function wd(i,t,e){let n,s;if(t===void 0||e===void 0){const o=Cs(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{const r=o.getBoundingClientRect(),a=vn(o),l=Ie(a,"border","width"),c=Ie(a,"padding");t=r.width-c.width-l.width,e=r.height-c.height-l.height,n=ln(a.maxWidth,o,"clientWidth"),s=ln(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:n||rn,maxHeight:s||rn}}const Fi=i=>Math.round(i*10)/10;function kd(i,t,e,n){const s=vn(i),o=Ie(s,"margin"),r=ln(s.maxWidth,i,"clientWidth")||rn,a=ln(s.maxHeight,i,"clientHeight")||rn,l=wd(i,t,e);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=Ie(s,"border","width"),g=Ie(s,"padding");c-=g.width+d.width,h-=g.height+d.height}return c=Math.max(0,c-o.width),h=Math.max(0,n?c/n:h-o.height),c=Fi(Math.min(c,r,l.maxWidth)),h=Fi(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Fi(c/2)),(t!==void 0||e!==void 0)&&n&&l.height&&h>l.height&&(h=l.height,c=Fi(Math.floor(h*n))),{width:c,height:h}}function lo(i,t,e){const n=t||1,s=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const r=i.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${i.height}px`,r.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||r.height!==s||r.width!==o?(i.currentDevicePixelRatio=n,r.height=s,r.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const $d=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Ss()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function co(i,t){const e=_d(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Le(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Sd(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function Cd(i,t,e,n){const s={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},r=Le(i,s,e),a=Le(s,o,e),l=Le(o,t,e),c=Le(r,a,e),h=Le(a,l,e);return Le(c,h,e)}const Md=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Pd=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Ye(i,t,e){return i?Md(t,e):Pd()}function ia(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function na(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function sa(i){return i==="angle"?{between:vi,compare:Au,normalize:Yt}:{between:de,compare:(t,e)=>t-e,normalize:t=>t}}function ho({start:i,end:t,count:e,loop:n,style:s}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:s}}function Ad(i,t,e){const{property:n,start:s,end:o}=e,{between:r,normalize:a}=sa(n),l=t.length;let{start:c,end:h,loop:u}=i,d,g;if(u){for(c+=l,h+=l,d=0,g=l;d<g&&r(a(t[c%l][n]),s,o);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:i.style}}function oa(i,t,e){if(!e)return[i];const{property:n,start:s,end:o}=e,r=t.length,{compare:a,between:l,normalize:c}=sa(n),{start:h,end:u,loop:d,style:g}=Ad(i,t,e),f=[];let p=!1,m=null,b,_,w;const y=()=>l(s,w,b)&&a(s,w)!==0,x=()=>a(o,b)===0||l(o,w,b),D=()=>p||y(),S=()=>!p||x();for(let k=h,A=h;k<=u;++k)_=t[k%r],!_.skip&&(b=c(_[n]),b!==w&&(p=l(b,s,o),m===null&&D()&&(m=a(b,s)===0?k:A),m!==null&&S()&&(f.push(ho({start:m,end:k,loop:d,count:r,style:g})),m=null),A=k,w=b));return m!==null&&f.push(ho({start:m,end:u,loop:d,count:r,style:g})),f}function ra(i,t){const e=[],n=i.segments;for(let s=0;s<n.length;s++){const o=oa(n[s],i.points,t);o.length&&e.push(...o)}return e}function Dd(i,t,e,n){let s=0,o=t-1;if(e&&!n)for(;s<t&&!i[s].skip;)s++;for(;s<t&&i[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&i[o%t].skip;)o--;return o%=t,{start:s,end:o}}function Od(i,t,e,n){const s=i.length,o=[];let r=t,a=i[t],l;for(l=t+1;l<=e;++l){const c=i[l%s];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%s,end:(l-1)%s,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%s,end:r%s,loop:n}),o}function Ld(i,t){const e=i.points,n=i.options.spanGaps,s=e.length;if(!s)return[];const o=!!i._loop,{start:r,end:a}=Dd(e,s,o,n);if(n===!0)return uo(i,[{start:r,end:a,loop:o}],e,t);const l=a<r?a+s:a,c=!!i._fullLoop&&r===0&&a===s-1;return uo(i,Od(e,r,l,c),e,t)}function uo(i,t,e,n){return!n||!n.setContext||!e?t:Td(i,t,e,n)}function Td(i,t,e,n){const s=i._chart.getContext(),o=fo(i.options),{_datasetIndex:r,options:{spanGaps:a}}=i,l=e.length,c=[];let h=o,u=t[0].start,d=u;function g(f,p,m,b){const _=a?-1:1;if(f!==p){for(f+=l;e[f%l].skip;)f-=_;for(;e[p%l].skip;)p+=_;f%l!==p%l&&(c.push({start:f%l,end:p%l,loop:m,style:b}),h=b,u=p%l)}}for(const f of t){u=a?u:f.start;let p=e[u%l],m;for(d=u+1;d<=f.end;d++){const b=e[d%l];m=fo(n.setContext(Se(s,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:r}))),Ed(m,h)&&g(u,d-1,f.loop,h),p=b,h=m}u<d-1&&g(u,d-1,f.loop,h)}return c}function fo(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Ed(i,t){if(!t)return!1;const e=[],n=function(s,o){return ys(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Rd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){const o=e.listeners[s],r=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Vr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,n,t,"progress")),o.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var le=new Rd;const go="transparent",Id={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=no(i||go),s=n.valid&&no(t||go);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class Fd{constructor(t,e,n,s){const o=e[n];s=ri([t.to,s,o,t.from]);const r=ri([t.from,o,s]);this._active=!0,this._fn=t.fn||Id[t.type||typeof r],this._easing=di[t.easing]||di.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ri([t.to,e,s,t.from]),this._from=ri([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||e<n),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=o;return}l=e/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}}class aa{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!nt(t))return;const e=Object.keys(St.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!nt(o))return;const r={};for(const a of e)r[a]=o[a];(bt(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,e){const n=e.options,s=Bd(t,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&zd(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){const n=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,e));continue}const h=e[c];let u=o[c];const d=n.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[c]=h;continue}o[c]=u=new Fd(d,t,c,h),s.push(u)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return le.add(this._chart,n),!0}}function zd(i,t){const e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const o=i[n[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Bd(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function po(i,t){const e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:s,end:n?s:o}}function Nd(i,t,e){if(e===!1)return!1;const n=po(i,e),s=po(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function Wd(i){let t,e,n,s;return nt(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function la(i,t){const e=[],n=i._getSortedDatasetMetas(t);let s,o;for(s=0,o=n.length;s<o;++s)e.push(n[s].index);return e}function mo(i,t,e,n={}){const s=i.keys,o=n.mode==="single";let r,a,l,c;if(t!==null){for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===e){if(n.all)continue;break}c=i.values[l],$t(c)&&(o||t===0||ie(t)===ie(c))&&(t+=c)}return t}}function jd(i){const t=Object.keys(i),e=new Array(t.length);let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],e[n]={x:o,y:i[o]};return e}function bo(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Vd(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Hd(i){const{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Yd(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function _o(i,t,e,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const o=i[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function xo(i,t){const{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,h=Vd(o,r,n),u=t.length;let d;for(let g=0;g<u;++g){const f=t[g],{[l]:p,[c]:m}=f,b=f._stacks||(f._stacks={});d=b[c]=Yd(s,h,p),d[a]=m,d._top=_o(d,r,!0,n.type),d._bottom=_o(d,r,!1,n.type);const _=d._visualValues||(d._visualValues={});_[a]=m}}function En(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Ud(i,t){return Se(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Xd(i,t,e){return Se(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Qe(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const s of t){const o=s._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}const Rn=i=>i==="reset"||i==="none",yo=(i,t)=>t?i:Object.assign({},i),Kd=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:la(e,!0),values:null};class Ce{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bo(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qe(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),s=(u,d,g,f)=>u==="x"?d:u==="r"?f:g,o=e.xAxisID=G(n.xAxisID,En(t,"x")),r=e.yAxisID=G(n.yAxisID,En(t,"y")),a=e.rAxisID=G(n.rAxisID,En(t,"r")),l=e.indexAxis,c=e.iAxisID=s(l,o,r,a),h=e.vAxisID=s(l,r,o,a);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&to(this._data,this),t._stacked&&Qe(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(nt(e))this._data=jd(e);else if(n!==e){if(n){to(n,this);const s=this._cachedMeta;Qe(s),s._parsed=[]}e&&Object.isExtensible(e)&&Tu(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=bo(e.vScale,e),e.stack!==n.stack&&(s=!0,Qe(e),e.stack=n.stack),this._resyncElements(t),(s||o!==e._stacked)&&xo(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:s}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&e===s.length?!0:n._sorted,c=t>0&&n._parsed[t-1],h,u,d;if(this._parsing===!1)n._parsed=s,n._sorted=!0,d=s;else{bt(s[t])?d=this.parseArrayData(n,s,t,e):nt(s[t])?d=this.parseObjectData(n,s,t,e):d=this.parsePrimitiveData(n,s,t,e);const g=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)n._parsed[h+t]=u=d[h],l&&(g()&&(l=!1),c=u);n._sorted=l}r&&xo(this,d)}parsePrimitiveData(t,e,n,s){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),h=o===r,u=new Array(s);let d,g,f;for(d=0,g=s;d<g;++d)f=d+n,u[d]={[a]:h||o.parse(c[f],f),[l]:r.parse(e[f],f)};return u}parseArrayData(t,e,n,s){const{xScale:o,yScale:r}=t,a=new Array(s);let l,c,h,u;for(l=0,c=s;l<c;++l)h=l+n,u=e[h],a[l]={x:o.parse(u[0],h),y:r.parse(u[1],h)};return a}parseObjectData(t,e,n,s){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,u,d,g;for(h=0,u=s;h<u;++h)d=h+n,g=e[d],c[h]={x:o.parse(ke(g,a),d),y:r.parse(ke(g,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const s=this.chart,o=this._cachedMeta,r=e[t.axis],a={keys:la(s,!0),values:e._stacks[t.axis]._visualValues};return mo(a,r,o.index,{mode:n})}updateRangeFromParsed(t,e,n,s){const o=n[e.axis];let r=o===null?NaN:o;const a=s&&n._stacks[e.axis];s&&a&&(s.values=a,r=mo(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,r=s.length,a=this._getOtherScale(t),l=Kd(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=Hd(a);let d,g;function f(){g=s[d];const p=g[a.axis];return!$t(g[t.axis])||h>p||u<p}for(d=0;d<r&&!(!f()&&(this.updateRangeFromParsed(c,t,g,l),o));++d);if(o){for(d=r-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let s,o,r;for(s=0,o=e.length;s<o;++s)r=e[s][t.axis],$t(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Wd(G(this.options.clip,Nd(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,s=n.data||[],o=e.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,o,a,l),h=a;h<a+l;++h){const u=s[h];u.hidden||(u.active&&c?r.push(u):u.draw(t,o))}for(h=0;h<r.length;++h)r[h].draw(t,o)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=Xd(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Ud(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const s=e==="active",o=this._cachedDataOpts,r=t+"-"+e,a=o[r],l=this.enableOptionSharing&&yi(n);if(a)return yo(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),g=Object.keys(St.elements[t]),f=()=>this.getContext(n,s,e),p=c.resolveNamedOptions(d,g,f,u);return p.$shared&&(p.$shared=l,o[r]=Object.freeze(yo(p,l))),p}_resolveAnimations(t,e,n){const s=this.chart,o=this._cachedDataOpts,r=`animation-${e}`,a=o[r];if(a)return a;let l;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(t,n,e))}const c=new aa(s,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Rn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,n),{sharedOptions:o,includeOptions:r}}updateElement(t,e,n,s){Rn(s)?Object.assign(t,n):this._resolveAnimations(e,s).update(t,n)}updateSharedOptions(t,e,n){t&&!Rn(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,n,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=n.length,o=e.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,n=!0){const s=this._cachedMeta,o=s.data,r=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=r;a--)c[a]=c[a-e]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,e),n&&this.updateElements(o,t,e,"reset")}updateElements(t,e,n,s){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,e);n._stacked&&Qe(n,s)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,s]=t;this[e](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function qd(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let s=0,o=e.length;s<o;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=jr(n.sort((s,o)=>s-o))}return i._cache.$bar}function Gd(i){const t=i.iScale,e=qd(t,i.type);let n=t._length,s,o,r,a;const l=()=>{r===32767||r===-32768||(yi(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(s=0,o=e.length;s<o;++s)r=t.getPixelForValue(e[s]),l();for(a=void 0,s=0,o=t.ticks.length;s<o;++s)r=t.getPixelForTick(s),l();return n}function Zd(i,t,e,n){const s=e.barThickness;let o,r;return rt(s)?(o=t.min*e.categoryPercentage,r=e.barPercentage):(o=s*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[i]-o/2}}function Jd(i,t,e,n){const s=t.pixels,o=s[i];let r=i>0?s[i-1]:null,a=i<s.length-1?s[i+1]:null;const l=e.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:e.barPercentage,start:c}}function Qd(i,t,e,n){const s=e.parse(i[0],n),o=e.parse(i[1],n),r=Math.min(s,o),a=Math.max(s,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:o,min:r,max:a}}function ca(i,t,e,n){return bt(i)?Qd(i,t,e,n):t[e.axis]=e.parse(i,n),t}function vo(i,t,e,n){const s=i.iScale,o=i.vScale,r=s.getLabels(),a=s===o,l=[];let c,h,u,d;for(c=e,h=e+n;c<h;++c)d=t[c],u={},u[s.axis]=a||s.parse(r[c],c),l.push(ca(d,u,o,c));return l}function In(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function tf(i,t,e){return i!==0?ie(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ef(i){let t,e,n,s,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:n,reverse:t,top:s,bottom:o}}function nf(i,t,e,n){let s=t.borderSkipped;const o={};if(!s){i.borderSkipped=o;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:h}=ef(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=c:(e._bottom||0)===n?s=h:(o[wo(h,r,a,l)]=!0,s=c)),o[wo(s,r,a,l)]=!0,i.borderSkipped=o}function wo(i,t,e,n){return n?(i=sf(i,t,e),i=ko(i,e,t)):i=ko(i,t,e),i}function sf(i,t,e){return i===t?e:i===e?t:i}function ko(i,t,e){return i==="start"?t:i==="end"?e:i}function of(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class rf extends Ce{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,s){return vo(t,e,n,s)}parseArrayData(t,e,n,s){return vo(t,e,n,s)}parseObjectData(t,e,n,s){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,h=r.axis==="x"?a:l,u=[];let d,g,f,p;for(d=n,g=n+s;d<g;++d)p=e[d],f={},f[o.axis]=o.parse(ke(p,c),d),u.push(ca(ke(p,h),f,r,d));return u}updateRangeFromParsed(t,e,n,s){super.updateRangeFromParsed(t,e,n,s);const o=n._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:s}=e,o=this.getParsed(t),r=o._custom,a=In(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,s){const o=s==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,s);for(let g=e;g<e+n;g++){const f=this.getParsed(g),p=o||rt(f[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),m=this._calculateBarIndexPixels(g,h),b=(f._stacks||{})[a.axis],_={horizontal:c,base:p.base,enableBorderRadius:!b||In(f._custom)||r===b._top||r===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(_.options=u||this.resolveDataElementOptions(g,t[g].active?"active":s));const w=_.options||t[g].options;nf(_,w,b,r),of(_,w,h.ratio),this.updateElement(t[g],g,_,s)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=n.options.stacked,r=[],a=l=>{const c=l.controller.getParsed(e),h=c&&c[l.vScale.axis];if(rt(h)||isNaN(h))return!0};for(const l of s)if(!(e!==void 0&&a(l))&&((o===!1||r.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const s=this._getStacks(t,n),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,s=[];let o,r;for(o=0,r=e.data.length;o<r;++o)s.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||Gd(e),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:s},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,h=In(c);let u=l[e.axis],d=0,g=n?this.applyStack(e,l,n):u,f,p;g!==u&&(d=g-u,g=u),h&&(u=c.barStart,g=c.barEnd-c.barStart,u!==0&&ie(u)!==ie(c.barEnd)&&(d=0),d+=u);const m=!rt(o)&&!h?o:d;let b=e.getPixelForValue(m);if(this.chart.getDataVisibility(t)?f=e.getPixelForValue(d+g):f=b,p=f-b,Math.abs(p)<r){p=tf(p,e,a)*r,u===a&&(b-=p/2);const _=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),y=Math.min(_,w),x=Math.max(_,w);b=Math.max(Math.min(b,x),y),f=b+p,n&&!h&&(l._stacks[e.axis]._visualValues[s]=e.getValueForPixel(f)-e.getValueForPixel(b))}if(b===e.getPixelForValue(a)){const _=ie(p)*e.getLineWidthForValue(a)/2;b+=_,p-=_}return{size:p,base:b,head:f,center:f+p/2}}_calculateBarIndexPixels(t,e){const n=e.scale,s=this.options,o=s.skipNull,r=G(s.maxBarThickness,1/0);let a,l;if(e.grouped){const c=o?this._getStackCount(t):e.stackCount,h=s.barThickness==="flex"?Jd(t,e,s,c):Zd(t,e,s,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(r,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,s=n.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&n[o].draw(this._ctx)}}class af extends Ce{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,s){const o=super.parsePrimitiveData(t,e,n,s);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,e,n,s){const o=super.parseArrayData(t,e,n,s);for(let r=0;r<o.length;r++){const a=e[n+r];o[r]._custom=G(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,e,n,s){const o=super.parseObjectData(t,e,n,s);for(let r=0;r<o.length;r++){const a=e[n+r];o[r]._custom=G(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=e,r=this.getParsed(t),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,s){const o=s==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,s),h=r.axis,u=a.axis;for(let d=e;d<e+n;d++){const g=t[d],f=!o&&this.getParsed(d),p={},m=p[h]=o?r.getPixelForDecimal(.5):r.getPixelForValue(f[h]),b=p[u]=o?a.getBasePixel():a.getPixelForValue(f[u]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,g.active?"active":s),o&&(p.options.radius=0)),this.updateElement(g,d,p,s)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=G(n&&n._custom,o),s}}function lf(i,t,e){let n=1,s=1,o=0,r=0;if(t<_t){const a=i,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),g=(w,y,x)=>vi(w,a,l,!0)?1:Math.max(y,y*e,x,x*e),f=(w,y,x)=>vi(w,a,l,!0)?-1:Math.min(y,y*e,x,x*e),p=g(0,c,u),m=g(Mt,h,d),b=f(xt,c,u),_=f(xt+Mt,h,d);n=(p-b)/2,s=(m-_)/2,o=-(p+b)/2,r=-(m+_)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}class Ms extends Ce{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let o=l=>+n[l];if(nt(n[t])){const{key:l="value"}=this._parsing;o=c=>+ke(n[c],l)}let r,a;for(r=t,a=t+e;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let t=_t,e=-_t;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,o=s._getRotation(),r=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(xu(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:g,offsetX:f,offsetY:p}=lf(u,h,l),m=(n.width-r)/d,b=(n.height-r)/g,_=Math.max(Math.min(m,b)/2,0),w=Fr(this.options.radius,_),y=Math.max(w*l,0),x=(w-y)/this._getVisibleDatasetWeightTotal();this.offsetX=f*w,this.offsetY=p*w,s.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/_t)}updateElements(t,e,n,s){const o=s==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=o&&c.animateScale,g=d?0:this.innerRadius,f=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,s);let b=this._getRotation(),_;for(_=0;_<e;++_)b+=this._circumference(_,o);for(_=e;_<e+n;++_){const w=this._circumference(_,o),y=t[_],x={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:f,innerRadius:g};m&&(x.options=p||this.resolveDataElementOptions(_,y.active?"active":s)),b+=w,this.updateElement(y,_,x,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_t*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Pi(e._parsed[t],n.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const n=this.chart;let s,o,r,a,l;if(!t){for(s=0,o=n.data.datasets.length;s<o;++s)if(n.isDatasetVisible(s)){r=n.getDatasetMeta(s),t=r.data,a=r.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,s=t.length;n<s;++n){const o=this.resolveDataElementOptions(n);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(G(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cf extends Ce{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:s=[],_dataset:o}=e,r=this.chart._animationsDisabled;let{start:a,count:l}=Yr(e,s,r);this._drawStart=a,this._drawCount=l,Ur(e)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,e,n,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,s),d=r.axis,g=a.axis,{spanGaps:f,segment:p}=this.options,m=Ke(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",_=e+n,w=t.length;let y=e>0&&this.getParsed(e-1);for(let x=0;x<w;++x){const D=t[x],S=b?D:{};if(x<e||x>=_){S.skip=!0;continue}const k=this.getParsed(x),A=rt(k[g]),C=S[d]=r.getPixelForValue(k[d],x),P=S[g]=o||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[g],x);S.skip=isNaN(C)||isNaN(P)||A,S.stop=x>0&&Math.abs(k[d]-y[d])>m,p&&(S.parsed=k,S.raw=c.data[x]),u&&(S.options=h||this.resolveDataElementOptions(x,D.active?"active":s)),b||this.updateElement(D,x,S,s),y=k}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class ha extends Ce{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Pi(e._parsed[t].r,n.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,n,s){return ta.bind(this)(t,e,n,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,n,s){const o=s==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*xt;let g=d,f;const p=360/this.countVisibleElements();for(f=0;f<e;++f)g+=this._computeAngle(f,s,p);for(f=e;f<e+n;f++){const m=t[f];let b=g,_=g+this._computeAngle(f,s,p),w=r.getDataVisibility(f)?c.getDistanceFromCenterForValue(this.getParsed(f).r):0;g=_,o&&(l.animateScale&&(w=0),l.animateRotate&&(b=_=d));const y={x:h,y:u,innerRadius:0,outerRadius:w,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(f,m.active?"active":s)};this.updateElement(m,f,y,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Zt(this.resolveDataElementOptions(t,e).angle||n):0}}class hf extends Ms{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class uf extends Ce{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,s){return ta.bind(this)(t,e,n,s)}update(t){const e=this._cachedMeta,n=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(n.points=s,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===s.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,n,s){const o=this._cachedMeta.rScale,r=s==="reset";for(let a=e;a<e+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),h=o.getPointPositionForValue(a,this.getParsed(a).r),u=r?o.xCenter:h.x,d=r?o.yCenter:h.y,g={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,a,g,s)}}}class df extends Ce{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=e,r=this.getParsed(t),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:r}=Yr(e,n,s);if(this._drawStart=o,this._drawCount=r,Ur(e)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),u=this.getSharedOptions(h),d=this.includeOptions(s,u),g=r.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,b=Ke(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||s==="none";let w=e>0&&this.getParsed(e-1);for(let y=e;y<e+n;++y){const x=t[y],D=this.getParsed(y),S=_?x:{},k=rt(D[f]),A=S[g]=r.getPixelForValue(D[g],y),C=S[f]=o||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[f],y);S.skip=isNaN(A)||isNaN(C)||k,S.stop=y>0&&Math.abs(D[g]-w[g])>b,m&&(S.parsed=D,S.raw=c.data[y]),d&&(S.options=u||this.resolveDataElementOptions(y,x.active?"active":s)),_||this.updateElement(x,y,S,s),w=D}this.updateSharedOptions(u,s,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,s=n.options&&n.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,r)/2}}var ff=Object.freeze({__proto__:null,BarController:rf,BubbleController:af,DoughnutController:Ms,LineController:cf,PieController:hf,PolarAreaController:ha,RadarController:uf,ScatterController:df});function Ae(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ps{static override(t){Object.assign(Ps.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ae()}parse(){return Ae()}format(){return Ae()}add(){return Ae()}diff(){return Ae()}startOf(){return Ae()}endOf(){return Ae()}}var gf={_date:Ps};function pf(i,t,e,n){const{controller:s,data:o,_sorted:r}=i,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const l=a._reversePixels?Ou:fe;if(n){if(s._sharedOptions){const c=o[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const u=l(o,t,e-h),d=l(o,t,e+h);return{lo:u.lo,hi:d.hi}}}}else return l(o,t,e)}return{lo:0,hi:o.length-1}}function Ai(i,t,e,n,s){const o=i.getSortedVisibleDatasetMetas(),r=e[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:h}=o[a],{lo:u,hi:d}=pf(o[a],t,r,s);for(let g=u;g<=d;++g){const f=h[g];f.skip||n(f,c,g)}}}function mf(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){const o=t?Math.abs(n.x-s.x):0,r=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Fn(i,t,e,n,s){const o=[];return!s&&!i.isPointInArea(t)||Ai(i,e,t,function(a,l,c){!s&&!ge(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function bf(i,t,e,n){let s=[];function o(r,a,l){const{startAngle:c,endAngle:h}=r.getProps(["startAngle","endAngle"],n),{angle:u}=Nr(r,{x:t.x,y:t.y});vi(u,c,h)&&s.push({element:r,datasetIndex:a,index:l})}return Ai(i,e,t,o),s}function _f(i,t,e,n,s,o){let r=[];const a=mf(e);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const g=h.inRange(t.x,t.y,s);if(n&&!g)return;const f=h.getCenterPoint(s);if(!(!!o||i.isPointInArea(f))&&!g)return;const m=a(t,f);m<l?(r=[{element:h,datasetIndex:u,index:d}],l=m):m===l&&r.push({element:h,datasetIndex:u,index:d})}return Ai(i,e,t,c),r}function zn(i,t,e,n,s,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!n?bf(i,t,e,s):_f(i,t,e,n,s,o)}function $o(i,t,e,n,s){const o=[],r=e==="x"?"inXRange":"inYRange";let a=!1;return Ai(i,e,t,(l,c,h)=>{l[r](t[e],s)&&(o.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,s))}),n&&!a?[]:o}var xf={evaluateInteractionItems:Ai,modes:{index(i,t,e,n){const s=Oe(t,i),o=e.axis||"x",r=e.includeInvisible||!1,a=e.intersect?Fn(i,s,o,n,r):zn(i,s,o,!1,n,r),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(i,t,e,n){const s=Oe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;let a=e.intersect?Fn(i,s,o,n,r):zn(i,s,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(i,t,e,n){const s=Oe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return Fn(i,s,o,n,r)},nearest(i,t,e,n){const s=Oe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return zn(i,s,o,e.intersect,n,r)},x(i,t,e,n){const s=Oe(t,i);return $o(i,s,"x",e.intersect,n)},y(i,t,e,n){const s=Oe(t,i);return $o(i,s,"y",e.intersect,n)}}};const ua=["left","top","right","bottom"];function ti(i,t){return i.filter(e=>e.pos===t)}function So(i,t){return i.filter(e=>ua.indexOf(e.pos)===-1&&e.box.axis===t)}function ei(i,t){return i.sort((e,n)=>{const s=t?n:e,o=t?e:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function yf(i){const t=[];let e,n,s,o,r,a;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function vf(i){const t={};for(const e of i){const{stack:n,pos:s,stackWeight:o}=e;if(!n||!ua.includes(s))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function wf(i,t){const e=vf(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let o,r,a;for(o=0,r=i.length;o<r;++o){a=i[o];const{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*n:l&&t.availableWidth,a.height=s):(a.width=n,a.height=h?h*s:l&&t.availableHeight)}return e}function kf(i){const t=yf(i),e=ei(t.filter(c=>c.box.fullSize),!0),n=ei(ti(t,"left"),!0),s=ei(ti(t,"right")),o=ei(ti(t,"top"),!0),r=ei(ti(t,"bottom")),a=So(t,"x"),l=So(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:ti(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}function Co(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function da(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function $f(i,t,e,n){const{pos:s,box:o}=e,r=i.maxPadding;if(!nt(s)){e.size&&(i[s]-=e.size);const u=n[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?o.height:o.width),e.size=u.size/u.count,i[s]+=e.size}o.getPadding&&da(r,o.getPadding());const a=Math.max(0,t.outerWidth-Co(r,i,"left","right")),l=Math.max(0,t.outerHeight-Co(r,i,"top","bottom")),c=a!==i.w,h=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function Sf(i){const t=i.maxPadding;function e(n){const s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Cf(i,t){const e=t.maxPadding;function n(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],e[r])}),o}return n(i?["left","right"]:["top","bottom"])}function ai(i,t,e,n){const s=[];let o,r,a,l,c,h;for(o=0,r=i.length,c=0;o<r;++o){a=i[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Cf(a.horizontal,t));const{same:u,other:d}=$f(t,e,a,n);c|=u&&s.length,h=h||d,l.fullSize||s.push(a)}return c&&ai(s,t,e,n)||h}function zi(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function Mo(i,t,e,n){const s=e.padding;let{x:o,y:r}=t;for(const a of i){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,d=c.size||l.height;yi(c.start)&&(r=c.start),l.fullSize?zi(l,s.left,r,e.outerWidth-s.right-s.left,d):zi(l,t.left+c.placed,r,u,d),c.start=r,c.placed+=u,r=l.bottom}else{const u=t.h*h,d=c.size||l.width;yi(c.start)&&(o=c.start),l.fullSize?zi(l,o,s.top,d,e.outerHeight-s.bottom-s.top):zi(l,o,t.top+c.placed,d,u),c.start=o,c.placed+=u,o=l.right}}t.x=o,t.y=r}var Et={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const s=Ft(i.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(e-s.height,0),a=kf(i.boxes),l=a.vertical,c=a.horizontal;ft(i.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),d=Object.assign({},s);da(d,Ft(n));const g=Object.assign({maxPadding:d,w:o,h:r,x:s.left,y:s.top},s),f=wf(l.concat(c),u);ai(a.fullSize,g,u,f),ai(l,g,u,f),ai(c,g,u,f)&&ai(l,g,u,f),Sf(g),Mo(a.leftAndTop,g,u,f),g.x+=g.w,g.y+=g.h,Mo(a.rightAndBottom,g,u,f),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ft(a.chartArea,p=>{const m=p.box;Object.assign(m,i.chartArea),m.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class fa{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}}class Mf extends fa{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xi="$chartjs",Pf={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Po=i=>i===null||i==="";function Af(i,t){const e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[Xi]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Po(s)){const o=co(i,"width");o!==void 0&&(i.width=o)}if(Po(n))if(i.style.height==="")i.height=i.width/(t||2);else{const o=co(i,"height");o!==void 0&&(i.height=o)}return i}const ga=$d?{passive:!0}:!1;function Df(i,t,e){i.addEventListener(t,e,ga)}function Of(i,t,e){i.canvas.removeEventListener(t,e,ga)}function Lf(i,t){const e=Pf[i.type]||i.type,{x:n,y:s}=Oe(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function cn(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function Tf(i,t,e){const n=i.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||cn(a.addedNodes,n),r=r&&!cn(a.removedNodes,n);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Ef(i,t,e){const n=i.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||cn(a.removedNodes,n),r=r&&!cn(a.addedNodes,n);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const ki=new Map;let Ao=0;function pa(){const i=window.devicePixelRatio;i!==Ao&&(Ao=i,ki.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Rf(i,t){ki.size||window.addEventListener("resize",pa),ki.set(i,t)}function If(i){ki.delete(i),ki.size||window.removeEventListener("resize",pa)}function Ff(i,t,e){const n=i.canvas,s=n&&Cs(n);if(!s)return;const o=Hr((a,l)=>{const c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||o(c,h)});return r.observe(s),Rf(i,o),r}function Bn(i,t,e){e&&e.disconnect(),t==="resize"&&If(i)}function zf(i,t,e){const n=i.canvas,s=Hr(o=>{i.ctx!==null&&e(Lf(o,i))},i);return Df(n,t,s),s}class Bf extends fa{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Af(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Xi])return!1;const n=e[Xi].initial;["height","width"].forEach(o=>{const r=n[o];rt(r)?e.removeAttribute(o):e.setAttribute(o,r)});const s=n.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[Xi],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),r={attach:Tf,detach:Ef,resize:Ff}[e]||zf;s[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Bn,detach:Bn,resize:Bn}[e]||Of)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return kd(t,e,n,s)}isAttached(t){const e=Cs(t);return!!(e&&e.isConnected)}}function Nf(i){return!Ss()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Mf:Bf}class _e{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ke(this.x)&&Ke(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const s={};return t.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}}function Wf(i,t){const e=i.options.ticks,n=jf(i),s=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?Hf(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>s)return Yf(t,c,o,r/s),c;const h=Vf(o,t,s);if(r>0){let u,d;const g=r>1?Math.round((l-a)/(r-1)):null;for(Bi(t,c,h,rt(g)?0:a-g,a),u=0,d=r-1;u<d;u++)Bi(t,c,h,o[u],o[u+1]);return Bi(t,c,h,l,rt(g)?t.length:l+g),c}return Bi(t,c,h),c}function jf(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function Vf(i,t,e){const n=Uf(i),s=t.length/e;if(!n)return Math.max(s,1);const o=Mu(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>s)return l}return Math.max(s,1)}function Hf(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Yf(i,t,e,n){let s=0,o=e[0],r;for(n=Math.ceil(n),r=0;r<i.length;r++)r===o&&(t.push(i[r]),s++,o=e[s*n])}function Bi(i,t,e,n,s){const o=G(n,0),r=Math.min(G(s,i.length),i.length);let a=0,l,c,h;for(e=Math.ceil(e),s&&(l=s-n,e=l/Math.floor(l/e)),h=o;h<0;)a++,h=Math.round(o+a*e);for(c=Math.max(o,0);c<r;c++)c===h&&(t.push(i[c]),a++,h=Math.round(o+a*e))}function Uf(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const Xf=i=>i==="left"?"right":i==="right"?"left":i,Do=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Oo=(i,t)=>Math.min(t||i,i);function Lo(i,t){const e=[],n=i.length/t,s=i.length;let o=0;for(;o<s;o+=n)e.push(i[Math.floor(o)]);return e}function Kf(i,t,e){const n=i.ticks.length,s=Math.min(t,n-1),o=i._startPixel,r=i._endPixel,a=1e-6;let l=i.getPixelForTick(s),c;if(!(e&&(n===1?c=Math.max(l-o,r-l):t===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<o-a||l>r+a)))return l}function qf(i,t){ft(i,e=>{const n=e.gc,s=n.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[n[o]];n.splice(0,s)}})}function ii(i){return i.drawTicks?i.tickLength:0}function To(i,t){if(!i.display)return 0;const e=At(i.font,t),n=Ft(i.padding);return(bt(i.text)?i.text.length:1)*e.lineHeight+n.height}function Gf(i,t){return Se(i,{scale:t,type:"scale"})}function Zf(i,t,e){return Se(i,{tick:e,index:t,type:"tick"})}function Jf(i,t,e){let n=xs(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Xf(n)),n}function Qf(i,t,e,n){const{top:s,left:o,bottom:r,right:a,chart:l}=i,{chartArea:c,scales:h}=l;let u=0,d,g,f;const p=r-s,m=a-o;if(i.isHorizontal()){if(g=Tt(n,o,a),nt(e)){const b=Object.keys(e)[0],_=e[b];f=h[b].getPixelForValue(_)+p-t}else e==="center"?f=(c.bottom+c.top)/2+p-t:f=Do(i,e,t);d=a-o}else{if(nt(e)){const b=Object.keys(e)[0],_=e[b];g=h[b].getPixelForValue(_)-m+t}else e==="center"?g=(c.left+c.right)/2-m+t:g=Do(i,e,t);f=Tt(n,r,s),u=e==="left"?-Mt:Mt}return{titleX:g,titleY:f,maxWidth:d,rotation:u}}class Be extends _e{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=Ht(t,Number.POSITIVE_INFINITY),e=Ht(e,Number.NEGATIVE_INFINITY),n=Ht(n,Number.POSITIVE_INFINITY),s=Ht(s,Number.NEGATIVE_INFINITY),{min:Ht(t,n),max:Ht(e,s),minDefined:$t(t),maxDefined:$t(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:e,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,r.min)),o||(n=Math.max(n,r.max));return e=o&&e>n?n:e,n=s&&e>n?e:n,{min:Ht(e,Ht(n,e)),max:Ht(n,Ht(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ed(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Lo(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Wf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=mt(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Oo(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let r=s,a,l,c;if(!this._isVisible()||!e.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,g=Ot(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:g/(n-1),u+6>a&&(a=g/(n-(t.offset?.5:1)),l=this.maxHeight-ii(t.grid)-e.padding-To(t.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),r=bs(Math.min(Math.asin(Ot((h.highest.height+6)/a,-1,1)),Math.asin(Ot(l/c,-1,1))-Math.asin(Ot(d/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=To(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=ii(o)+l):(t.height=this.maxHeight,t.width=ii(o)+l),n.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),g=n.padding*2,f=Zt(this.labelRotation),p=Math.cos(f),m=Math.sin(f);if(a){const b=n.mirror?0:m*u.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+b+g)}else{const b=n.mirror?0:p*u.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+g)}this._calculatePadding(c,h,m,p)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,g=0;l?c?(d=s*t.width,g=n*e.height):(d=n*t.height,g=s*e.width):o==="start"?g=e.width:o==="end"?d=t.width:o!=="inner"&&(d=t.width/2,g=e.width/2),this.paddingLeft=Math.max((d-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+r)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;o==="start"?(h=0,u=t.height):o==="end"&&(h=e.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)rt(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Lo(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:s,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(e/Oo(e,n));let c=0,h=0,u,d,g,f,p,m,b,_,w,y,x;for(u=0;u<e;u+=l){if(f=t[u].label,p=this._resolveTickFontOptions(u),s.font=m=p.string,b=o[m]=o[m]||{data:{},gc:[]},_=p.lineHeight,w=y=0,!rt(f)&&!bt(f))w=an(s,b.data,b.gc,w,f),y=_;else if(bt(f))for(d=0,g=f.length;d<g;++d)x=f[d],!rt(x)&&!bt(x)&&(w=an(s,b.data,b.gc,w,x),y+=_);r.push(w),a.push(y),c=Math.max(w,c),h=Math.max(y,h)}qf(o,e);const D=r.indexOf(c),S=a.indexOf(h),k=A=>({width:r[A]||0,height:a[A]||0});return{first:k(0),last:k(e-1),widest:k(D),highest:k(S),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Du(this._alignToPixels?Pe(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Zf(this.getContext(),t,n))}return this.$context||(this.$context=Gf(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zt(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,s=this.options,{grid:o,position:r,border:a}=s,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=ii(o),g=[],f=a.setContext(this.getContext()),p=f.display?f.width:0,m=p/2,b=function(U){return Pe(n,U,p)};let _,w,y,x,D,S,k,A,C,P,O,F;if(r==="top")_=b(this.bottom),S=this.bottom-d,A=_-m,P=b(t.top)+m,F=t.bottom;else if(r==="bottom")_=b(this.top),P=t.top,F=b(t.bottom)-m,S=_+m,A=this.top+d;else if(r==="left")_=b(this.right),D=this.right-d,k=_-m,C=b(t.left)+m,O=t.right;else if(r==="right")_=b(this.left),C=t.left,O=b(t.right)-m,D=_+m,k=this.left+d;else if(e==="x"){if(r==="center")_=b((t.top+t.bottom)/2+.5);else if(nt(r)){const U=Object.keys(r)[0],H=r[U];_=b(this.chart.scales[U].getPixelForValue(H))}P=t.top,F=t.bottom,S=_+m,A=S+d}else if(e==="y"){if(r==="center")_=b((t.left+t.right)/2);else if(nt(r)){const U=Object.keys(r)[0],H=r[U];_=b(this.chart.scales[U].getPixelForValue(H))}D=_-m,k=D-d,C=t.left,O=t.right}const Y=G(s.ticks.maxTicksLimit,u),N=Math.max(1,Math.ceil(u/Y));for(w=0;w<u;w+=N){const U=this.getContext(w),H=o.setContext(U),Z=a.setContext(U),et=H.lineWidth,lt=H.color,wt=Z.dash||[],pt=Z.dashOffset,jt=H.tickWidth,Ct=H.tickColor,zt=H.tickBorderDash||[],st=H.tickBorderDashOffset;y=Kf(this,w,l),y!==void 0&&(x=Pe(n,y,et),c?D=k=C=O=x:S=A=P=F=x,g.push({tx1:D,ty1:S,tx2:k,ty2:A,x1:C,y1:P,x2:O,y2:F,width:et,color:lt,borderDash:wt,borderDashOffset:pt,tickWidth:jt,tickColor:Ct,tickBorderDash:zt,tickBorderDashOffset:st}))}return this._ticksLength=u,this._borderValue=_,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=o,d=ii(n.grid),g=d+h,f=u?-h:g,p=-Zt(this.labelRotation),m=[];let b,_,w,y,x,D,S,k,A,C,P,O,F="middle";if(s==="top")D=this.bottom-f,S=this._getXAxisLabelAlignment();else if(s==="bottom")D=this.top+f,S=this._getXAxisLabelAlignment();else if(s==="left"){const N=this._getYAxisLabelAlignment(d);S=N.textAlign,x=N.x}else if(s==="right"){const N=this._getYAxisLabelAlignment(d);S=N.textAlign,x=N.x}else if(e==="x"){if(s==="center")D=(t.top+t.bottom)/2+g;else if(nt(s)){const N=Object.keys(s)[0],U=s[N];D=this.chart.scales[N].getPixelForValue(U)+g}S=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")x=(t.left+t.right)/2-g;else if(nt(s)){const N=Object.keys(s)[0],U=s[N];x=this.chart.scales[N].getPixelForValue(U)}S=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(l==="start"?F="top":l==="end"&&(F="bottom"));const Y=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){w=a[b],y=w.label;const N=o.setContext(this.getContext(b));k=this.getPixelForTick(b)+o.labelOffset,A=this._resolveTickFontOptions(b),C=A.lineHeight,P=bt(y)?y.length:1;const U=P/2,H=N.color,Z=N.textStrokeColor,et=N.textStrokeWidth;let lt=S;r?(x=k,S==="inner"&&(b===_-1?lt=this.options.reverse?"left":"right":b===0?lt=this.options.reverse?"right":"left":lt="center"),s==="top"?c==="near"||p!==0?O=-P*C+C/2:c==="center"?O=-Y.highest.height/2-U*C+C:O=-Y.highest.height+C/2:c==="near"||p!==0?O=C/2:c==="center"?O=Y.highest.height/2-U*C:O=Y.highest.height-P*C,u&&(O*=-1),p!==0&&!N.showLabelBackdrop&&(x+=C/2*Math.sin(p))):(D=k,O=(1-P)*C/2);let wt;if(N.showLabelBackdrop){const pt=Ft(N.backdropPadding),jt=Y.heights[b],Ct=Y.widths[b];let zt=O-pt.top,st=0-pt.left;switch(F){case"middle":zt-=jt/2;break;case"bottom":zt-=jt;break}switch(S){case"center":st-=Ct/2;break;case"right":st-=Ct;break;case"inner":b===_-1?st-=Ct:b>0&&(st-=Ct/2);break}wt={left:st,top:zt,width:Ct+pt.width,height:jt+pt.height,color:N.backdropColor}}m.push({label:y,font:A,textOffset:O,options:{rotation:p,color:H,strokeColor:Z,strokeWidth:et,textAlign:lt,textBaseline:F,translation:[x,D],backdrop:wt}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zt(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,h;return e==="left"?s?(h=this.right+o,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?s?(h=this.left+o,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:s,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,o,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(o=0,r=s.length;o<r;++o){const l=s[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=Pe(t,this.left,r)-r/2,h=Pe(t,this.right,a)+a/2,u=d=l):(u=Pe(t,this.top,r)-r/2,d=Pe(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&xn(n,s);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,h=r.textOffset;ze(n,c,0,h,l,a)}s&&yn(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;const o=At(n.font),r=Ft(n.padding),a=n.align;let l=o.lineHeight/2;e==="bottom"||e==="center"||nt(e)?(l+=r.bottom,bt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=Qf(this,l,e,a);ze(t,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:d,textAlign:Jf(a,e,s),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=G(t.grid&&t.grid.z,-1),s=G(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Be.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let o,r;for(o=0,r=e.length;o<r;++o){const a=e[o];a[n]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return At(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ni{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;ig(e)&&(n=this.register(e));const s=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,tg(t,r,n),this.override&&St.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in St[s]&&(delete St[s][n],this.override&&delete Fe[n])}}function tg(i,t,e){const n=xi(Object.create(null),[e?St.get(e):{},St.get(t),i.defaults]);St.set(t,n),i.defaultRoutes&&eg(t,i.defaultRoutes),i.descriptors&&St.describe(t,i.descriptors)}function eg(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),s=n.pop(),o=[i].concat(n).join("."),r=t[e].split("."),a=r.pop(),l=r.join(".");St.route(o,s,l,a)})}function ig(i){return"id"in i&&"defaults"in i}class ng{constructor(){this.controllers=new Ni(Ce,"datasets",!0),this.elements=new Ni(_e,"elements"),this.plugins=new Ni(Object,"plugins"),this.scales=new Ni(Be,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{const o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):ft(s,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,e,n){const s=ms(t);mt(n["before"+s],[],n),e[t](n),mt(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var ee=new ng;class sg{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,s){s=s||{};for(const o of t){const r=o.plugin,a=r[n],l=[e,s,o.options];if(mt(a,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,s=G(n.options&&n.options.plugins,{}),o=og(n);return s===!1&&!e?[]:ag(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}}function og(i){const t={},e=[],n=Object.keys(ee.plugins.items);for(let o=0;o<n.length;o++)e.push(ee.getPlugin(n[o]));const s=i.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];e.indexOf(r)===-1&&(e.push(r),t[r.id]=!0)}return{plugins:e,localIds:t}}function rg(i,t){return!t&&i===!1?null:i===!0?{}:i}function ag(i,{plugins:t,localIds:e},n,s){const o=[],r=i.getContext();for(const a of t){const l=a.id,c=rg(n[l],s);c!==null&&o.push({plugin:a,options:lg(i.config,{plugin:a,local:e[l]},c,r)})}return o}function lg(i,{plugin:t,local:e},n,s){const o=i.pluginScopeKeys(t),r=i.getOptionScopes(n,o);return e&&t.defaults&&r.push(t.defaults),i.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function is(i,t){const e=St.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function cg(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function hg(i,t){return i===t?"_index_":"_value_"}function Eo(i){if(i==="x"||i==="y"||i==="r")return i}function ug(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function ns(i,...t){if(Eo(i))return i;for(const e of t){const n=e.axis||ug(e.position)||i.length>1&&Eo(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Ro(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function dg(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return Ro(i,"x",e[0])||Ro(i,"y",e[0])}return{}}function fg(i,t){const e=Fe[i.type]||{scales:{}},n=t.scales||{},s=is(i.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!nt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=ns(r,a,dg(r,i),St.scales[a.type]),c=hg(l,s),h=e.scales||{};o[r]=hi(Object.create(null),[{axis:l},a,h[l],h[c]])}),i.data.datasets.forEach(r=>{const a=r.type||i.type,l=r.indexAxis||is(a,t),h=(Fe[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=cg(u,l),g=r[d+"AxisID"]||d;o[g]=o[g]||Object.create(null),hi(o[g],[{axis:d},n[g],h[u]])})}),Object.keys(o).forEach(r=>{const a=o[r];hi(a,[St.scales[a.type],St.scale])}),o}function ma(i){const t=i.options||(i.options={});t.plugins=G(t.plugins,{}),t.scales=fg(i,t)}function ba(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function gg(i){return i=i||{},i.data=ba(i.data),ma(i),i}const Io=new Map,_a=new Set;function Wi(i,t){let e=Io.get(i);return e||(e=t(),Io.set(i,e),_a.add(e)),e}const ni=(i,t,e)=>{const n=ke(t,e);n!==void 0&&i.add(n)};class pg{constructor(t){this._config=gg(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ba(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ma(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wi(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Wi(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Wi(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return Wi(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){const{options:s,type:o}=this,r=this._cachedScopes(t,n),a=r.get(e);if(a)return a;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>ni(l,t,u))),h.forEach(u=>ni(l,s,u)),h.forEach(u=>ni(l,Fe[o]||{},u)),h.forEach(u=>ni(l,St,u)),h.forEach(u=>ni(l,ts,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_a.has(e)&&r.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fe[e]||{},St.datasets[e]||{},{type:e},St,ts]}resolveNamedOptions(t,e,n,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Fo(this._resolverCache,t,s);let l=r;if(bg(r,e)){o.$shared=!1,n=$e(n)?n():n;const c=this.createResolver(t,n,a);l=qe(r,n,c)}for(const c of e)o[c]=l[c];return o}createResolver(t,e,n=[""],s){const{resolver:o}=Fo(this._resolverCache,t,n);return nt(e)?qe(o,e,void 0,s):o}}function Fo(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const s=e.join();let o=n.get(s);return o||(o={resolver:ws(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,o)),o}const mg=i=>nt(i)&&Object.getOwnPropertyNames(i).some(t=>$e(i[t]));function bg(i,t){const{isScriptable:e,isIndexable:n}=Gr(i);for(const s of t){const o=e(s),r=n(s),a=(r||o)&&i[s];if(o&&($e(a)||mg(a))||r&&bt(a))return!0}return!1}var _g="4.4.1";const xg=["top","bottom","left","right","chartArea"];function zo(i,t){return i==="top"||i==="bottom"||xg.indexOf(i)===-1&&t==="x"}function Bo(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function No(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),mt(e&&e.onComplete,[i],t)}function yg(i){const t=i.chart,e=t.options.animation;mt(e&&e.onProgress,[i],t)}function xa(i){return Ss()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Ki={},Wo=i=>{const t=xa(i);return Object.values(Ki).filter(e=>e.canvas===t).pop()};function vg(i,t,e){const n=Object.keys(i);for(const s of n){const o=+s;if(o>=t){const r=i[s];delete i[s],(e>0||o>t)&&(i[o+e]=r)}}}function wg(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function ji(i,t,e){return i.options.clip?i[e]:t[e]}function kg(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:ji(e,t,"left"),right:ji(e,t,"right"),top:ji(n,t,"top"),bottom:ji(n,t,"bottom")}:t}class gi{static defaults=St;static instances=Ki;static overrides=Fe;static registry=ee;static version=_g;static getChart=Wo;static register(...t){ee.add(...t),jo()}static unregister(...t){ee.remove(...t),jo()}constructor(t,e){const n=this.config=new pg(e),s=xa(t),o=Wo(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Nf(s)),this.platform.updateConfig(n);const a=this.platform.acquireContext(s,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=_u(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Eu(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],Ki[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}le.listen(this,"complete",No),le.listen(this,"progress",yg),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:s,_aspectRatio:o}=this;return rt(t)?e&&o?o:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ee}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oo(this.canvas,this.ctx),this}stop(){return le.stop(this),this}resize(t,e){le.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,s=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,t,e,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,lo(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),mt(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ft(e,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,s=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];e&&(o=o.concat(Object.keys(e).map(r=>{const a=e[r],l=ns(r,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),ft(o,r=>{const a=r.options,l=a.id,c=ns(l,a),h=G(a.type,r.dtype);(a.position===void 0||zo(a.position,c)!==zo(r.dposition))&&(a.position=r.dposition),s[l]=!0;let u=null;if(l in n&&n[l].type===h)u=n[l];else{const d=ee.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,t)}),ft(s,(r,a)=>{r||delete n[a]}),ft(n,r=>{Et.configure(this,r,r.options),Et.addBox(this,r)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((s,o)=>s.index-o.index),n>e){for(let s=e;s<n;++s)this._destroyDatasetMeta(s);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Bo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,s)=>{e.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=e.length;n<s;n++){const o=e[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||is(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=ee.getController(a),{datasetElementType:c,dataElementType:h}=St.datasets[a];Object.assign(l,{dataElementType:ee.getElement(h),datasetElementType:c&&ee.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){ft(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!s&&o.indexOf(u)===-1;u.buildOrUpdateElements(d),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),s||ft(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Bo("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ft(this.scales,t=>{Et.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Gs(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:o}of e){const r=n==="_removeElements"?-o:o;vg(t,s,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),s=n(0);for(let o=1;o<e;o++)if(!Gs(s,n(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Et.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ft(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,$e(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(le.has(this)?this.attached&&!le.running(this)&&le.start(this):(this.draw(),No({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resize(n,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let s,o;for(s=0,o=e.length;s<o;++s){const r=e[s];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,s=!n.disabled,o=kg(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&xn(e,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),t.controller.draw(),s&&yn(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ge(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,s){const o=xf.modes[e];return typeof o=="function"?o(this,t,n,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let s=n.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Se(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const s=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,s);yi(e)?(o.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),le.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),oo(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ki[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(o,r)=>{e.addEventListener(this,o,r),t[o]=r},s=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};ft(this.options.events,o=>n(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():r()}unbindEvents(){ft(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ft(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const s=n?"set":"remove";let o,r,a,l;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!sn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const s=this.options.hover,o=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=o(e,t),a=n?t:o(t,e);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const o=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(o||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:s=[],options:o}=this,r=e,a=this._getActiveElements(t,s,n,r),l=$u(t),c=wg(t,this._lastEvent,n,l);n&&(this._lastEvent=null,mt(o.onHover,[t,a,this],this),l&&mt(o.onClick,[t,a,this],this));const h=!sn(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=c,h}_getActiveElements(t,e,n,s){if(t.type==="mouseout")return[];if(!n)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}function jo(){return ft(gi.instances,i=>i._plugins.invalidate())}function $g(i,t,e){const{startAngle:n,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=s/a;i.beginPath(),i.arc(o,r,a,n-c,e+c),l>s?(c=s/l,i.arc(o,r,l,e+c,n-c,!0)):i.arc(o,r,s,e+Mt,n-Mt),i.closePath(),i.clip()}function Sg(i){return vs(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Cg(i,t,e,n){const s=Sg(i.options.borderRadius),o=(e-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(e-Math.min(o,l))*n/2;return Ot(l,0,Math.min(o,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ot(s.innerStart,0,r),innerEnd:Ot(s.innerEnd,0,r)}}function je(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function hn(i,t,e,n,s,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+n+e-c,0),d=h>0?h+n+e+c:0;let g=0;const f=s-l;if(n){const N=h>0?h-n:0,U=u>0?u-n:0,H=(N+U)/2,Z=H!==0?f*H/(H+n):f;g=(f-Z)/2}const p=Math.max(.001,f*u-e/xt)/u,m=(f-p)/2,b=l+m+g,_=s-m-g,{outerStart:w,outerEnd:y,innerStart:x,innerEnd:D}=Cg(t,d,u,_-b),S=u-w,k=u-y,A=b+w/S,C=_-y/k,P=d+x,O=d+D,F=b+x/P,Y=_-D/O;if(i.beginPath(),o){const N=(A+C)/2;if(i.arc(r,a,u,A,N),i.arc(r,a,u,N,C),y>0){const et=je(k,C,r,a);i.arc(et.x,et.y,y,C,_+Mt)}const U=je(O,_,r,a);if(i.lineTo(U.x,U.y),D>0){const et=je(O,Y,r,a);i.arc(et.x,et.y,D,_+Mt,Y+Math.PI)}const H=(_-D/d+(b+x/d))/2;if(i.arc(r,a,d,_-D/d,H,!0),i.arc(r,a,d,H,b+x/d,!0),x>0){const et=je(P,F,r,a);i.arc(et.x,et.y,x,F+Math.PI,b-Mt)}const Z=je(S,b,r,a);if(i.lineTo(Z.x,Z.y),w>0){const et=je(S,A,r,a);i.arc(et.x,et.y,w,b-Mt,A)}}else{i.moveTo(r,a);const N=Math.cos(A)*u+r,U=Math.sin(A)*u+a;i.lineTo(N,U);const H=Math.cos(C)*u+r,Z=Math.sin(C)*u+a;i.lineTo(H,Z)}i.closePath()}function Mg(i,t,e,n,s){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){hn(i,t,e,n,l,s);for(let c=0;c<o;++c)i.fill();isNaN(a)||(l=r+(a%_t||_t))}return hn(i,t,e,n,l,s),i.fill(),l}function Pg(i,t,e,n,s){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d}=l,g=l.borderAlign==="inner";if(!c)return;i.setLineDash(u||[]),i.lineDashOffset=d,g?(i.lineWidth=c*2,i.lineJoin=h||"round"):(i.lineWidth=c,i.lineJoin=h||"bevel");let f=t.endAngle;if(o){hn(i,t,e,n,f,s);for(let p=0;p<o;++p)i.stroke();isNaN(a)||(f=r+(a%_t||_t))}g&&$g(i,t,f),o||(hn(i,t,e,n,f,s),i.stroke())}class Ag extends _e{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.getProps(["x","y"],n),{angle:o,distance:r}=Nr(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,f=G(u,l-a)>=_t||vi(o,a,l),p=de(r,c+d,h+d);return f&&p}getCenterPoint(t){const{x:e,y:n,startAngle:s,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(s+o)/2,u=(r+a+c+l)/2;return{x:e+Math.cos(h)*u,y:n+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,s=(e.offset||0)/4,o=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>_t?Math.floor(n/_t):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(xt,n||0)),c=s*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Mg(t,this,c,o,r),Pg(t,this,c,o,r),t.restore()}}function ya(i,t,e=t){i.lineCap=G(e.borderCapStyle,t.borderCapStyle),i.setLineDash(G(e.borderDash,t.borderDash)),i.lineDashOffset=G(e.borderDashOffset,t.borderDashOffset),i.lineJoin=G(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=G(e.borderWidth,t.borderWidth),i.strokeStyle=G(e.borderColor,t.borderColor)}function Dg(i,t,e){i.lineTo(e.x,e.y)}function Og(i){return i.stepped?Uu:i.tension||i.cubicInterpolationMode==="monotone"?Xu:Dg}function va(i,t,e={}){const n=i.length,{start:s=0,end:o=n-1}=e,{start:r,end:a}=t,l=Math.max(s,r),c=Math.min(o,a),h=s<r&&o<r||s>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!h?n+c-l:c-l}}function Lg(i,t,e,n){const{points:s,options:o}=t,{count:r,start:a,loop:l,ilen:c}=va(s,e,n),h=Og(o);let{move:u=!0,reverse:d}=n||{},g,f,p;for(g=0;g<=c;++g)f=s[(a+(d?c-g:g))%r],!f.skip&&(u?(i.moveTo(f.x,f.y),u=!1):h(i,p,f,d,o.stepped),p=f);return l&&(f=s[(a+(d?c:0))%r],h(i,p,f,d,o.stepped)),!!l}function Tg(i,t,e,n){const s=t.points,{count:o,start:r,ilen:a}=va(s,e,n),{move:l=!0,reverse:c}=n||{};let h=0,u=0,d,g,f,p,m,b;const _=y=>(r+(c?a-y:y))%o,w=()=>{p!==m&&(i.lineTo(h,m),i.lineTo(h,p),i.lineTo(h,b))};for(l&&(g=s[_(0)],i.moveTo(g.x,g.y)),d=0;d<=a;++d){if(g=s[_(d)],g.skip)continue;const y=g.x,x=g.y,D=y|0;D===f?(x<p?p=x:x>m&&(m=x),h=(u*h+y)/++u):(w(),i.lineTo(y,x),f=D,u=0,p=m=x),b=x}w()}function ss(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Tg:Lg}function Eg(i){return i.stepped?Sd:i.tension||i.cubicInterpolationMode==="monotone"?Cd:Le}function Rg(i,t,e,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,n)&&s.closePath()),ya(i,t.options),i.stroke(s)}function Ig(i,t,e,n){const{segments:s,options:o}=t,r=ss(t);for(const a of s)ya(i,o,a.style),i.beginPath(),r(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}const Fg=typeof Path2D=="function";function zg(i,t,e,n){Fg&&!t.options.segment?Rg(i,t,e,n):Ig(i,t,e,n)}class wn extends _e{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;bd(this._points,n,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ld(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,s=t[e],o=this.points,r=ra(this,{property:e,start:s,end:s});if(!r.length)return;const a=[],l=Eg(n);let c,h;for(c=0,h=r.length;c<h;++c){const{start:u,end:d}=r[c],g=o[u],f=o[d];if(g===f){a.push(g);continue}const p=Math.abs((s-g[e])/(f[e]-g[e])),m=l(g,f,p,n.stepped);m[e]=t[e],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,e,n){return ss(this)(t,this,e,n)}path(t,e,n){const s=this.segments,o=ss(this);let r=this._loop;e=e||0,n=n||this.points.length-e;for(const a of s)r&=o(t,this,a,{start:e,end:e+n-1});return!!r}draw(t,e,n,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),zg(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Vo(i,t,e,n){const s=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<s.radius+s.hitRadius}class Bg extends _e{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const s=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Vo(this,t,"x",e)}inYRange(t,e){return Vo(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!ge(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,es(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function wa(i,t){const{x:e,y:n,base:s,width:o,height:r}=i.getProps(["x","y","base","width","height"],t);let a,l,c,h,u;return i.horizontal?(u=r/2,a=Math.min(e,s),l=Math.max(e,s),c=n-u,h=n+u):(u=o/2,a=e-u,l=e+u,c=Math.min(n,s),h=Math.max(n,s)),{left:a,top:c,right:l,bottom:h}}function ve(i,t,e,n){return i?0:Ot(t,e,n)}function Ng(i,t,e){const n=i.options.borderWidth,s=i.borderSkipped,o=qr(n);return{t:ve(s.top,o.top,0,e),r:ve(s.right,o.right,0,t),b:ve(s.bottom,o.bottom,0,e),l:ve(s.left,o.left,0,t)}}function Wg(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,o=Re(s),r=Math.min(t,e),a=i.borderSkipped,l=n||nt(s);return{topLeft:ve(!l||a.top||a.left,o.topLeft,0,r),topRight:ve(!l||a.top||a.right,o.topRight,0,r),bottomLeft:ve(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:ve(!l||a.bottom||a.right,o.bottomRight,0,r)}}function jg(i){const t=wa(i),e=t.right-t.left,n=t.bottom-t.top,s=Ng(i,e/2,n/2),o=Wg(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Nn(i,t,e,n){const s=t===null,o=e===null,a=i&&!(s&&o)&&wa(i,n);return a&&(s||de(t,a.left,a.right))&&(o||de(e,a.top,a.bottom))}function Vg(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function Hg(i,t){i.rect(t.x,t.y,t.w,t.h)}function Wn(i,t,e={}){const n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,o=(i.x+i.w!==e.x+e.w?t:0)-n,r=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+o,h:i.h+r,radius:i.radius}}class Yg extends _e{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:r}=jg(this),a=Vg(r.radius)?wi:Hg;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Wn(r,e,o)),t.clip(),a(t,Wn(o,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Wn(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return Nn(this,t,e,n)}inXRange(t,e){return Nn(this,t,null,e)}inYRange(t,e){return Nn(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var Ug=Object.freeze({__proto__:null,ArcElement:Ag,BarElement:Yg,LineElement:wn,PointElement:Bg});const os=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ho=os.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function ka(i){return os[i%os.length]}function $a(i){return Ho[i%Ho.length]}function Xg(i,t){return i.borderColor=ka(t),i.backgroundColor=$a(t),++t}function Kg(i,t){return i.backgroundColor=i.data.map(()=>ka(t++)),t}function qg(i,t){return i.backgroundColor=i.data.map(()=>$a(t++)),t}function Gg(i){let t=0;return(e,n)=>{const s=i.getDatasetMeta(n).controller;s instanceof Ms?t=Kg(e,t):s instanceof ha?t=qg(e,t):s&&(t=Xg(e,t))}}function Yo(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function Zg(i){return i&&(i.borderColor||i.backgroundColor)}var Jg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:n},options:s}=i.config,{elements:o}=s;if(!e.forceOverride&&(Yo(n)||Zg(s)||o&&Yo(o)))return;const r=Gg(i);n.forEach(r)}};function Qg(i,t,e,n,s){const o=s.samples||n;if(o>=e)return i.slice(t,t+e);const r=[],a=(e-2)/(o-2);let l=0;const c=t+e-1;let h=t,u,d,g,f,p;for(r[l++]=i[h],u=0;u<o-2;u++){let m=0,b=0,_;const w=Math.floor((u+1)*a)+1+t,y=Math.min(Math.floor((u+2)*a)+1,e)+t,x=y-w;for(_=w;_<y;_++)m+=i[_].x,b+=i[_].y;m/=x,b/=x;const D=Math.floor(u*a)+1+t,S=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:k,y:A}=i[h];for(g=f=-1,_=D;_<S;_++)f=.5*Math.abs((k-m)*(i[_].y-A)-(k-i[_].x)*(b-A)),f>g&&(g=f,d=i[_],p=_);r[l++]=d,h=p}return r[l++]=i[c],r}function tp(i,t,e,n){let s=0,o=0,r,a,l,c,h,u,d,g,f,p;const m=[],b=t+e-1,_=i[t].x,y=i[b].x-_;for(r=t;r<t+e;++r){a=i[r],l=(a.x-_)/y*n,c=a.y;const x=l|0;if(x===h)c<f?(f=c,u=r):c>p&&(p=c,d=r),s=(o*s+a.x)/++o;else{const D=r-1;if(!rt(u)&&!rt(d)){const S=Math.min(u,d),k=Math.max(u,d);S!==g&&S!==D&&m.push({...i[S],x:s}),k!==g&&k!==D&&m.push({...i[k],x:s})}r>0&&D!==g&&m.push(i[D]),m.push(a),h=x,o=0,f=p=c,u=d=g=r}}return m}function Sa(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Uo(i){i.data.datasets.forEach(t=>{Sa(t)})}function ep(i,t){const e=t.length;let n=0,s;const{iScale:o}=i,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Ot(fe(t,o.axis,r).lo,0,e-1)),c?s=Ot(fe(t,o.axis,a).hi+1,n,e)-n:s=e-n,{start:n,count:s}}var ip={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){Uo(i);return}const n=i.width;i.data.datasets.forEach((s,o)=>{const{_data:r,indexAxis:a}=s,l=i.getDatasetMeta(o),c=r||s.data;if(ri([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=i.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:u,count:d}=ep(l,c);const g=e.threshold||4*n;if(d<=g){Sa(s);return}rt(r)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let f;switch(e.algorithm){case"lttb":f=Qg(c,u,d,n,e);break;case"min-max":f=tp(c,u,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=f})},destroy(i){Uo(i)}};function np(i,t,e){const n=i.segments,s=i.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=As(l,c,s);const h=rs(e,s[l],s[c],a.loop);if(!t.segments){r.push({source:a,target:h,start:s[l],end:s[c]});continue}const u=ra(t,h);for(const d of u){const g=rs(e,o[d.start],o[d.end],d.loop),f=oa(a,s,g);for(const p of f)r.push({source:p,target:d,start:{[e]:Xo(h,g,"start",Math.max)},end:{[e]:Xo(h,g,"end",Math.min)}})}}return r}function rs(i,t,e,n){if(n)return;let s=t[i],o=e[i];return i==="angle"&&(s=Yt(s),o=Yt(o)),{property:i,start:s,end:o}}function sp(i,t){const{x:e=null,y:n=null}=i||{},s=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=As(r,a,s);const l=s[r],c=s[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function As(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Xo(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Ca(i,t){let e=[],n=!1;return bt(i)?(n=!0,e=i):e=sp(i,t),e.length?new wn({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Ko(i){return i&&i.fill!==!1}function op(i,t,e){let s=i[t].fill;const o=[t];let r;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!$t(s))return s;if(r=i[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function rp(i,t,e){const n=hp(i);if(nt(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return $t(s)&&Math.floor(s)===s?ap(n[0],t,s,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ap(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function lp(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:nt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function cp(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:nt(i)?n=i.value:n=t.getBaseValue(),n}function hp(i){const t=i.options,e=t.fill;let n=G(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function up(i){const{scale:t,index:e,line:n}=i,s=[],o=n.segments,r=n.points,a=dp(t,e);a.push(Ca({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let h=c.start;h<=c.end;h++)fp(s,r[h],a)}return new wn({points:s,options:{}})}function dp(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const o=n[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function fp(i,t,e){const n=[];for(let s=0;s<e.length;s++){const o=e[s],{first:r,last:a,point:l}=gp(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(i.push(l),!a)break}}i.push(...n)}function gp(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const s=n[e],o=i.segments,r=i.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const h=o[c],u=r[h.start][e],d=r[h.end][e];if(de(s,u,d)){a=s===u,l=s===d;break}}return{first:a,last:l,point:n}}class Ma{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:s,y:o,radius:r}=this;return e=e||{start:0,end:_t},t.arc(s,o,r,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}}function pp(i){const{chart:t,fill:e,line:n}=i;if($t(e))return mp(t,e);if(e==="stack")return up(i);if(e==="shape")return!0;const s=bp(i);return s instanceof Ma?s:Ca(s,n)}function mp(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function bp(i){return(i.scale||{}).getPointPositionForValue?xp(i):_p(i)}function _p(i){const{scale:t={},fill:e}=i,n=lp(e,t);if($t(n)){const s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function xp(i){const{scale:t,fill:e}=i,n=t.options,s=t.getLabels().length,o=n.reverse?t.max:t.min,r=cp(e,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new Ma({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,r));return a}function jn(i,t,e){const n=pp(t),{line:s,scale:o,axis:r}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};n&&s.points.length&&(xn(i,e),yp(i,{line:s,target:n,above:h,below:u,area:e,scale:o,axis:r}),yn(i))}function yp(i,t){const{line:e,target:n,above:s,below:o,area:r,scale:a}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&o!==s&&(qo(i,n,r.top),Go(i,{line:e,target:n,color:s,scale:a,property:l}),i.restore(),i.save(),qo(i,n,r.bottom)),Go(i,{line:e,target:n,color:o,scale:a,property:l}),i.restore()}function qo(i,t,e){const{segments:n,points:s}=t;let o=!0,r=!1;i.beginPath();for(const a of n){const{start:l,end:c}=a,h=s[l],u=s[As(l,c,s)];o?(i.moveTo(h.x,h.y),o=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),r=!!t.pathSegment(i,a,{move:r}),r?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Go(i,t){const{line:e,target:n,property:s,color:o,scale:r}=t,a=np(e,n,s);for(const{source:l,target:c,start:h,end:u}of a){const{style:{backgroundColor:d=o}={}}=l,g=n!==!0;i.save(),i.fillStyle=d,vp(i,r,g&&rs(s,h,u)),i.beginPath();const f=!!e.pathSegment(i,l);let p;if(g){f?i.closePath():Zo(i,n,u,s);const m=!!n.pathSegment(i,c,{move:f,reverse:!0});p=f&&m,p||Zo(i,n,h,s)}i.closePath(),i.fill(p?"evenodd":"nonzero"),i.restore()}}function vp(i,t,e){const{top:n,bottom:s}=t.chart.chartArea,{property:o,start:r,end:a}=e||{};o==="x"&&(i.beginPath(),i.rect(r,n,a-r,s-n),i.clip())}function Zo(i,t,e,n){const s=t.interpolate(e,n);s&&i.lineTo(s.x,s.y)}var wp={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,s=[];let o,r,a,l;for(r=0;r<n;++r)o=i.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof wn&&(l={visible:i.isDatasetVisible(r),index:r,fill:rp(a,r,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,s.push(l);for(r=0;r<n;++r)l=s[r],!(!l||l.fill===!1)&&(l.fill=op(s,r,e.propagate))},beforeDraw(i,t,e){const n=e.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let r=s.length-1;r>=0;--r){const a=s[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&jn(i.ctx,a,o))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const o=n[s].$filler;Ko(o)&&jn(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!Ko(n)||e.drawTime!=="beforeDatasetDraw"||jn(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Jo=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},kp=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Qo extends _e{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=mt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=At(n.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Jo(n,o);let c,h;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(r,o,a,l)+10):(h=this.maxHeight,c=this._fitCols(r,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a;let u=t;o.textAlign="left",o.textBaseline="middle";let d=-1,g=-h;return this.legendItems.forEach((f,p)=>{const m=n+e/2+o.measureText(f.text).width;(p===0||c[c.length-1]+m+2*a>r)&&(u+=h,c[c.length-(p>0?0:1)]=0,g+=h,d++),l[p]={left:0,top:g,row:d,width:m,height:s},c[c.length-1]+=m+a}),u}_fitCols(t,e,n,s){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=r-t;let u=a,d=0,g=0,f=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:_,itemHeight:w}=$p(n,e,o,m,s);b>0&&g+w+2*a>h&&(u+=d+a,c.push({width:d,height:g}),f+=d+a,p++,d=g=0),l[b]={left:f,top:g,col:p,width:_,height:w},d=Math.max(d,_),g+=w+a}),u+=d,c.push({width:d,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:o}}=this,r=Ye(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Tt(n,this.left+s,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Tt(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+s}else{let a=0,l=Tt(n,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Tt(n,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xn(t,this),this._draw(),yn(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:o,labels:r}=t,a=St.color,l=Ye(t.rtl,this.left,this.width),c=At(r.font),{padding:h}=r,u=c.size,d=u/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=Jo(r,u),b=function(D,S,k){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;s.save();const A=G(k.lineWidth,1);if(s.fillStyle=G(k.fillStyle,a),s.lineCap=G(k.lineCap,"butt"),s.lineDashOffset=G(k.lineDashOffset,0),s.lineJoin=G(k.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=G(k.strokeStyle,a),s.setLineDash(G(k.lineDash,[])),r.usePointStyle){const C={radius:p*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:A},P=l.xPlus(D,f/2),O=S+d;Kr(s,C,P,O,r.pointStyleWidth&&f)}else{const C=S+Math.max((u-p)/2,0),P=l.leftForLtr(D,f),O=Re(k.borderRadius);s.beginPath(),Object.values(O).some(F=>F!==0)?wi(s,{x:P,y:C,w:f,h:p,radius:O}):s.rect(P,C,f,p),s.fill(),A!==0&&s.stroke()}s.restore()},_=function(D,S,k){ze(s,k.text,D,S+m/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},w=this.isHorizontal(),y=this._computeTitleHeight();w?g={x:Tt(o,this.left+h,this.right-n[0]),y:this.top+h+y,line:0}:g={x:this.left+h,y:Tt(o,this.top+y+h,this.bottom-e[0].height),line:0},ia(this.ctx,t.textDirection);const x=m+h;this.legendItems.forEach((D,S)=>{s.strokeStyle=D.fontColor,s.fillStyle=D.fontColor;const k=s.measureText(D.text).width,A=l.textAlign(D.textAlign||(D.textAlign=r.textAlign)),C=f+d+k;let P=g.x,O=g.y;l.setWidth(this.width),w?S>0&&P+C+h>this.right&&(O=g.y+=x,g.line++,P=g.x=Tt(o,this.left+h,this.right-n[g.line])):S>0&&O+x>this.bottom&&(P=g.x=P+e[g.line].width+h,g.line++,O=g.y=Tt(o,this.top+y+h,this.bottom-e[g.line].height));const F=l.x(P);if(b(F,O,D),P=Ru(A,P+f+d,w?P+C:this.right,t.rtl),_(l.x(P),O,D),w)g.x+=C+h;else if(typeof D.text!="string"){const Y=c.lineHeight;g.y+=Pa(D,Y)+h}else g.y+=x}),na(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=At(e.font),s=Ft(e.padding);if(!e.display)return;const o=Ye(t.rtl,this.left,this.width),r=this.ctx,a=e.position,l=n.size/2,c=s.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=Tt(t.align,u,this.right-d);else{const f=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);h=c+Tt(t.align,this.top,this.bottom-f-t.labels.padding-this._computeTitleHeight())}const g=Tt(a,u,u+d);r.textAlign=o.textAlign(xs(a)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,ze(r,e.text,g,h,n)}_computeTitleHeight(){const t=this.options.title,e=At(t.font),n=Ft(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,o;if(de(t,this.left,this.right)&&de(e,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],de(t,s.left,s.left+s.width)&&de(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!Mp(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=kp(s,n);s&&!o&&mt(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!o&&mt(e.onHover,[t,n,this],this)}else n&&mt(e.onClick,[t,n,this],this)}}function $p(i,t,e,n,s){const o=Sp(n,i,t,e),r=Cp(s,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function Sp(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((o,r)=>o.length>r.length?o:r)),t+e.size/2+n.measureText(s).width}function Cp(i,t,e){let n=i;return typeof t.text!="string"&&(n=Pa(t,e)),n}function Pa(i,t){const e=i.text?i.text.length:0;return t*e}function Mp(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var Pp={id:"legend",_element:Qo,start(i,t,e){const n=i.legend=new Qo({ctx:i.ctx,options:e,chart:i});Et.configure(i,n,e),Et.addBox(i,n)},stop(i){Et.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;Et.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:o,useBorderRadius:r,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=Ft(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Ds extends _e{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=bt(n.text)?n.text.length:1;this._padding=Ft(n.padding);const o=s*At(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:s,right:o,options:r}=this,a=r.align;let l=0,c,h,u;return this.isHorizontal()?(h=Tt(a,n,o),u=e+t,c=o-n):(r.position==="left"?(h=n+t,u=Tt(a,s,e),l=xt*-.5):(h=o-t,u=Tt(a,e,s),l=xt*.5),c=s-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=At(e.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);ze(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:c,textAlign:xs(e.align),textBaseline:"middle",translation:[r,a]})}}function Ap(i,t){const e=new Ds({ctx:i.ctx,options:t,chart:i});Et.configure(i,e,t),Et.addBox(i,e),i.titleBlock=e}var Dp={id:"title",_element:Ds,start(i,t,e){Ap(i,e)},stop(i){const t=i.titleBlock;Et.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;Et.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vi=new WeakMap;var Op={id:"subtitle",start(i,t,e){const n=new Ds({ctx:i.ctx,options:e,chart:i});Et.configure(i,n,e),Et.addBox(i,n),Vi.set(i,n)},stop(i){Et.removeBox(i,Vi.get(i)),Vi.delete(i)},beforeUpdate(i,t,e){const n=Vi.get(i);Et.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const li={average(i){if(!i.length)return!1;let t,e,n=0,s=0,o=0;for(t=0,e=i.length;t<e;++t){const r=i[t].element;if(r&&r.hasValue()){const a=r.tooltipPosition();n+=a.x,s+=a.y,++o}}return{x:n/o,y:s/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=i.length;o<r;++o){const l=i[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Qn(t,c);h<s&&(s=h,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function te(i,t){return t&&(bt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function ce(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Lp(i,t){const{element:e,datasetIndex:n,index:s}=t,o=i.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:i,label:r,parsed:o.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function tr(i,t){const e=i.chart.ctx,{body:n,footer:s,title:o}=i,{boxWidth:r,boxHeight:a}=t,l=At(t.bodyFont),c=At(t.titleFont),h=At(t.footerFont),u=o.length,d=s.length,g=n.length,f=Ft(t.padding);let p=f.height,m=0,b=n.reduce((y,x)=>y+x.before.length+x.lines.length+x.after.length,0);if(b+=i.beforeBody.length+i.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),b){const y=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=g*y+(b-g)*l.lineHeight+(b-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let _=0;const w=function(y){m=Math.max(m,e.measureText(y).width+_)};return e.save(),e.font=c.string,ft(i.title,w),e.font=l.string,ft(i.beforeBody.concat(i.afterBody),w),_=t.displayColors?r+2+t.boxPadding:0,ft(n,y=>{ft(y.before,w),ft(y.lines,w),ft(y.after,w)}),_=0,e.font=h.string,ft(i.footer,w),e.restore(),m+=f.width,{width:m,height:p}}function Tp(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function Ep(i,t,e,n){const{x:s,width:o}=n,r=e.caretSize+e.caretPadding;if(i==="left"&&s+o+r>t.width||i==="right"&&s-o-r<0)return!0}function Rp(i,t,e,n){const{x:s,width:o}=e,{width:r,chartArea:{left:a,right:l}}=i;let c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),Ep(c,i,t,e)&&(c="center"),c}function er(i,t,e){const n=e.yAlign||t.yAlign||Tp(i,e);return{xAlign:e.xAlign||t.xAlign||Rp(i,t,e,n),yAlign:n}}function Ip(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Fp(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function ir(i,t,e,n){const{caretSize:s,caretPadding:o,cornerRadius:r}=i,{xAlign:a,yAlign:l}=e,c=s+o,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:g}=Re(r);let f=Ip(t,a);const p=Fp(t,l,c);return l==="center"?a==="left"?f+=c:a==="right"&&(f-=c):a==="left"?f-=Math.max(h,d)+s:a==="right"&&(f+=Math.max(u,g)+s),{x:Ot(f,0,n.width-t.width),y:Ot(p,0,n.height-t.height)}}function Hi(i,t,e){const n=Ft(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function nr(i){return te([],ce(i))}function zp(i,t,e){return Se(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function sr(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Aa={beforeTitle:ae,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ae,beforeBody:ae,beforeLabel:ae,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return rt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ae,afterBody:ae,beforeFooter:ae,footer:ae,afterFooter:ae};function Bt(i,t,e,n){const s=i[t].call(e,n);return typeof s>"u"?Aa[t].call(e,n):s}class or extends _e{static positioners=li;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&e.options.animation&&n.animations,o=new aa(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=zp(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,s=Bt(n,"beforeTitle",this,t),o=Bt(n,"title",this,t),r=Bt(n,"afterTitle",this,t);let a=[];return a=te(a,ce(s)),a=te(a,ce(o)),a=te(a,ce(r)),a}getBeforeBody(t,e){return nr(Bt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,s=[];return ft(t,o=>{const r={before:[],lines:[],after:[]},a=sr(n,o);te(r.before,ce(Bt(a,"beforeLabel",this,o))),te(r.lines,Bt(a,"label",this,o)),te(r.after,ce(Bt(a,"afterLabel",this,o))),s.push(r)}),s}getAfterBody(t,e){return nr(Bt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,s=Bt(n,"beforeFooter",this,t),o=Bt(n,"footer",this,t),r=Bt(n,"afterFooter",this,t);let a=[];return a=te(a,ce(s)),a=te(a,ce(o)),a=te(a,ce(r)),a}_createItems(t){const e=this._active,n=this.chart.data,s=[],o=[],r=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(Lp(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,d)=>t.filter(h,u,d,n))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,n))),ft(a,h=>{const u=sr(t.callbacks,h);s.push(Bt(u,"labelColor",this,h)),o.push(Bt(u,"labelPointStyle",this,h)),r.push(Bt(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,e){const n=this.options.setContext(this.getContext()),s=this._active;let o,r=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const a=li[n.position].call(this,s,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=tr(this,n),c=Object.assign({},a,l),h=er(this.chart,n,c),u=ir(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,s){const o=this.getCaretPosition(t,n,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,n){const{xAlign:s,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=Re(a),{x:d,y:g}=t,{width:f,height:p}=e;let m,b,_,w,y,x;return o==="center"?(y=g+p/2,s==="left"?(m=d,b=m-r,w=y+r,x=y-r):(m=d+f,b=m+r,w=y-r,x=y+r),_=m):(s==="left"?b=d+Math.max(l,h)+r:s==="right"?b=d+f-Math.max(c,u)-r:b=this.caretX,o==="top"?(w=g,y=w-r,m=b-r,_=b+r):(w=g+p,y=w+r,m=b+r,_=b-r),x=w),{x1:m,x2:b,x3:_,y1:w,y2:y,y3:x}}drawTitle(t,e,n){const s=this.title,o=s.length;let r,a,l;if(o){const c=Ye(n.rtl,this.x,this.width);for(t.x=Hi(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",r=At(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,l=0;l<o;++l)e.fillText(s[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,s,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,h=At(o.bodyFont),u=Hi(this,"left",o),d=s.x(u),g=l<h.lineHeight?(h.lineHeight-l)/2:0,f=e.y+g;if(o.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(d,c)+c/2,b=f+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,es(t,p,m,b),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,es(t,p,m,b)}else{t.lineWidth=nt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const p=s.leftForLtr(d,c),m=s.leftForLtr(s.xPlus(d,1),c-2),b=Re(r.borderRadius);Object.values(b).some(_=>_!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,wi(t,{x:p,y:f,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),wi(t,{x:m,y:f+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(p,f,c,l),t.strokeRect(p,f,c,l),t.fillStyle=r.backgroundColor,t.fillRect(m,f+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:s}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=n,u=At(n.bodyFont);let d=u.lineHeight,g=0;const f=Ye(n.rtl,this.x,this.width),p=function(k){e.fillText(k,f.x(t.x+g),t.y+d/2),t.y+=d+o},m=f.textAlign(r);let b,_,w,y,x,D,S;for(e.textAlign=r,e.textBaseline="middle",e.font=u.string,t.x=Hi(this,m,n),e.fillStyle=n.bodyColor,ft(this.beforeBody,p),g=a&&m!=="right"?r==="center"?c/2+h:c+2+h:0,y=0,D=s.length;y<D;++y){for(b=s[y],_=this.labelTextColors[y],e.fillStyle=_,ft(b.before,p),w=b.lines,a&&w.length&&(this._drawColorBox(e,t,y,f,n),d=Math.max(u.lineHeight,l)),x=0,S=w.length;x<S;++x)p(w[x]),d=u.lineHeight;ft(b.after,p)}g=0,d=u.lineHeight,ft(this.afterBody,p),t.y-=o}drawFooter(t,e,n){const s=this.footer,o=s.length;let r,a;if(o){const l=Ye(n.rtl,this.x,this.width);for(t.x=Hi(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",r=At(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,a=0;a<o;++a)e.fillText(s[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,s){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:h}=n,{topLeft:u,topRight:d,bottomLeft:g,bottomRight:f}=Re(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+u,l),r==="top"&&this.drawCaret(t,e,n,s),e.lineTo(a+c-d,l),e.quadraticCurveTo(a+c,l,a+c,l+d),r==="center"&&o==="right"&&this.drawCaret(t,e,n,s),e.lineTo(a+c,l+h-f),e.quadraticCurveTo(a+c,l+h,a+c-f,l+h),r==="bottom"&&this.drawCaret(t,e,n,s),e.lineTo(a+g,l+h),e.quadraticCurveTo(a,l+h,a,l+h-g),r==="center"&&o==="left"&&this.drawCaret(t,e,n,s),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,s=n&&n.x,o=n&&n.y;if(s||o){const r=li[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=tr(this,t),l=Object.assign({},r,this._size),c=er(e,t,l),h=ir(t,l,c,e);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Ft(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,s,e),ia(t,e.textDirection),o.y+=r.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),na(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!sn(n,s),r=this._positionChanged(s,e);(o||r)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],r=this._getActiveElements(t,o,e,n),a=this._positionChanged(r,t),l=e||!sn(r,o)||a;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:s,options:o}=this,r=li[o.position].call(this,t,e);return r!==!1&&(n!==r.x||s!==r.y)}}var Bp={id:"tooltip",_element:or,positioners:li,afterInit(i,t,e){e&&(i.tooltip=new or({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Aa},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Np=Object.freeze({__proto__:null,Colors:Jg,Decimation:ip,Filler:wp,Legend:Pp,SubTitle:Op,Title:Dp,Tooltip:Bp});const Wp=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function jp(i,t,e,n){const s=i.indexOf(t);if(s===-1)return Wp(i,t,e,n);const o=i.lastIndexOf(t);return s!==o?e:s}const Vp=(i,t)=>i===null?null:Ot(Math.round(i),0,t);function rr(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class Hp extends Be{static id="category";static defaults={ticks:{callback:rr}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:s,label:o}of e)n[s]===o&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(rt(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:jp(n,t,G(e,t),this._addedLabels),Vp(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=e;r++)s.push({value:r});return s}getLabelForValue(t){return rr.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Yp(i,t){const e=[],{bounds:s,step:o,min:r,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=i,g=o||1,f=h-1,{min:p,max:m}=t,b=!rt(r),_=!rt(a),w=!rt(c),y=(m-p)/(u+1);let x=Js((m-p)/f/g)*g,D,S,k,A;if(x<1e-14&&!b&&!_)return[{value:p},{value:m}];A=Math.ceil(m/x)-Math.floor(p/x),A>f&&(x=Js(A*x/f/g)*g),rt(l)||(D=Math.pow(10,l),x=Math.ceil(x*D)/D),s==="ticks"?(S=Math.floor(p/x)*x,k=Math.ceil(m/x)*x):(S=p,k=m),b&&_&&o&&Pu((a-r)/o,x/1e3)?(A=Math.round(Math.min((a-r)/x,h)),x=(a-r)/A,S=r,k=a):w?(S=b?r:S,k=_?a:k,A=c-1,x=(k-S)/A):(A=(k-S)/x,ui(A,Math.round(A),x/1e3)?A=Math.round(A):A=Math.ceil(A));const C=Math.max(Qs(x),Qs(S));D=Math.pow(10,rt(l)?C:l),S=Math.round(S*D)/D,k=Math.round(k*D)/D;let P=0;for(b&&(d&&S!==r?(e.push({value:r}),S<r&&P++,ui(Math.round((S+P*x)*D)/D,r,ar(r,y,i))&&P++):S<r&&P++);P<A;++P){const O=Math.round((S+P*x)*D)/D;if(_&&O>a)break;e.push({value:O})}return _&&d&&k!==a?e.length&&ui(e[e.length-1].value,a,ar(a,y,i))?e[e.length-1].value=a:e.push({value:a}):(!_||k===a)&&e.push({value:k}),e}function ar(i,t,{horizontal:e,minRotation:n}){const s=Zt(n),o=(e?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+i).length;return Math.min(t/o,r)}class un extends Be{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return rt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this;const r=l=>s=e?s:l,a=l=>o=n?o:l;if(t){const l=ie(s),c=ie(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(s===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(s-l)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,r=Yp(s,o);return t.bounds==="ticks"&&Br(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Pi(t,this.chart.options.locale,this.options.ticks.format)}}class Up extends un{static id="linear";static defaults={ticks:{callback:_n.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$t(t)?t:0,this.max=$t(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Zt(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const $i=i=>Math.floor(ye(i)),De=(i,t)=>Math.pow(10,$i(i)+t);function lr(i){return i/Math.pow(10,$i(i))===1}function cr(i,t,e){const n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function Xp(i,t){const e=t-i;let n=$i(e);for(;cr(i,t,n)>10;)n++;for(;cr(i,t,n)<10;)n--;return Math.min(n,$i(i))}function Kp(i,{min:t,max:e}){t=Ht(i.min,t);const n=[],s=$i(t);let o=Xp(t,e),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=s>o?Math.pow(10,s):0,c=Math.round((t-l)*r)/r,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,o)),d=Ht(i.min,Math.round((l+h+u*Math.pow(10,o))*r)/r);for(;d<e;)n.push({value:d,major:lr(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,r=o>=0?1:r),d=Math.round((l+h+u*Math.pow(10,o))*r)/r;const g=Ht(i.max,d);return n.push({value:g,major:lr(g),significand:u}),n}class qp extends Be{static id="logarithmic";static defaults={ticks:{callback:_n.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=un.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return $t(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$t(t)?Math.max(0,t):null,this.max=$t(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$t(this._userMin)&&(this.min=t===De(this.min,0)?De(this.min,-1):De(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,s=this.max;const o=a=>n=t?n:a,r=a=>s=e?s:a;n===s&&(n<=0?(o(1),r(10)):(o(De(n,-1)),r(De(s,1)))),n<=0&&o(De(s,-1)),s<=0&&r(De(n,1)),this.min=n,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Kp(e,this);return t.bounds==="ticks"&&Br(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Pi(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ye(t),this._valueRange=ye(this.max)-ye(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ye(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function as(i){const t=i.ticks;if(t.display&&i.display){const e=Ft(t.backdropPadding);return G(t.font&&t.font.size,St.font.size)+e.height}return 0}function Gp(i,t,e){return e=bt(e)?e:[e],{w:Yu(i,t.string,e),h:e.length*t.lineHeight}}function hr(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function Zp(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],o=i._pointLabels.length,r=i.options.pointLabels,a=r.centerPointLabels?xt/o:0;for(let l=0;l<o;l++){const c=r.setContext(i.getPointLabelContext(l));s[l]=c.padding;const h=i.getPointPosition(l,i.drawingArea+s[l],a),u=At(c.font),d=Gp(i.ctx,u,i._pointLabels[l]);n[l]=d;const g=Yt(i.getIndexAngle(l)+a),f=Math.round(bs(g)),p=hr(f,h.x,d.w,0,180),m=hr(f,h.y,d.h,90,270);Jp(e,t,g,p,m)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=em(i,n,s)}function Jp(i,t,e,n,s){const o=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,i.t=Math.min(i.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,i.b=Math.max(i.b,t.b+l))}function Qp(i,t,e){const n=i.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=e,l=i.getPointPosition(t,n+s+r,o),c=Math.round(bs(Yt(l.angle+Mt))),h=sm(l.y,a.h,c),u=im(c),d=nm(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function tm(i,t){if(!t)return!0;const{left:e,top:n,right:s,bottom:o}=i;return!(ge({x:e,y:n},t)||ge({x:e,y:o},t)||ge({x:s,y:n},t)||ge({x:s,y:o},t))}function em(i,t,e){const n=[],s=i._pointLabels.length,o=i.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:as(o)/2,additionalAngle:r?xt/s:0};let c;for(let h=0;h<s;h++){l.padding=e[h],l.size=t[h];const u=Qp(i,h,l);n.push(u),a==="auto"&&(u.visible=tm(u,c),u.visible&&(c=u))}return n}function im(i){return i===0||i===180?"center":i<180?"left":"right"}function nm(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function sm(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function om(i,t,e){const{left:n,top:s,right:o,bottom:r}=e,{backdropColor:a}=t;if(!rt(a)){const l=Re(t.borderRadius),c=Ft(t.backdropPadding);i.fillStyle=a;const h=n-c.left,u=s-c.top,d=o-n+c.width,g=r-s+c.height;Object.values(l).some(f=>f!==0)?(i.beginPath(),wi(i,{x:h,y:u,w:d,h:g,radius:l}),i.fill()):i.fillRect(h,u,d,g)}}function rm(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){const o=i._pointLabelItems[s];if(!o.visible)continue;const r=n.setContext(i.getPointLabelContext(s));om(e,r,o);const a=At(r.font),{x:l,y:c,textAlign:h}=o;ze(e,i._pointLabels[s],l,c+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"})}}function Da(i,t,e,n){const{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,_t);else{let o=i.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=i.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function am(i,t,e,n,s){const o=i.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),Da(i,e,r,n),o.closePath(),o.stroke(),o.restore())}function lm(i,t,e){return Se(i,{label:e,index:t,type:"pointLabel"})}class cm extends un{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_n.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ft(as(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=$t(t)&&!isNaN(t)?t:0,this.max=$t(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/as(this.options))}generateTickLabels(t){un.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const s=mt(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Zp(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){const e=_t/(this._pointLabels.length||1),n=this.options.startAngle||0;return Yt(t*e+Zt(n))}getDistanceFromCenterForValue(t){if(rt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(rt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return lm(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const s=this.getIndexAngle(t)-Mt+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Da(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:s,border:o}=e,r=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&rm(this,r),s.display&&this.ticks.forEach((h,u)=>{if(u!==0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),g=s.setContext(d),f=o.setContext(d);am(this,g,l,r,f)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const h=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!e.reverse)return;const c=n.setContext(this.getContext(l)),h=At(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=Ft(c.backdropPadding);t.fillRect(-r/2-u.left,-o-h.size/2-u.top,r+u.width,h.size+u.height)}ze(t,a.label,0,-o,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(kn);function ur(i,t){return i-t}function dr(i,t){if(rt(t))return null;const e=i._adapter,{parser:n,round:s,isoWeekday:o}=i._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),$t(r)||(r=typeof n=="string"?e.parse(r,n):e.parse(r)),r===null?null:(s&&(r=s==="week"&&(Ke(o)||o===!0)?e.startOf(r,"isoWeek",o):e.startOf(r,s)),+r)}function fr(i,t,e,n){const s=Nt.length;for(let o=Nt.indexOf(i);o<s-1;++o){const r=kn[Nt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-t)/(a*r.size))<=n)return Nt[o]}return Nt[s-1]}function hm(i,t,e,n,s){for(let o=Nt.length-1;o>=Nt.indexOf(e);o--){const r=Nt[o];if(kn[r].common&&i._adapter.diff(s,n,r)>=t-1)return r}return Nt[e?Nt.indexOf(e):0]}function um(i){for(let t=Nt.indexOf(i)+1,e=Nt.length;t<e;++t)if(kn[Nt[t]].common)return Nt[t]}function gr(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:s}=_s(e,t),o=e[n]>=t?e[n]:e[s];i[o]=!0}}function dm(i,t,e,n){const s=i._adapter,o=+s.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+s.add(a,1,n))l=e[a],l>=0&&(t[l].major=!0);return t}function pr(i,t,e){const n=[],s={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,n.push({value:a,major:!1});return o===0||!e?n:dm(i,n,s,e)}class ls extends Be{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),s=this._adapter=new gf._date(t.adapters.date);s.init(e),hi(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:dr(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:s,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=$t(s)&&!isNaN(s)?s:+e.startOf(Date.now(),n),o=$t(o)&&!isNaN(o)?o:+e.endOf(Date.now(),n)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,r=this.max,a=Lu(s,o,r);return this._unit=e.unit||(n.autoSkip?fr(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):hm(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:um(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),pr(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;e=Ot(e,0,r),n=Ot(n,0,r),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,s=this.options,o=s.time,r=o.unit||fr(o.minUnit,e,n,this._getLabelCapacity(e)),a=G(s.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Ke(l)||l===!0,h={};let u=e,d,g;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":r),t.diff(n,e,r)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+r);const f=s.ticks.source==="data"&&this.getDataTimestamps();for(d=u,g=0;d<n;d=+t.add(d,a,r),g++)gr(h,d,f);return(d===n||s.bounds==="ticks"||g===1)&&gr(h,d,f),Object.keys(h).sort(ur).map(p=>+p)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,r=e||s[o];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,s){const o=this.options,r=o.ticks.callback;if(r)return mt(r,[t,e,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=n[e],g=c&&u&&d&&d.major;return this._adapter.format(t,s||(g?u:h))}generateTickLabels(t){let e,n,s;for(e=0,n=t.length;e<n;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,s=Zt(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,s=n[e.unit]||n.millisecond,o=this._tickFormatFunction(t,0,pr(this,[t],this._majorUnit),s),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,n=s.length;e<n;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const s=this.getLabels();for(e=0,n=s.length;e<n;++e)t.push(dr(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return jr(t.sort(ur))}}function Yi(i,t,e){let n=0,s=i.length-1,o,r,a,l;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=fe(i,"pos",t)),{pos:o,time:a}=i[n],{pos:r,time:l}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=fe(i,"time",t)),{time:o,pos:a}=i[n],{time:r,pos:l}=i[s]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class fm extends ls{static id="timeseries";static defaults=ls.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Yi(e,this.min),this._tableRange=Yi(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,s=[],o=[];let r,a,l,c,h;for(r=0,a=t.length;r<a;++r)c=t[r],c>=e&&c<=n&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,a=s.length;r<a;++r)h=s[r+1],l=s[r-1],c=s[r],Math.round((h+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Yi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Yi(this._table,n*this._tableRange+this._minPos,!0)}}var gm=Object.freeze({__proto__:null,CategoryScale:Hp,LinearScale:Up,LogarithmicScale:qp,RadialLinearScale:cm,TimeScale:ls,TimeSeriesScale:fm});const pm=[ff,Ug,Np,gm];gi.register(...pm);var mm=M('<div class="action-options gap-5 pb-4"><div class=action><span class=material-icons>arrow_back</span></div><div class=action-options-text><h1 class=m-0>'),Vn=M("<div class=flex-reactive><canvas>"),bm=M('<a target=_blank referrerpolicy=no-referrer class="flex items-center gap-2 opacity-80 hover:opacity-100"><img class="w-8 h-8 rounded-full inline-block border bg-black"alt=🚫ico><span class=underline>Instructions'),_m=M('<div class="display-box flex-col"><div class="flex-reactive justify-between"><div class="flex flex-col gap-4 pb-2"><h1 class=m-0></h1></div></div><div class="flex flex-col gap-4">'),xm=M('<div class=container><div class="py-4 flex flex-col gap-2"><small class=px-2>Exercise Progress'),ym=M("<div class=pt-10>");function vm(){const[i]=Ut(qt),t=se(),e=Je(),[n,s]=R(""),[o,r]=R({}),a=new me({workout_id:e.workout_id},i.getWorkoutLogs);It(()=>{a.data.loading===!1&&(a.data().status==="unauthorized"&&t("/login"),s(a.get("name")),r(a.get("Exercises")))});function l(){return(()=>{var p=mm(),m=p.firstChild,b=m.nextSibling,_=b.firstChild;return m.$$click=()=>{t("/workouts")},$(_,()=>i.truncate(n(),45)),p})()}function c(p){return Te(()=>{const m=document.getElementById(`${p.exercise_id}_rep_chart`),b=Array.from({length:p.rep_logs.length},(y,x)=>x+1),_=Math.max(...p.rep_logs),w=Math.min(...p.rep_logs);new gi(m,{type:"line",data:{labels:b,datasets:[{label:"Reps",data:p.rep_logs,fill:!1,borderColor:"rgba(192,75,192,0.8)",backgroundColor:"rgba(192,75,192,0.8)",tension:.1}]},options:{legend:{display:!1},tooltips:{enabled:!1},scales:{y:{ticks:{callback:function(y,x,D){return y+" Reps"},stepSize:1},min:w-1,max:_+1},x:{ticks:{callback:function(y,x,D){return"Set Log "+(y+1)}}}}}})}),(()=>{var m=Vn(),b=m.firstChild;return ut(()=>Pt(b,"id",`${p.exercise_id}_rep_chart`)),m})()}function h(p){return Te(()=>{const m=document.getElementById(`${p.exercise_id}_weight_chart`),b=Array.from({length:p.weight_logs.length},(y,x)=>x+1),_=Math.max(...p.weight_logs),w=Math.min(...p.weight_logs);new gi(m,{type:"line",data:{labels:b,datasets:[{label:"Weight (Kg)",data:p.weight_logs,fill:!1,borderColor:"rgba(75,192,192,0.8)",backgroundColor:"rgba(75,192,192,0.8)",tension:.1}]},options:{scales:{y:{ticks:{callback:function(y,x,D){return y+" Kg"},stepSize:1},min:w>=1?w-1:0,max:_+1},x:{ticks:{callback:function(y,x,D){return"Set Log "+(y+1)}}}}}})}),(()=>{var m=Vn(),b=m.firstChild;return ut(()=>Pt(b,"id",`${p.exercise_id}_weight_chart`)),m})()}function u(p){return Te(()=>{const m=document.getElementById(`${p.exercise_id}_duration_chart`),b={type:"line",data:{labels:Array.from({length:p.duration_logs.length},(_,w)=>w+1),datasets:[{label:"Duration",data:p.duration_logs,fill:!1,borderColor:"rgba(140,0,255,0.8)",backgroundColor:"rgba(140,0,255,0.8)",tension:.1}]},options:{scales:{y:{ticks:{callback:function(_,w,y){return i.fancyTimeFormat(_)}}},x:{ticks:{callback:function(_,w,y){return"Set Log "+(_+1)}}}}}};new gi(m,b)}),(()=>{var m=Vn(),b=m.firstChild;return ut(()=>Pt(b,"id",`${p.exercise_id}_duration_chart`)),m})()}function d(p){const[m,b]=R([]),[_,w]=R([]),[y,x]=R([]),[D,S]=R(0),[k,A]=R(0),[C,P]=R(0);for(const O of p.logs)b([...m(),i.gramsToKgs(O.weight)]),w([..._(),O.reps]),x([...y(),O.duration]),S(D()+parseInt(O.weight)),A(k()+parseInt(O.reps)),P(C()+parseInt(O.duration));return[W((()=>{var O=W(()=>k()>0);return()=>O()?v(c,{get exercise_id(){return p.exercise_id},get rep_logs(){return _()}}):""})()),W((()=>{var O=W(()=>C()>0);return()=>O()?v(u,{get exercise_id(){return p.exercise_id},get duration_logs(){return y()}}):""})()),W((()=>{var O=W(()=>D()>0);return()=>O()?v(h,{get exercise_id(){return p.exercise_id},get weight_logs(){return m()}}):""})())]}function g(){return v(Ue,{get each(){return o()},children:(p,m)=>(()=>{var b=_m(),_=b.firstChild,w=_.firstChild,y=w.firstChild,x=_.nextSibling;return $(y,()=>p.name),$(w,v(z,{get when(){return p.info_url!==null&&p.info_url!==""&&p.info_url!==void 0},get children(){var D=bm(),S=D.firstChild;return ut(k=>{var A=p.info_url,C=p.info_url_favicon;return A!==k.e&&Pt(D,"href",k.e=A),C!==k.t&&Pt(S,"src",k.t=C),k},{e:void 0,t:void 0}),D}}),null),$(x,v(d,{get exercise_id(){return p.exercise_id},get logs(){return p.logs}})),b})()})}function f(){return(()=>{var p=xm(),m=p.firstChild;return m.firstChild,$(p,v(l,{}),m),$(m,v(g,{}),null),p})()}return[v(Ci,{}),W((()=>{var p=W(()=>!!a.data.loading);return()=>p()?(()=>{var m=ym();return $(m,v(oe,{})),m})():v(f,{})})())]}Xt(["click"]);const wm="/assets/screenshot-large-2c9744d2.png",km="/assets/screenshot-home-d08f27ae.png",$m="/assets/screenshot-logs-f25507d9.png";var Sm=M('<button class="flex rounded-full"><span class=material-icons-round>light_mode'),Cm=M('<button class="flex rounded-full"><span class=material-icons-round>dark_mode'),Mm=M('<div class=container><div class="text-center p-10"><h1 class="text-6xl mb-5">💪 I Do Sets</h1><p>A workout app focused on doing sets.</p><button type=button class="button-good mt-10">Login / Signup</button></div><div class="flex justify-center">'),Pm=M('<div class=container><img class="w-full rounded-lg shadow-2xl mb-4"alt="Screenshot of setting a workout">'),Am=M('<div class="container flex justify-center fp-screenshots"><img class="rounded-lg w-full m-4 shadow-2xl mb-4"alt="Screenshot of the workouts page"><img class="rounded-lg w-full m-4 shadow-2xl mb-4"alt="Screenshot of workout logs">'),Dm=M('<div class="flex flex-col gap-2 text-sm text-center p-8"xmlns:cc=http://creativecommons.org/ns# xmlns:dct=http://purl.org/dc/terms/><p class=opacity-70><a property=dct:title rel=cc:attributionURL href=https://idosets.app>idosets.app</a> is licensed under</p><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1"target=_blank rel="license noopener noreferrer"class="flex justify-center underline opacity-70 hover:opacity-90">CC BY-NC-ND 4.0</a></p><div class="flex flex-row justify-center pb-4"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom; src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1"></div><p><a class="underline opacity-70 hover:opacity-90"href=https://github.com/CheeseCake87/idosets.app target=_blank> GitHub'),Om=M('<div class="container text-sm p-8"><h3 class="text-center pb-4">The boring stuff...</h3><h4>Privacy Policy</h4><p>This app stores the following personal information</p><ul class="list-disc p-5"><li>Email Address</li><li>Workout Data</li></ul><p class=pb-2>This data is stored in a secure database and is not, and will never be shared with any third party.</p><p>To delete your account, login, then navigate to Account, then Delete Account. Your email address, workouts, and workout logs will be completely deleted. There is no way of reversing this.</p><h4 class=mt-6>Cookie Policy</h4><p>This app uses cookies to store your login session data. The following values are stored on your computer in order for this website to work:</p><ul class="list-disc p-5"><li>[authentication markers]</li><li>theme</li><li>units</li></ul><p>This website does not directly use third party cookies. However, when storing a workout instruction link, the system will find the favicon of the website entered. This link may attempt to set third party cookies on your computer (youtube will attempt this). Using the Google Chrome web browser will block this.</p><h4 class=mt-6>Terms and Conditions</h4><p>By using this website, you agree to the following:</p><ul class="list-disc p-5"><li>You will not use this website for any illegal activity</li><li>You will not attempt to use this website to harm others</li></ul><p class=pb-2>This site is under the jurisdiction of the United Kingdom, by using this site you agree to settle any legal matters within the United Kingdom.</p><p>This site does not address persons under the age of 13; You are not to use this site if you are under this age. If you are the parent or guardian of an account found to be on this site which has been made by a person of this age please login to the account, navigate to Account, then Delete Account.');function Lm(){const i="",[t,e]=R("dark");async function n(a){const l=await fetch(a,{credentials:"include",method:"GET"});if(l.ok)return await l.json()}async function s(){return await n(`${i}/api/get/theme`)}async function o(a){return await n(`${i}/api/set/theme/${a}`)}let r;return Te(()=>{r=document.querySelector("html"),s().then(a=>{e(a.theme)})}),It(()=>{r.setAttribute("data-theme",t())}),[(()=>{var a=Mm(),l=a.firstChild,c=l.firstChild,h=c.nextSibling,u=h.nextSibling,d=l.nextSibling;return u.$$click=()=>{window.location.href="/login"},$(d,v(z,{get when(){return t()==="dark"},get children(){var g=Sm();return g.$$click=()=>{o("light").then(f=>{e(f.theme)})},g}}),null),$(d,v(z,{get when(){return t()==="light"},get children(){var g=Cm();return g.$$click=()=>{o("dark").then(f=>{e(f.theme)})},g}}),null),a})(),(()=>{var a=Pm(),l=a.firstChild;return Pt(l,"src",wm),a})(),(()=>{var a=Am(),l=a.firstChild,c=l.nextSibling;return Pt(l,"src",km),Pt(c,"src",$m),a})(),Dm(),Om()]}Xt(["click"]);const Tm=document.getElementById("root");nl(()=>v(zl,{get children(){return v(Bl,{get children(){return[v(Gt,{path:"/",component:Lm}),v(Gt,{path:"",component:Zl,get children(){return[v(Gt,{path:"/auth/:account_id/:auth_code",component:Pc}),v(Gt,{path:"/login",component:vc}),v(Gt,{path:"/account",component:rh}),v(Gt,{path:"/account/delete/:account_id/:auth_code",component:dh}),v(Gt,{path:"/workouts",component:gc}),v(Gt,{path:"/workout/:workout_id",component:zc}),v(Gt,{path:"/workout/:workout_id/exercise/:exercise_id",component:Zc}),v(Gt,{path:"/workout/:workout_id/logs",component:vm}),v(Gt,{path:"/workout/:workout_id/session/:workout_session_id",component:qh})]}})]}})}}),Tm);
